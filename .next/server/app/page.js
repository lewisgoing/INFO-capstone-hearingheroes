(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4770:e=>{"use strict";e.exports=require("crypto")},665:e=>{"use strict";e.exports=require("dns")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8216:e=>{"use strict";e.exports=require("net")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},5816:e=>{"use strict";e.exports=require("process")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},5921:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>a.a,__next_app__:()=>h,originalPathname:()=>d,pages:()=>u,routeModule:()=>p,tree:()=>c}),n(8462),n(7277),n(996);var i=n(170),r=n(5002),s=n(3876),a=n.n(s),o=n(6299),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);n.d(t,l);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,8462)),"/Users/lewisgoing/INFO-capstone-hearingheroes/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(n.bind(n,7277)),"/Users/lewisgoing/INFO-capstone-hearingheroes/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,996,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/lewisgoing/INFO-capstone-hearingheroes/app/page.tsx"],d="/page",h={require:n,loadChunk:()=>Promise.resolve()},p=new i.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4211:(e,t,n)=>{Promise.resolve().then(n.bind(n,4977)),Promise.resolve().then(n.bind(n,9304)),Promise.resolve().then(n.bind(n,4146))},4977:(e,t,n)=>{"use strict";let i;n.r(t),n.d(t,{default:()=>hv});var r,s,a,o,l=n(7247),c=n(8964),u=n(7757),d=n(319),h=n(3191),p=n(732),f=n(7015),m=n(8469),g=n(6990),y=n(2251),x=n(5090),v="focusScope.autoFocusOnMount",b="focusScope.autoFocusOnUnmount",w={bubbles:!1,cancelable:!0},j=c.forwardRef((e,t)=>{let{loop:n=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...a}=e,[o,u]=c.useState(null),d=(0,x.W)(r),p=(0,x.W)(s),f=c.useRef(null),m=(0,h.e)(t,e=>u(e)),g=c.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;c.useEffect(()=>{if(i){let e=function(e){if(g.paused||!o)return;let t=e.target;o.contains(t)?f.current=t:C(f.current,{select:!0})},t=function(e){if(g.paused||!o)return;let t=e.relatedTarget;null===t||o.contains(t)||C(f.current,{select:!0})};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let n=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&C(o)});return o&&n.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}},[i,o,g.paused]),c.useEffect(()=>{if(o){T.add(g);let e=document.activeElement;if(!o.contains(e)){let t=new CustomEvent(v,w);o.addEventListener(v,d),o.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let n=document.activeElement;for(let i of e)if(C(i,{select:t}),document.activeElement!==n)return}(E(o).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&C(o))}return()=>{o.removeEventListener(v,d),setTimeout(()=>{let t=new CustomEvent(b,w);o.addEventListener(b,p),o.dispatchEvent(t),t.defaultPrevented||C(e??document.body,{select:!0}),o.removeEventListener(b,p),T.remove(g)},0)}}},[o,d,p,g]);let j=c.useCallback(e=>{if(!n&&!i||g.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,r=document.activeElement;if(t&&r){let t=e.currentTarget,[i,s]=function(e){let t=E(e);return[N(t,e),N(t.reverse(),e)]}(t);i&&s?e.shiftKey||r!==s?e.shiftKey&&r===i&&(e.preventDefault(),n&&C(s,{select:!0})):(e.preventDefault(),n&&C(i,{select:!0})):r===t&&e.preventDefault()}},[n,i,g.paused]);return(0,l.jsx)(y.WV.div,{tabIndex:-1,...a,ref:m,onKeyDown:j})});function E(e){let t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function N(e,t){for(let n of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(n,{upTo:t}))return n}function C(e,{select:t=!1}={}){if(e&&e.focus){var n;let i=document.activeElement;e.focus({preventScroll:!0}),e!==i&&(n=e)instanceof HTMLInputElement&&"select"in n&&t&&e.select()}}j.displayName="FocusScope";var T=function(){let e=[];return{add(t){let n=e[0];t!==n&&n?.pause(),(e=S(e,t)).unshift(t)},remove(t){e=S(e,t),e[0]?.resume()}}}();function S(e,t){let n=[...e],i=n.indexOf(t);return -1!==i&&n.splice(i,1),n}var P=n(8611),M=n(7264),k=0;function A(){c.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??R()),document.body.insertAdjacentElement("beforeend",e[1]??R()),k++,()=>{1===k&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),k--}},[])}function R(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var F=n(7863),D="right-scroll-bar-position",L="width-before-scroll-bar";function V(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var z="undefined"!=typeof window?c.useLayoutEffect:c.useEffect,B=new WeakMap;function I(e){return e}var O=function(e){void 0===e&&(e={});var t,n,i,r=(void 0===t&&(t=I),n=[],i=!1,{read:function(){if(i)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:null},useMedium:function(e){var r=t(e,i);return n.push(r),function(){n=n.filter(function(e){return e!==r})}},assignSyncMedium:function(e){for(i=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){i=!0;var t=[];if(n.length){var r=n;n=[],r.forEach(e),t=n}var s=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(s)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}});return r.options=(0,F.pi)({async:!0,ssr:!1},e),r}(),q=function(){},_=c.forwardRef(function(e,t){var n,i,r,s,a=c.useRef(null),o=c.useState({onScrollCapture:q,onWheelCapture:q,onTouchMoveCapture:q}),l=o[0],u=o[1],d=e.forwardProps,h=e.children,p=e.className,f=e.removeScrollBar,m=e.enabled,g=e.shards,y=e.sideCar,x=e.noIsolation,v=e.inert,b=e.allowPinchZoom,w=e.as,j=e.gapMode,E=(0,F._T)(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=(n=[a,t],i=function(e){return n.forEach(function(t){return V(t,e)})},(r=(0,c.useState)(function(){return{value:null,callback:i,facade:{get current(){return r.value},set current(value){var e=r.value;e!==value&&(r.value=value,r.callback(value,e))}}}})[0]).callback=i,s=r.facade,z(function(){var e=B.get(s);if(e){var t=new Set(e),i=new Set(n),r=s.current;t.forEach(function(e){i.has(e)||V(e,null)}),i.forEach(function(e){t.has(e)||V(e,r)})}B.set(s,n)},[n]),s),C=(0,F.pi)((0,F.pi)({},E),l);return c.createElement(c.Fragment,null,m&&c.createElement(y,{sideCar:O,removeScrollBar:f,shards:g,noIsolation:x,inert:v,setCallbacks:u,allowPinchZoom:!!b,lockRef:a,gapMode:j}),d?c.cloneElement(c.Children.only(h),(0,F.pi)((0,F.pi)({},C),{ref:N})):c.createElement(void 0===w?"div":w,(0,F.pi)({},C,{className:p,ref:N}),h))});_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},_.classNames={fullWidth:L,zeroRight:D};var H=function(e){var t=e.sideCar,n=(0,F._T)(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw Error("Sidecar medium not found");return c.createElement(i,(0,F.pi)({},n))};H.isSideCarExport=!0;var $=function(){var e=0,t=null;return{add:function(i){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=o||n.nc;return t&&e.setAttribute("nonce",t),e}())){var r,s;(r=t).styleSheet?r.styleSheet.cssText=i:r.appendChild(document.createTextNode(i)),s=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(s)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},W=function(){var e=$();return function(t,n){c.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},U=function(){var e=W();return function(t){return e(t.styles,t.dynamic),null}},Y={left:0,top:0,right:0,gap:0},Q=function(e){return parseInt(e||"",10)||0},X=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],i=t["padding"===e?"paddingTop":"marginTop"],r=t["padding"===e?"paddingRight":"marginRight"];return[Q(n),Q(i),Q(r)]},K=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return Y;var t=X(e),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-n+t[2]-t[0])}},G=U(),Z="data-scroll-locked",J=function(e,t,n,i){var r=e.left,s=e.top,a=e.right,o=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(i,";\n   padding-right: ").concat(o,"px ").concat(i,";\n  }\n  body[").concat(Z,"] {\n    overflow: hidden ").concat(i,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(i,";"),"margin"===n&&"\n    padding-left: ".concat(r,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(o,"px ").concat(i,";\n    "),"padding"===n&&"padding-right: ".concat(o,"px ").concat(i,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(D," {\n    right: ").concat(o,"px ").concat(i,";\n  }\n  \n  .").concat(L," {\n    margin-right: ").concat(o,"px ").concat(i,";\n  }\n  \n  .").concat(D," .").concat(D," {\n    right: 0 ").concat(i,";\n  }\n  \n  .").concat(L," .").concat(L," {\n    margin-right: 0 ").concat(i,";\n  }\n  \n  body[").concat(Z,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(o,"px;\n  }\n")},ee=function(){var e=parseInt(document.body.getAttribute(Z)||"0",10);return isFinite(e)?e:0},et=function(){c.useEffect(function(){return document.body.setAttribute(Z,(ee()+1).toString()),function(){var e=ee()-1;e<=0?document.body.removeAttribute(Z):document.body.setAttribute(Z,e.toString())}},[])},en=function(e){var t=e.noRelative,n=e.noImportant,i=e.gapMode,r=void 0===i?"margin":i;et();var s=c.useMemo(function(){return K(r)},[r]);return c.createElement(G,{styles:J(s,!t,r,n?"":"!important")})},ei=!1;if("undefined"!=typeof window)try{var er=Object.defineProperty({},"passive",{get:function(){return ei=!0,!0}});window.addEventListener("test",er,er),window.removeEventListener("test",er,er)}catch(e){ei=!1}var es=!!ei&&{passive:!1},ea=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&"TEXTAREA"!==e.tagName&&"visible"===n[t])},eo=function(e,t){var n=t.ownerDocument,i=t;do{if("undefined"!=typeof ShadowRoot&&i instanceof ShadowRoot&&(i=i.host),el(e,i)){var r=ec(e,i);if(r[1]>r[2])return!0}i=i.parentNode}while(i&&i!==n.body);return!1},el=function(e,t){return"v"===e?ea(t,"overflowY"):ea(t,"overflowX")},ec=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},eu=function(e,t,n,i,r){var s,a=(s=window.getComputedStyle(t).direction,"h"===e&&"rtl"===s?-1:1),o=a*i,l=n.target,c=t.contains(l),u=!1,d=o>0,h=0,p=0;do{var f=ec(e,l),m=f[0],g=f[1]-f[2]-a*m;(m||g)&&el(e,l)&&(h+=g,p+=m),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return d&&(r&&1>Math.abs(h)||!r&&o>h)?u=!0:!d&&(r&&1>Math.abs(p)||!r&&-o>p)&&(u=!0),u},ed=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},eh=function(e){return[e.deltaX,e.deltaY]},ep=function(e){return e&&"current"in e?e.current:e},ef=0,em=[];let eg=(r=function(e){var t=c.useRef([]),n=c.useRef([0,0]),i=c.useRef(),r=c.useState(ef++)[0],s=c.useState(U)[0],a=c.useRef(e);c.useEffect(function(){a.current=e},[e]),c.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var t=(0,F.ev)([e.lockRef.current],(e.shards||[]).map(ep),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var o=c.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!a.current.allowPinchZoom;var r,s=ed(e),o=n.current,l="deltaX"in e?e.deltaX:o[0]-s[0],c="deltaY"in e?e.deltaY:o[1]-s[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=eo(d,u);if(!h)return!0;if(h?r=d:(r="v"===d?"h":"v",h=eo(d,u)),!h)return!1;if(!i.current&&"changedTouches"in e&&(l||c)&&(i.current=r),!r)return!0;var p=i.current||r;return eu(p,t,e,"h"===p?l:c,!0)},[]),l=c.useCallback(function(e){if(em.length&&em[em.length-1]===s){var n="deltaY"in e?eh(e):ed(e),i=t.current.filter(function(t){var i;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(i=t.delta)[0]===n[0]&&i[1]===n[1]})[0];if(i&&i.should){e.cancelable&&e.preventDefault();return}if(!i){var r=(a.current.shards||[]).map(ep).filter(Boolean).filter(function(t){return t.contains(e.target)});(r.length>0?o(e,r[0]):!a.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),u=c.useCallback(function(e,n,i,r){var s={name:e,delta:n,target:i,should:r,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(i)};t.current.push(s),setTimeout(function(){t.current=t.current.filter(function(e){return e!==s})},1)},[]),d=c.useCallback(function(e){n.current=ed(e),i.current=void 0},[]),h=c.useCallback(function(t){u(t.type,eh(t),t.target,o(t,e.lockRef.current))},[]),p=c.useCallback(function(t){u(t.type,ed(t),t.target,o(t,e.lockRef.current))},[]);c.useEffect(function(){return em.push(s),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,es),document.addEventListener("touchmove",l,es),document.addEventListener("touchstart",d,es),function(){em=em.filter(function(e){return e!==s}),document.removeEventListener("wheel",l,es),document.removeEventListener("touchmove",l,es),document.removeEventListener("touchstart",d,es)}},[]);var f=e.removeScrollBar,m=e.inert;return c.createElement(c.Fragment,null,m?c.createElement(s,{styles:"\n  .block-interactivity-".concat(r," {pointer-events: none;}\n  .allow-interactivity-").concat(r," {pointer-events: all;}\n")}):null,f?c.createElement(en,{gapMode:e.gapMode}):null)},O.useMedium(r),H);var ey=c.forwardRef(function(e,t){return c.createElement(_,(0,F.pi)({},e,{ref:t,sideCar:eg}))});ey.classNames=_.classNames;var ex=new WeakMap,ev=new WeakMap,eb={},ew=0,ej=function(e){return e&&(e.host||ej(e.parentNode))},eE=function(e,t,n,i){var r=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var n=ej(e);return n&&t.contains(n)?n:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});eb[n]||(eb[n]=new WeakMap);var s=eb[n],a=[],o=new Set,l=new Set(r),c=function(e){!e||o.has(e)||(o.add(e),c(e.parentNode))};r.forEach(c);var u=function(e){!e||l.has(e)||Array.prototype.forEach.call(e.children,function(e){if(o.has(e))u(e);else try{var t=e.getAttribute(i),r=null!==t&&"false"!==t,l=(ex.get(e)||0)+1,c=(s.get(e)||0)+1;ex.set(e,l),s.set(e,c),a.push(e),1===l&&r&&ev.set(e,!0),1===c&&e.setAttribute(n,"true"),r||e.setAttribute(i,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return u(t),o.clear(),ew++,function(){a.forEach(function(e){var t=ex.get(e)-1,r=s.get(e)-1;ex.set(e,t),s.set(e,r),t||(ev.has(e)||e.removeAttribute(i),ev.delete(e)),r||e.removeAttribute(n)}),--ew||(ex=new WeakMap,ex=new WeakMap,ev=new WeakMap,eb={})}},eN=function(e,t,n){void 0===n&&(n="data-aria-hidden");var i,r=Array.from(Array.isArray(e)?e:[e]),s=t||(i=e,"undefined"==typeof document?null:(Array.isArray(i)?i[0]:i).ownerDocument.body);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),eE(r,s,n,"aria-hidden")):function(){return null}},eC=n(9008),eT="Dialog",[eS,eP]=(0,p.b)(eT),[eM,ek]=eS(eT),eA=e=>{let{__scopeDialog:t,children:n,open:i,defaultOpen:r,onOpenChange:s,modal:a=!0}=e,o=c.useRef(null),u=c.useRef(null),[d=!1,h]=(0,m.T)({prop:i,defaultProp:r,onChange:s});return(0,l.jsx)(eM,{scope:t,triggerRef:o,contentRef:u,contentId:(0,f.M)(),titleId:(0,f.M)(),descriptionId:(0,f.M)(),open:d,onOpenChange:h,onOpenToggle:c.useCallback(()=>h(e=>!e),[h]),modal:a,children:n})};eA.displayName=eT;var eR="DialogTrigger";c.forwardRef((e,t)=>{let{__scopeDialog:n,...i}=e,r=ek(eR,n),s=(0,h.e)(t,r.triggerRef);return(0,l.jsx)(y.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":eG(r.open),...i,ref:s,onClick:(0,d.M)(e.onClick,r.onOpenToggle)})}).displayName=eR;var eF="DialogPortal",[eD,eL]=eS(eF,{forceMount:void 0}),eV=e=>{let{__scopeDialog:t,forceMount:n,children:i,container:r}=e,s=ek(eF,t);return(0,l.jsx)(eD,{scope:t,forceMount:n,children:c.Children.map(i,e=>(0,l.jsx)(M.z,{present:n||s.open,children:(0,l.jsx)(P.h,{asChild:!0,container:r,children:e})}))})};eV.displayName=eF;var ez="DialogOverlay",eB=c.forwardRef((e,t)=>{let n=eL(ez,e.__scopeDialog),{forceMount:i=n.forceMount,...r}=e,s=ek(ez,e.__scopeDialog);return s.modal?(0,l.jsx)(M.z,{present:i||s.open,children:(0,l.jsx)(eI,{...r,ref:t})}):null});eB.displayName=ez;var eI=c.forwardRef((e,t)=>{let{__scopeDialog:n,...i}=e,r=ek(ez,n);return(0,l.jsx)(ey,{as:eC.g7,allowPinchZoom:!0,shards:[r.contentRef],children:(0,l.jsx)(y.WV.div,{"data-state":eG(r.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),eO="DialogContent",eq=c.forwardRef((e,t)=>{let n=eL(eO,e.__scopeDialog),{forceMount:i=n.forceMount,...r}=e,s=ek(eO,e.__scopeDialog);return(0,l.jsx)(M.z,{present:i||s.open,children:s.modal?(0,l.jsx)(e_,{...r,ref:t}):(0,l.jsx)(eH,{...r,ref:t})})});eq.displayName=eO;var e_=c.forwardRef((e,t)=>{let n=ek(eO,e.__scopeDialog),i=c.useRef(null),r=(0,h.e)(t,n.contentRef,i);return c.useEffect(()=>{let e=i.current;if(e)return eN(e)},[]),(0,l.jsx)(e$,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,d.M)(e.onCloseAutoFocus,e=>{e.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:(0,d.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:(0,d.M)(e.onFocusOutside,e=>e.preventDefault())})}),eH=c.forwardRef((e,t)=>{let n=ek(eO,e.__scopeDialog),i=c.useRef(!1),r=c.useRef(!1);return(0,l.jsx)(e$,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(i.current||n.triggerRef.current?.focus(),t.preventDefault()),i.current=!1,r.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(i.current=!0,"pointerdown"!==t.detail.originalEvent.type||(r.current=!0));let s=t.target;n.triggerRef.current?.contains(s)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&r.current&&t.preventDefault()}})}),e$=c.forwardRef((e,t)=>{let{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:s,...a}=e,o=ek(eO,n),u=c.useRef(null),d=(0,h.e)(t,u);return A(),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(j,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:r,onUnmountAutoFocus:s,children:(0,l.jsx)(g.XB,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":eG(o.open),...a,ref:d,onDismiss:()=>o.onOpenChange(!1)})}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e1,{titleId:o.titleId}),(0,l.jsx)(e2,{contentRef:u,descriptionId:o.descriptionId})]})]})}),eW="DialogTitle",eU=c.forwardRef((e,t)=>{let{__scopeDialog:n,...i}=e,r=ek(eW,n);return(0,l.jsx)(y.WV.h2,{id:r.titleId,...i,ref:t})});eU.displayName=eW;var eY="DialogDescription",eQ=c.forwardRef((e,t)=>{let{__scopeDialog:n,...i}=e,r=ek(eY,n);return(0,l.jsx)(y.WV.p,{id:r.descriptionId,...i,ref:t})});eQ.displayName=eY;var eX="DialogClose",eK=c.forwardRef((e,t)=>{let{__scopeDialog:n,...i}=e,r=ek(eX,n);return(0,l.jsx)(y.WV.button,{type:"button",...i,ref:t,onClick:(0,d.M)(e.onClick,()=>r.onOpenChange(!1))})});function eG(e){return e?"open":"closed"}eK.displayName=eX;var eZ="DialogTitleWarning",[eJ,e0]=(0,p.k)(eZ,{contentName:eO,titleName:eW,docsSlug:"dialog"}),e1=({titleId:e})=>{let t=e0(eZ),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return c.useEffect(()=>{e&&!document.getElementById(e)&&console.error(n)},[n,e]),null},e2=({contentRef:e,descriptionId:t})=>{let n=e0("DialogDescriptionWarning"),i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${n.contentName}}.`;return c.useEffect(()=>{let n=e.current?.getAttribute("aria-describedby");t&&n&&!document.getElementById(t)&&console.warn(i)},[i,e,t]),null},e3=n(7013),e5=n(5008);let e4=c.forwardRef(({className:e,...t},n)=>l.jsx(eB,{ref:n,className:(0,e5.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));e4.displayName=eB.displayName;let e6=c.forwardRef(({className:e,children:t,...n},i)=>(0,l.jsxs)(eV,{children:[l.jsx(e4,{}),(0,l.jsxs)(eq,{ref:i,className:(0,e5.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,(0,l.jsxs)(eK,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(e3.Z,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));e6.displayName=eq.displayName,c.forwardRef(({className:e,...t},n)=>l.jsx(eU,{ref:n,className:(0,e5.cn)("text-lg font-semibold leading-none tracking-tight",e),...t})).displayName=eU.displayName,c.forwardRef(({className:e,...t},n)=>l.jsx(eQ,{ref:n,className:(0,e5.cn)("text-sm text-muted-foreground",e),...t})).displayName=eQ.displayName;var e7=n(8053),e8=n(6323);let e9=(0,e8.Z)("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),te=(0,e8.Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),tt=(0,e8.Z)("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]),tn=(0,e8.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ti=["top","right","bottom","left"],tr=Math.min,ts=Math.max,ta=Math.round,to=Math.floor,tl=e=>({x:e,y:e}),tc={left:"right",right:"left",bottom:"top",top:"bottom"},tu={start:"end",end:"start"};function td(e,t){return"function"==typeof e?e(t):e}function th(e){return e.split("-")[0]}function tp(e){return e.split("-")[1]}function tf(e){return"x"===e?"y":"x"}function tm(e){return"y"===e?"height":"width"}function tg(e){return["top","bottom"].includes(th(e))?"y":"x"}function ty(e){return e.replace(/start|end/g,e=>tu[e])}function tx(e){return e.replace(/left|right|bottom|top/g,e=>tc[e])}function tv(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function tb(e){let{x:t,y:n,width:i,height:r}=e;return{width:i,height:r,top:n,left:t,right:t+i,bottom:n+r,x:t,y:n}}function tw(e,t,n){let i,{reference:r,floating:s}=e,a=tg(t),o=tf(tg(t)),l=tm(o),c=th(t),u="y"===a,d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[l]/2-s[l]/2;switch(c){case"top":i={x:d,y:r.y-s.height};break;case"bottom":i={x:d,y:r.y+r.height};break;case"right":i={x:r.x+r.width,y:h};break;case"left":i={x:r.x-s.width,y:h};break;default:i={x:r.x,y:r.y}}switch(tp(t)){case"start":i[o]-=p*(n&&u?-1:1);break;case"end":i[o]+=p*(n&&u?-1:1)}return i}let tj=async(e,t,n)=>{let{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),l=await (null==a.isRTL?void 0:a.isRTL(t)),c=await a.getElementRects({reference:e,floating:t,strategy:r}),{x:u,y:d}=tw(c,i,l),h=i,p={},f=0;for(let n=0;n<o.length;n++){let{name:s,fn:m}=o[n],{x:g,y:y,data:x,reset:v}=await m({x:u,y:d,initialPlacement:i,placement:h,strategy:r,middlewareData:p,rects:c,platform:a,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=y?y:d,p={...p,[s]:{...p[s],...x}},v&&f<=50&&(f++,"object"==typeof v&&(v.placement&&(h=v.placement),v.rects&&(c=!0===v.rects?await a.getElementRects({reference:e,floating:t,strategy:r}):v.rects),{x:u,y:d}=tw(c,h,l)),n=-1)}return{x:u,y:d,placement:h,strategy:r,middlewareData:p}};async function tE(e,t){var n;void 0===t&&(t={});let{x:i,y:r,platform:s,rects:a,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=td(t,e),f=tv(p),m=o[h?"floating"===d?"reference":"floating":d],g=tb(await s.getClippingRect({element:null==(n=await (null==s.isElement?void 0:s.isElement(m)))||n?m:m.contextElement||await (null==s.getDocumentElement?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),y="floating"===d?{x:i,y:r,width:a.floating.width,height:a.floating.height}:a.reference,x=await (null==s.getOffsetParent?void 0:s.getOffsetParent(o.floating)),v=await (null==s.isElement?void 0:s.isElement(x))&&await (null==s.getScale?void 0:s.getScale(x))||{x:1,y:1},b=tb(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:y,offsetParent:x,strategy:l}):y);return{top:(g.top-b.top+f.top)/v.y,bottom:(b.bottom-g.bottom+f.bottom)/v.y,left:(g.left-b.left+f.left)/v.x,right:(b.right-g.right+f.right)/v.x}}function tN(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function tC(e){return ti.some(t=>e[t]>=0)}async function tT(e,t){let{placement:n,platform:i,elements:r}=e,s=await (null==i.isRTL?void 0:i.isRTL(r.floating)),a=th(n),o=tp(n),l="y"===tg(n),c=["left","top"].includes(a)?-1:1,u=s&&l?-1:1,d=td(t,e),{mainAxis:h,crossAxis:p,alignmentAxis:f}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&"number"==typeof f&&(p="end"===o?-1*f:f),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}function tS(){return"undefined"!=typeof window}function tP(e){return tA(e)?(e.nodeName||"").toLowerCase():"#document"}function tM(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function tk(e){var t;return null==(t=(tA(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function tA(e){return!!tS()&&(e instanceof Node||e instanceof tM(e).Node)}function tR(e){return!!tS()&&(e instanceof Element||e instanceof tM(e).Element)}function tF(e){return!!tS()&&(e instanceof HTMLElement||e instanceof tM(e).HTMLElement)}function tD(e){return!!tS()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof tM(e).ShadowRoot)}function tL(e){let{overflow:t,overflowX:n,overflowY:i,display:r}=tO(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(r)}function tV(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch(e){return!1}})}function tz(e){let t=tB(),n=tR(e)?tO(e):e;return["transform","translate","scale","rotate","perspective"].some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some(e=>(n.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(n.contain||"").includes(e))}function tB(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}function tI(e){return["html","body","#document"].includes(tP(e))}function tO(e){return tM(e).getComputedStyle(e)}function tq(e){return tR(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function t_(e){if("html"===tP(e))return e;let t=e.assignedSlot||e.parentNode||tD(e)&&e.host||tk(e);return tD(t)?t.host:t}function tH(e,t,n){var i;void 0===t&&(t=[]),void 0===n&&(n=!0);let r=function e(t){let n=t_(t);return tI(n)?t.ownerDocument?t.ownerDocument.body:t.body:tF(n)&&tL(n)?n:e(n)}(e),s=r===(null==(i=e.ownerDocument)?void 0:i.body),a=tM(r);if(s){let e=t$(a);return t.concat(a,a.visualViewport||[],tL(r)?r:[],e&&n?tH(e):[])}return t.concat(r,tH(r,[],n))}function t$(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function tW(e){let t=tO(e),n=parseFloat(t.width)||0,i=parseFloat(t.height)||0,r=tF(e),s=r?e.offsetWidth:n,a=r?e.offsetHeight:i,o=ta(n)!==s||ta(i)!==a;return o&&(n=s,i=a),{width:n,height:i,$:o}}function tU(e){return tR(e)?e:e.contextElement}function tY(e){let t=tU(e);if(!tF(t))return tl(1);let n=t.getBoundingClientRect(),{width:i,height:r,$:s}=tW(t),a=(s?ta(n.width):n.width)/i,o=(s?ta(n.height):n.height)/r;return a&&Number.isFinite(a)||(a=1),o&&Number.isFinite(o)||(o=1),{x:a,y:o}}let tQ=tl(0);function tX(e){let t=tM(e);return tB()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:tQ}function tK(e,t,n,i){var r;void 0===t&&(t=!1),void 0===n&&(n=!1);let s=e.getBoundingClientRect(),a=tU(e),o=tl(1);t&&(i?tR(i)&&(o=tY(i)):o=tY(e));let l=(void 0===(r=n)&&(r=!1),i&&(!r||i===tM(a))&&r)?tX(a):tl(0),c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(a){let e=tM(a),t=i&&tR(i)?tM(i):i,n=e,r=t$(n);for(;r&&i&&t!==n;){let e=tY(r),t=r.getBoundingClientRect(),i=tO(r),s=t.left+(r.clientLeft+parseFloat(i.paddingLeft))*e.x,a=t.top+(r.clientTop+parseFloat(i.paddingTop))*e.y;c*=e.x,u*=e.y,d*=e.x,h*=e.y,c+=s,u+=a,r=t$(n=tM(r))}}return tb({width:d,height:h,x:c,y:u})}function tG(e,t){let n=tq(e).scrollLeft;return t?t.left+n:tK(tk(e)).left+n}function tZ(e,t,n){void 0===n&&(n=!1);let i=e.getBoundingClientRect();return{x:i.left+t.scrollLeft-(n?0:tG(e,i)),y:i.top+t.scrollTop}}function tJ(e,t,n){let i;if("viewport"===t)i=function(e,t){let n=tM(e),i=tk(e),r=n.visualViewport,s=i.clientWidth,a=i.clientHeight,o=0,l=0;if(r){s=r.width,a=r.height;let e=tB();(!e||e&&"fixed"===t)&&(o=r.offsetLeft,l=r.offsetTop)}return{width:s,height:a,x:o,y:l}}(e,n);else if("document"===t)i=function(e){let t=tk(e),n=tq(e),i=e.ownerDocument.body,r=ts(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),s=ts(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight),a=-n.scrollLeft+tG(e),o=-n.scrollTop;return"rtl"===tO(i).direction&&(a+=ts(t.clientWidth,i.clientWidth)-r),{width:r,height:s,x:a,y:o}}(tk(e));else if(tR(t))i=function(e,t){let n=tK(e,!0,"fixed"===t),i=n.top+e.clientTop,r=n.left+e.clientLeft,s=tF(e)?tY(e):tl(1),a=e.clientWidth*s.x;return{width:a,height:e.clientHeight*s.y,x:r*s.x,y:i*s.y}}(t,n);else{let n=tX(e);i={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return tb(i)}function t0(e){return"static"===tO(e).position}function t1(e,t){if(!tF(e)||"fixed"===tO(e).position)return null;if(t)return t(e);let n=e.offsetParent;return tk(e)===n&&(n=n.ownerDocument.body),n}function t2(e,t){let n=tM(e);if(tV(e))return n;if(!tF(e)){let t=t_(e);for(;t&&!tI(t);){if(tR(t)&&!t0(t))return t;t=t_(t)}return n}let i=t1(e,t);for(;i&&["table","td","th"].includes(tP(i))&&t0(i);)i=t1(i,t);return i&&tI(i)&&t0(i)&&!tz(i)?n:i||function(e){let t=t_(e);for(;tF(t)&&!tI(t);){if(tz(t))return t;if(tV(t))break;t=t_(t)}return null}(e)||n}let t3=async function(e){let t=this.getOffsetParent||t2,n=this.getDimensions,i=await n(e.floating);return{reference:function(e,t,n){let i=tF(t),r=tk(t),s="fixed"===n,a=tK(e,!0,s,t),o={scrollLeft:0,scrollTop:0},l=tl(0);if(i||!i&&!s){if(("body"!==tP(t)||tL(r))&&(o=tq(t)),i){let e=tK(t,!0,s,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else r&&(l.x=tG(r))}let c=!r||i||s?tl(0):tZ(r,o);return{x:a.left+o.scrollLeft-l.x-c.x,y:a.top+o.scrollTop-l.y-c.y,width:a.width,height:a.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}},t5={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:i,strategy:r}=e,s="fixed"===r,a=tk(i),o=!!t&&tV(t.floating);if(i===a||o&&s)return n;let l={scrollLeft:0,scrollTop:0},c=tl(1),u=tl(0),d=tF(i);if((d||!d&&!s)&&(("body"!==tP(i)||tL(a))&&(l=tq(i)),tF(i))){let e=tK(i);c=tY(i),u.x=e.x+i.clientLeft,u.y=e.y+i.clientTop}let h=!a||d||s?tl(0):tZ(a,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}},getDocumentElement:tk,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:i,strategy:r}=e,s=[..."clippingAncestors"===n?tV(t)?[]:function(e,t){let n=t.get(e);if(n)return n;let i=tH(e,[],!1).filter(e=>tR(e)&&"body"!==tP(e)),r=null,s="fixed"===tO(e).position,a=s?t_(e):e;for(;tR(a)&&!tI(a);){let t=tO(a),n=tz(a);n||"fixed"!==t.position||(r=null),(s?!n&&!r:!n&&"static"===t.position&&!!r&&["absolute","fixed"].includes(r.position)||tL(a)&&!n&&function e(t,n){let i=t_(t);return!(i===n||!tR(i)||tI(i))&&("fixed"===tO(i).position||e(i,n))}(e,a))?i=i.filter(e=>e!==a):r=t,a=t_(a)}return t.set(e,i),i}(t,this._c):[].concat(n),i],a=s[0],o=s.reduce((e,n)=>{let i=tJ(t,n,r);return e.top=ts(i.top,e.top),e.right=tr(i.right,e.right),e.bottom=tr(i.bottom,e.bottom),e.left=ts(i.left,e.left),e},tJ(t,a,r));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:t2,getElementRects:t3,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:n}=tW(e);return{width:t,height:n}},getScale:tY,isElement:tR,isRTL:function(e){return"rtl"===tO(e).direction}};function t4(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}let t6=e=>({name:"arrow",options:e,async fn(t){let{x:n,y:i,placement:r,rects:s,platform:a,elements:o,middlewareData:l}=t,{element:c,padding:u=0}=td(e,t)||{};if(null==c)return{};let d=tv(u),h={x:n,y:i},p=tf(tg(r)),f=tm(p),m=await a.getDimensions(c),g="y"===p,y=g?"clientHeight":"clientWidth",x=s.reference[f]+s.reference[p]-h[p]-s.floating[f],v=h[p]-s.reference[p],b=await (null==a.getOffsetParent?void 0:a.getOffsetParent(c)),w=b?b[y]:0;w&&await (null==a.isElement?void 0:a.isElement(b))||(w=o.floating[y]||s.floating[f]);let j=w/2-m[f]/2-1,E=tr(d[g?"top":"left"],j),N=tr(d[g?"bottom":"right"],j),C=w-m[f]-N,T=w/2-m[f]/2+(x/2-v/2),S=ts(E,tr(T,C)),P=!l.arrow&&null!=tp(r)&&T!==S&&s.reference[f]/2-(T<E?E:N)-m[f]/2<0,M=P?T<E?T-E:T-C:0;return{[p]:h[p]+M,data:{[p]:S,centerOffset:T-S-M,...P&&{alignmentOffset:M}},reset:P}}}),t7=(e,t,n)=>{let i=new Map,r={platform:t5,...n},s={...r.platform,_c:i};return tj(e,t,{...r,platform:s})};var t8=n(6817),t9="undefined"!=typeof document?c.useLayoutEffect:c.useEffect;function ne(e,t){let n,i,r;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((n=e.length)!==t.length)return!1;for(i=n;0!=i--;)if(!ne(e[i],t[i]))return!1;return!0}if((n=(r=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(i=n;0!=i--;)if(!({}).hasOwnProperty.call(t,r[i]))return!1;for(i=n;0!=i--;){let n=r[i];if(("_owner"!==n||!e.$$typeof)&&!ne(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function nt(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function nn(e,t){let n=nt(e);return Math.round(t*n)/n}function ni(e){let t=c.useRef(e);return t9(()=>{t.current=e}),t}let nr=e=>({name:"arrow",options:e,fn(t){let{element:n,padding:i}="function"==typeof e?e(t):e;return n&&({}).hasOwnProperty.call(n,"current")?null!=n.current?t6({element:n.current,padding:i}).fn(t):{}:n?t6({element:n,padding:i}).fn(t):{}}}),ns=(e,t)=>({...function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,i;let{x:r,y:s,placement:a,middlewareData:o}=t,l=await tT(t,e);return a===(null==(n=o.offset)?void 0:n.placement)&&null!=(i=o.arrow)&&i.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:a}}}}}(e),options:[e,t]}),na=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){let{x:n,y:i,placement:r}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=td(e,t),c={x:n,y:i},u=await tE(t,l),d=tg(th(r)),h=tf(d),p=c[h],f=c[d];if(s){let e="y"===h?"top":"left",t="y"===h?"bottom":"right",n=p+u[e],i=p-u[t];p=ts(n,tr(p,i))}if(a){let e="y"===d?"top":"left",t="y"===d?"bottom":"right",n=f+u[e],i=f-u[t];f=ts(n,tr(f,i))}let m=o.fn({...t,[h]:p,[d]:f});return{...m,data:{x:m.x-n,y:m.y-i,enabled:{[h]:s,[d]:a}}}}}}(e),options:[e,t]}),no=(e,t)=>({...function(e){return void 0===e&&(e={}),{options:e,fn(t){let{x:n,y:i,placement:r,rects:s,middlewareData:a}=t,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=td(e,t),u={x:n,y:i},d=tg(r),h=tf(d),p=u[h],f=u[d],m=td(o,t),g="number"==typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){let e="y"===h?"height":"width",t=s.reference[h]-s.floating[e]+g.mainAxis,n=s.reference[h]+s.reference[e]-g.mainAxis;p<t?p=t:p>n&&(p=n)}if(c){var y,x;let e="y"===h?"width":"height",t=["top","left"].includes(th(r)),n=s.reference[d]-s.floating[e]+(t&&(null==(y=a.offset)?void 0:y[d])||0)+(t?0:g.crossAxis),i=s.reference[d]+s.reference[e]+(t?0:(null==(x=a.offset)?void 0:x[d])||0)-(t?g.crossAxis:0);f<n?f=n:f>i&&(f=i)}return{[h]:p,[d]:f}}}}(e),options:[e,t]}),nl=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,i,r,s,a;let{placement:o,middlewareData:l,rects:c,initialPlacement:u,platform:d,elements:h}=t,{mainAxis:p=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...v}=td(e,t);if(null!=(n=l.arrow)&&n.alignmentOffset)return{};let b=th(o),w=tg(u),j=th(u)===u,E=await (null==d.isRTL?void 0:d.isRTL(h.floating)),N=m||(j||!x?[tx(u)]:function(e){let t=tx(e);return[ty(e),t,ty(t)]}(u)),C="none"!==y;!m&&C&&N.push(...function(e,t,n,i){let r=tp(e),s=function(e,t,n){let i=["left","right"],r=["right","left"];switch(e){case"top":case"bottom":if(n)return t?r:i;return t?i:r;case"left":case"right":return t?["top","bottom"]:["bottom","top"];default:return[]}}(th(e),"start"===n,i);return r&&(s=s.map(e=>e+"-"+r),t&&(s=s.concat(s.map(ty)))),s}(u,x,y,E));let T=[u,...N],S=await tE(t,v),P=[],M=(null==(i=l.flip)?void 0:i.overflows)||[];if(p&&P.push(S[b]),f){let e=function(e,t,n){void 0===n&&(n=!1);let i=tp(e),r=tf(tg(e)),s=tm(r),a="x"===r?i===(n?"end":"start")?"right":"left":"start"===i?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=tx(a)),[a,tx(a)]}(o,c,E);P.push(S[e[0]],S[e[1]])}if(M=[...M,{placement:o,overflows:P}],!P.every(e=>e<=0)){let e=((null==(r=l.flip)?void 0:r.index)||0)+1,t=T[e];if(t)return{data:{index:e,overflows:M},reset:{placement:t}};let n=null==(s=M.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:s.placement;if(!n)switch(g){case"bestFit":{let e=null==(a=M.filter(e=>{if(C){let t=tg(e.placement);return t===w||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:a[0];e&&(n=e);break}case"initialPlacement":n=u}if(o!==n)return{reset:{placement:n}}}return{}}}}(e),options:[e,t]}),nc=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,i;let r,s;let{placement:a,rects:o,platform:l,elements:c}=t,{apply:u=()=>{},...d}=td(e,t),h=await tE(t,d),p=th(a),f=tp(a),m="y"===tg(a),{width:g,height:y}=o.floating;"top"===p||"bottom"===p?(r=p,s=f===(await (null==l.isRTL?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(s=p,r="end"===f?"top":"bottom");let x=y-h.top-h.bottom,v=g-h.left-h.right,b=tr(y-h[r],x),w=tr(g-h[s],v),j=!t.middlewareData.shift,E=b,N=w;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(N=v),null!=(i=t.middlewareData.shift)&&i.enabled.y&&(E=x),j&&!f){let e=ts(h.left,0),t=ts(h.right,0),n=ts(h.top,0),i=ts(h.bottom,0);m?N=g-2*(0!==e||0!==t?e+t:ts(h.left,h.right)):E=y-2*(0!==n||0!==i?n+i:ts(h.top,h.bottom))}await u({...t,availableWidth:N,availableHeight:E});let C=await l.getDimensions(c.floating);return g!==C.width||y!==C.height?{reset:{rects:!0}}:{}}}}(e),options:[e,t]}),nu=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){let{rects:n}=t,{strategy:i="referenceHidden",...r}=td(e,t);switch(i){case"referenceHidden":{let e=tN(await tE(t,{...r,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:tC(e)}}}case"escaped":{let e=tN(await tE(t,{...r,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:tC(e)}}}default:return{}}}}}(e),options:[e,t]}),nd=(e,t)=>({...nr(e),options:[e,t]});var nh=c.forwardRef((e,t)=>{let{children:n,width:i=10,height:r=5,...s}=e;return(0,l.jsx)(y.WV.svg,{...s,ref:t,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,l.jsx)("polygon",{points:"0,0 30,0 15,10"})})});nh.displayName="Arrow";var np=n(9537);function nf(e){let[t,n]=c.useState(void 0);return(0,np.b)(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let i,r;if(!Array.isArray(t)||!t.length)return;let s=t[0];if("borderBoxSize"in s){let e=s.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,r=t.blockSize}else i=e.offsetWidth,r=e.offsetHeight;n({width:i,height:r})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}var nm="Popper",[ng,ny]=(0,p.b)(nm),[nx,nv]=ng(nm),nb=e=>{let{__scopePopper:t,children:n}=e,[i,r]=c.useState(null);return(0,l.jsx)(nx,{scope:t,anchor:i,onAnchorChange:r,children:n})};nb.displayName=nm;var nw="PopperAnchor",nj=c.forwardRef((e,t)=>{let{__scopePopper:n,virtualRef:i,...r}=e,s=nv(nw,n),a=c.useRef(null),o=(0,h.e)(t,a);return c.useEffect(()=>{s.onAnchorChange(i?.current||a.current)}),i?null:(0,l.jsx)(y.WV.div,{...r,ref:o})});nj.displayName=nw;var nE="PopperContent",[nN,nC]=ng(nE),nT=c.forwardRef((e,t)=>{let{__scopePopper:n,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:p=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:v,...b}=e,w=nv(nE,n),[j,E]=c.useState(null),N=(0,h.e)(t,e=>E(e)),[C,T]=c.useState(null),S=nf(C),P=S?.width??0,M=S?.height??0,k="number"==typeof p?p:{top:0,right:0,bottom:0,left:0,...p},A=Array.isArray(d)?d:[d],R=A.length>0,F={padding:k,boundary:A.filter(nk),altBoundary:R},{refs:D,floatingStyles:L,placement:V,isPositioned:z,middlewareData:B}=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:u}=e,[d,h]=c.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=c.useState(i);ne(p,i)||f(i);let[m,g]=c.useState(null),[y,x]=c.useState(null),v=c.useCallback(e=>{e!==E.current&&(E.current=e,g(e))},[]),b=c.useCallback(e=>{e!==N.current&&(N.current=e,x(e))},[]),w=s||m,j=a||y,E=c.useRef(null),N=c.useRef(null),C=c.useRef(d),T=null!=l,S=ni(l),P=ni(r),M=ni(u),k=c.useCallback(()=>{if(!E.current||!N.current)return;let e={placement:t,strategy:n,middleware:p};P.current&&(e.platform=P.current),t7(E.current,N.current,e).then(e=>{let t={...e,isPositioned:!1!==M.current};A.current&&!ne(C.current,t)&&(C.current=t,t8.flushSync(()=>{h(t)}))})},[p,t,n,P,M]);t9(()=>{!1===u&&C.current.isPositioned&&(C.current.isPositioned=!1,h(e=>({...e,isPositioned:!1})))},[u]);let A=c.useRef(!1);t9(()=>(A.current=!0,()=>{A.current=!1}),[]),t9(()=>{if(w&&(E.current=w),j&&(N.current=j),w&&j){if(S.current)return S.current(w,j,k);k()}},[w,j,k,S,T]);let R=c.useMemo(()=>({reference:E,floating:N,setReference:v,setFloating:b}),[v,b]),F=c.useMemo(()=>({reference:w,floating:j}),[w,j]),D=c.useMemo(()=>{let e={position:n,left:0,top:0};if(!F.floating)return e;let t=nn(F.floating,d.x),i=nn(F.floating,d.y);return o?{...e,transform:"translate("+t+"px, "+i+"px)",...nt(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:i}},[n,o,F.floating,d.x,d.y]);return c.useMemo(()=>({...d,update:k,refs:R,elements:F,floatingStyles:D}),[d,k,R,F,D])}({strategy:"fixed",placement:i+("center"!==s?"-"+s:""),whileElementsMounted:(...e)=>(function(e,t,n,i){let r;void 0===i&&(i={});let{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:c=!1}=i,u=tU(e),d=s||a?[...u?tH(u):[],...tH(t)]:[];d.forEach(e=>{s&&e.addEventListener("scroll",n,{passive:!0}),a&&e.addEventListener("resize",n)});let h=u&&l?function(e,t){let n,i=null,r=tk(e);function s(){var e;clearTimeout(n),null==(e=i)||e.disconnect(),i=null}return function a(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),s();let c=e.getBoundingClientRect(),{left:u,top:d,width:h,height:p}=c;if(o||t(),!h||!p)return;let f=to(d),m=to(r.clientWidth-(u+h)),g={rootMargin:-f+"px "+-m+"px "+-to(r.clientHeight-(d+p))+"px "+-to(u)+"px",threshold:ts(0,tr(1,l))||1},y=!0;function x(t){let i=t[0].intersectionRatio;if(i!==l){if(!y)return a();i?a(!1,i):n=setTimeout(()=>{a(!1,1e-7)},1e3)}1!==i||t4(c,e.getBoundingClientRect())||a(),y=!1}try{i=new IntersectionObserver(x,{...g,root:r.ownerDocument})}catch(e){i=new IntersectionObserver(x,g)}i.observe(e)}(!0),s}(u,n):null,p=-1,f=null;o&&(f=new ResizeObserver(e=>{let[i]=e;i&&i.target===u&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=f)||e.observe(t)})),n()}),u&&!c&&f.observe(u),f.observe(t));let m=c?tK(e):null;return c&&function t(){let i=tK(e);m&&!t4(m,i)&&n(),m=i,r=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach(e=>{s&&e.removeEventListener("scroll",n),a&&e.removeEventListener("resize",n)}),null==h||h(),null==(e=f)||e.disconnect(),f=null,c&&cancelAnimationFrame(r)}})(...e,{animationFrame:"always"===g}),elements:{reference:w.anchor},middleware:[ns({mainAxis:r+M,alignmentAxis:a}),u&&na({mainAxis:!0,crossAxis:!1,limiter:"partial"===f?no():void 0,...F}),u&&nl({...F}),nc({...F,apply:({elements:e,rects:t,availableWidth:n,availableHeight:i})=>{let{width:r,height:s}=t.reference,a=e.floating.style;a.setProperty("--radix-popper-available-width",`${n}px`),a.setProperty("--radix-popper-available-height",`${i}px`),a.setProperty("--radix-popper-anchor-width",`${r}px`),a.setProperty("--radix-popper-anchor-height",`${s}px`)}}),C&&nd({element:C,padding:o}),nA({arrowWidth:P,arrowHeight:M}),m&&nu({strategy:"referenceHidden",...F})]}),[I,O]=nR(V),q=(0,x.W)(v);(0,np.b)(()=>{z&&q?.()},[z,q]);let _=B.arrow?.x,H=B.arrow?.y,$=B.arrow?.centerOffset!==0,[W,U]=c.useState();return(0,np.b)(()=>{j&&U(window.getComputedStyle(j).zIndex)},[j]),(0,l.jsx)("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:z?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[B.transformOrigin?.x,B.transformOrigin?.y].join(" "),...B.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,l.jsx)(nN,{scope:n,placedSide:I,onArrowChange:T,arrowX:_,arrowY:H,shouldHideArrow:$,children:(0,l.jsx)(y.WV.div,{"data-side":I,"data-align":O,...b,ref:N,style:{...b.style,animation:z?void 0:"none"}})})})});nT.displayName=nE;var nS="PopperArrow",nP={top:"bottom",right:"left",bottom:"top",left:"right"},nM=c.forwardRef(function(e,t){let{__scopePopper:n,...i}=e,r=nC(nS,n),s=nP[r.placedSide];return(0,l.jsx)("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.shouldHideArrow?"hidden":void 0},children:(0,l.jsx)(nh,{...i,ref:t,style:{...i.style,display:"block"}})})});function nk(e){return null!==e}nM.displayName=nS;var nA=e=>({name:"transformOrigin",options:e,fn(t){let{placement:n,rects:i,middlewareData:r}=t,s=r.arrow?.centerOffset!==0,a=s?0:e.arrowWidth,o=s?0:e.arrowHeight,[l,c]=nR(n),u={start:"0%",center:"50%",end:"100%"}[c],d=(r.arrow?.x??0)+a/2,h=(r.arrow?.y??0)+o/2,p="",f="";return"bottom"===l?(p=s?u:`${d}px`,f=`${-o}px`):"top"===l?(p=s?u:`${d}px`,f=`${i.floating.height+o}px`):"right"===l?(p=`${-o}px`,f=s?u:`${h}px`):"left"===l&&(p=`${i.floating.width+o}px`,f=s?u:`${h}px`),{data:{x:p,y:f}}}});function nR(e){let[t,n="center"]=e.split("-");return[t,n]}var nF=n(840),[nD,nL]=(0,p.b)("Tooltip",[ny]),nV=ny(),nz="TooltipProvider",nB="tooltip.open",[nI,nO]=nD(nz),nq=e=>{let{__scopeTooltip:t,delayDuration:n=700,skipDelayDuration:i=300,disableHoverableContent:r=!1,children:s}=e,[a,o]=c.useState(!0),u=c.useRef(!1),d=c.useRef(0);return c.useEffect(()=>{let e=d.current;return()=>window.clearTimeout(e)},[]),(0,l.jsx)(nI,{scope:t,isOpenDelayed:a,delayDuration:n,onOpen:c.useCallback(()=>{window.clearTimeout(d.current),o(!1)},[]),onClose:c.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o(!0),i)},[i]),isPointerInTransitRef:u,onPointerInTransitChange:c.useCallback(e=>{u.current=e},[]),disableHoverableContent:r,children:s})};nq.displayName=nz;var n_="Tooltip",[nH,n$]=nD(n_),nW=e=>{let{__scopeTooltip:t,children:n,open:i,defaultOpen:r=!1,onOpenChange:s,disableHoverableContent:a,delayDuration:o}=e,u=nO(n_,e.__scopeTooltip),d=nV(t),[h,p]=c.useState(null),g=(0,f.M)(),y=c.useRef(0),x=a??u.disableHoverableContent,v=o??u.delayDuration,b=c.useRef(!1),[w=!1,j]=(0,m.T)({prop:i,defaultProp:r,onChange:e=>{e?(u.onOpen(),document.dispatchEvent(new CustomEvent(nB))):u.onClose(),s?.(e)}}),E=c.useMemo(()=>w?b.current?"delayed-open":"instant-open":"closed",[w]),N=c.useCallback(()=>{window.clearTimeout(y.current),y.current=0,b.current=!1,j(!0)},[j]),C=c.useCallback(()=>{window.clearTimeout(y.current),y.current=0,j(!1)},[j]),T=c.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{b.current=!0,j(!0),y.current=0},v)},[v,j]);return c.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),(0,l.jsx)(nb,{...d,children:(0,l.jsx)(nH,{scope:t,contentId:g,open:w,stateAttribute:E,trigger:h,onTriggerChange:p,onTriggerEnter:c.useCallback(()=>{u.isOpenDelayed?T():N()},[u.isOpenDelayed,T,N]),onTriggerLeave:c.useCallback(()=>{x?C():(window.clearTimeout(y.current),y.current=0)},[C,x]),onOpen:N,onClose:C,disableHoverableContent:x,children:n})})};nW.displayName=n_;var nU="TooltipTrigger",nY=c.forwardRef((e,t)=>{let{__scopeTooltip:n,...i}=e,r=n$(nU,n),s=nO(nU,n),a=nV(n),o=c.useRef(null),u=(0,h.e)(t,o,r.onTriggerChange),p=c.useRef(!1),f=c.useRef(!1),m=c.useCallback(()=>p.current=!1,[]);return c.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),(0,l.jsx)(nj,{asChild:!0,...a,children:(0,l.jsx)(y.WV.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...i,ref:u,onPointerMove:(0,d.M)(e.onPointerMove,e=>{"touch"===e.pointerType||f.current||s.isPointerInTransitRef.current||(r.onTriggerEnter(),f.current=!0)}),onPointerLeave:(0,d.M)(e.onPointerLeave,()=>{r.onTriggerLeave(),f.current=!1}),onPointerDown:(0,d.M)(e.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:(0,d.M)(e.onFocus,()=>{p.current||r.onOpen()}),onBlur:(0,d.M)(e.onBlur,r.onClose),onClick:(0,d.M)(e.onClick,r.onClose)})})});nY.displayName=nU;var[nQ,nX]=nD("TooltipPortal",{forceMount:void 0}),nK="TooltipContent",nG=c.forwardRef((e,t)=>{let n=nX(nK,e.__scopeTooltip),{forceMount:i=n.forceMount,side:r="top",...s}=e,a=n$(nK,e.__scopeTooltip);return(0,l.jsx)(M.z,{present:i||a.open,children:a.disableHoverableContent?(0,l.jsx)(n1,{side:r,...s,ref:t}):(0,l.jsx)(nZ,{side:r,...s,ref:t})})}),nZ=c.forwardRef((e,t)=>{let n=n$(nK,e.__scopeTooltip),i=nO(nK,e.__scopeTooltip),r=c.useRef(null),s=(0,h.e)(t,r),[a,o]=c.useState(null),{trigger:u,onClose:d}=n,p=r.current,{onPointerInTransitChange:f}=i,m=c.useCallback(()=>{o(null),f(!1)},[f]),g=c.useCallback((e,t)=>{let n=e.currentTarget,i={x:e.clientX,y:e.clientY},r=function(e,t){let n=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,i,r,s)){case s:return"left";case r:return"right";case n:return"top";case i:return"bottom";default:throw Error("unreachable")}}(i,n.getBoundingClientRect());o(function(e){let t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();let t=[];for(let n=0;n<e.length;n++){let i=e[n];for(;t.length>=2;){let e=t[t.length-1],n=t[t.length-2];if((e.x-n.x)*(i.y-n.y)>=(e.y-n.y)*(i.x-n.x))t.pop();else break}t.push(i)}t.pop();let n=[];for(let t=e.length-1;t>=0;t--){let i=e[t];for(;n.length>=2;){let e=n[n.length-1],t=n[n.length-2];if((e.x-t.x)*(i.y-t.y)>=(e.y-t.y)*(i.x-t.x))n.pop();else break}n.push(i)}return(n.pop(),1===t.length&&1===n.length&&t[0].x===n[0].x&&t[0].y===n[0].y)?t:t.concat(n)}(t)}([...function(e,t,n=5){let i=[];switch(t){case"top":i.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":i.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":i.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":i.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n})}return i}(i,r),...function(e){let{top:t,right:n,bottom:i,left:r}=e;return[{x:r,y:t},{x:n,y:t},{x:n,y:i},{x:r,y:i}]}(t.getBoundingClientRect())])),f(!0)},[f]);return c.useEffect(()=>()=>m(),[m]),c.useEffect(()=>{if(u&&p){let e=e=>g(e,p),t=e=>g(e,u);return u.addEventListener("pointerleave",e),p.addEventListener("pointerleave",t),()=>{u.removeEventListener("pointerleave",e),p.removeEventListener("pointerleave",t)}}},[u,p,g,m]),c.useEffect(()=>{if(a){let e=e=>{let t=e.target,n={x:e.clientX,y:e.clientY},i=u?.contains(t)||p?.contains(t),r=!function(e,t){let{x:n,y:i}=e,r=!1;for(let e=0,s=t.length-1;e<t.length;s=e++){let a=t[e].x,o=t[e].y,l=t[s].x,c=t[s].y;o>i!=c>i&&n<(l-a)*(i-o)/(c-o)+a&&(r=!r)}return r}(n,a);i?m():r&&(m(),d())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[u,p,a,d,m]),(0,l.jsx)(n1,{...e,ref:s})}),[nJ,n0]=nD(n_,{isInside:!1}),n1=c.forwardRef((e,t)=>{let{__scopeTooltip:n,children:i,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=e,u=n$(nK,n),d=nV(n),{onClose:h}=u;return c.useEffect(()=>(document.addEventListener(nB,h),()=>document.removeEventListener(nB,h)),[h]),c.useEffect(()=>{if(u.trigger){let e=e=>{let t=e.target;t?.contains(u.trigger)&&h()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[u.trigger,h]),(0,l.jsx)(g.XB,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:e=>e.preventDefault(),onDismiss:h,children:(0,l.jsxs)(nT,{"data-state":u.stateAttribute,...d,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,l.jsx)(eC.A4,{children:i}),(0,l.jsx)(nJ,{scope:n,isInside:!0,children:(0,l.jsx)(nF.f,{id:u.contentId,role:"tooltip",children:r||i})})]})})});nG.displayName=nK;var n2="TooltipArrow";c.forwardRef((e,t)=>{let{__scopeTooltip:n,...i}=e,r=nV(n);return n0(n2,n).isInside?null:(0,l.jsx)(nM,{...r,...i,ref:t})}).displayName=n2;let n3=c.forwardRef(({className:e,sideOffset:t=4,...n},i)=>l.jsx(nG,{ref:i,sideOffset:t,className:(0,e5.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));n3.displayName=nG.displayName;var n5=n(6991),n4=n(4538),n6=n(7972);let n7=(0,n6.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),n8=c.forwardRef(({className:e,variant:t,...n},i)=>l.jsx("div",{ref:i,role:"alert",className:(0,e5.cn)(n7({variant:t}),e),...n}));n8.displayName="Alert",c.forwardRef(({className:e,...t},n)=>l.jsx("h5",{ref:n,className:(0,e5.cn)("mb-1 font-medium leading-none tracking-tight",e),...t})).displayName="AlertTitle";let n9=c.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:(0,e5.cn)("text-sm [&_p]:leading-relaxed",e),...t}));n9.displayName="AlertDescription";let ie=[{id:"band1",frequency:125,gain:0,Q:2},{id:"band2",frequency:250,gain:0,Q:2},{id:"band3",frequency:500,gain:0,Q:3},{id:"band4",frequency:1e3,gain:0,Q:3},{id:"band5",frequency:2e3,gain:0,Q:4},{id:"band6",frequency:4e3,gain:0,Q:4},{id:"band7",frequency:8e3,gain:0,Q:5},{id:"band8",frequency:16e3,gain:0,Q:4}],it={flat:{id:"flat",name:"Flat",description:"No equalization applied",color:{active:{bg:"#374151",text:"white"},inactive:{bg:"#F3F4F6",text:"#1F2937"}},bands:ie.map(e=>({...e,gain:0}))},notchFilter:{id:"notchFilter",name:"Notch Filter",description:"Reduces volume in the 3-8kHz range where tinnitus commonly occurs",color:{active:{bg:"#1D4ED8",text:"white"},inactive:{bg:"#DBEAFE",text:"#1E40AF"}},bands:ie.map(e=>e.frequency>=3e3&&e.frequency<=8e3?{...e,gain:-12,Q:2}:{...e,gain:0})},speechClarity:{id:"speechClarity",name:"Speech Clarity",description:"Enhances frequencies important for speech understanding",color:{active:{bg:"#047857",text:"white"},inactive:{bg:"#D1FAE5",text:"#065F46"}},bands:ie.map(e=>e.frequency>=500&&e.frequency<=4e3?{...e,gain:5}:e.frequency>4e3?{...e,gain:-3}:{...e,gain:0})},gentleRelief:{id:"gentleRelief",name:"Gentle Relief",description:"Subtle bass enhancement with high frequency attenuation",color:{active:{bg:"#7E22CE",text:"white"},inactive:{bg:"#F3E8FF",text:"#6B21A8"}},bands:ie.map(e=>e.frequency<500?{...e,gain:4}:e.frequency>4e3?{...e,gain:-6,Q:.8}:{...e,gain:0})},masking:{id:"masking",name:"Masking",description:"Enhances frequencies to help mask tinnitus",color:{active:{bg:"#B91C1C",text:"white"},inactive:{bg:"#FEE2E2",text:"#991B1B"}},bands:ie.map(e=>e.frequency<200?{...e,gain:3}:e.frequency<1e3?{...e,gain:5}:e.frequency<5e3?{...e,gain:2}:{...e,gain:-4})}},ii=[{frequency:125,label:"125 Hz - Very Low"},{frequency:250,label:"250 Hz - Low"},{frequency:500,label:"500 Hz - Mid-Low"},{frequency:1e3,label:"1 kHz - Mid"},{frequency:2e3,label:"2 kHz - Mid-High"},{frequency:3e3,label:"3 kHz - High"},{frequency:4e3,label:"4 kHz - Very High"},{frequency:6e3,label:"6 kHz - Very High"},{frequency:8e3,label:"8 kHz - Extremely High"},{frequency:1e4,label:"10 kHz - Extremely High"},{frequency:12e3,label:"12 kHz - Ultrahigh"},{frequency:16e3,label:"16 kHz - Ultrahigh"}],ir=[{title:"Welcome to Tinnitus Calibration",description:"This wizard will help you create a personalized EQ preset for your specific tinnitus frequency. Please use headphones for the best results."},{title:"Identify Your Tinnitus Frequency",description:"Listen to each frequency and select the one that most closely matches your tinnitus. If you don't hear your tinnitus, that's okay - choose the closest match."},{title:"Fine-Tune the Frequency",description:"Adjust the slider to fine-tune the exact frequency of your tinnitus. The goal is to find the frequency that most closely matches what you hear."},{title:"Create Your EQ Preset",description:"We'll create a notch filter at your tinnitus frequency. You can adjust the intensity of the filter using the slider below."},{title:"Save Your Preset",description:"Give your preset a name and save it for future use. You can always modify or delete it later."},{title:"Calibration Complete!",description:"Your custom preset has been created and applied. You can now enjoy music with reduced tinnitus interference."}],is={name:"Elephants Dream",author:"The Wires",cover:"https://i.scdn.co/image/ab67616d0000b2731d1cc2e40d533d7bcebf5dae",audio:"https://storage.googleapis.com/media-session/elephants-dream/the-wires.mp3"},ia={USER_PRESETS:"hearing-heroes-user-presets",LAST_PRESET:"hearing-heroes-last-preset",PLAYBACK_SETTINGS:"hearing-heroes-playback-settings"};class io{constructor(e){this.debounceTimers={},this.audioElement=null,this.nodes={context:null,source:null,filters:[],leftFilters:[],rightFilters:[],splitter:null,merger:null,leftGain:null,rightGain:null},this.initialized=!1,this.eqEnabled=!0,this.leftEarEnabled=!0,this.rightEarEnabled=!0,this.splitEarMode=!1,this.channelMode="stereo",this.soloMode="none",this.balance=.5,this.unifiedBands=[...ie],this.leftEarBands=[...ie],this.rightEarBands=[...ie],this.audioElement=e}debounce(e,t,n){this.debounceTimers[n]&&clearTimeout(this.debounceTimers[n]),this.debounceTimers[n]=window.setTimeout(()=>{e(),delete this.debounceTimers[n]},t)}async initialize(){try{if(this.initialized&&await this.cleanupContext(),!this.audioElement)return console.error("No audio element provided"),!1;let e=new(window.AudioContext||window.webkitAudioContext);return console.log("Audio context created, state:",e.state),"suspended"===e.state&&(await e.resume(),console.log("Audio context resumed, new state:",e.state)),this.nodes.context=e,this.nodes.source=e.createMediaElementSource(this.audioElement),console.log("Media element source created"),this.nodes.source.connect(e.destination),this.initialized=!0,console.log("Audio context initialized successfully"),await this.updateAudioRouting(),!0}catch(e){return console.error("Failed to initialize audio context:",e),!1}}async cleanupContext(){if(this.nodes.context)try{if(this.nodes.source)try{this.nodes.source.disconnect()}catch(e){console.warn("Error disconnecting source:",e)}await this.nodes.context.close(),console.log("Audio context closed"),this.nodes={context:null,source:null,filters:[],leftFilters:[],rightFilters:[],splitter:null,merger:null,leftGain:null,rightGain:null}}catch(e){console.error("Error closing audio context:",e)}}async updateAudioRouting(){try{if(!this.nodes.context||!this.nodes.source)return console.log("Cannot update audio routing - missing context or source"),!1;let e=this.nodes.context,t=this.nodes.source;if((!this.splitEarMode||!(this.nodes.filters.length>0)||0!==this.nodes.leftFilters.length)&&(this.splitEarMode||!(this.nodes.leftFilters.length>0)||0!==this.nodes.filters.length)&&this.nodes.splitter&&this.nodes.merger&&this.nodes.leftGain&&this.nodes.rightGain)console.log("Updating audio parameters without rebuilding graph"),this.applyBalance(),this.applyEQSettings();else{try{t.disconnect()}catch(e){console.warn("Error disconnecting source:",e)}if(console.log("Rebuilding audio routing","Mode:",this.splitEarMode?"split":"unified"),this.nodes.filters=[],this.nodes.leftFilters=[],this.nodes.rightFilters=[],this.nodes.splitter=null,this.nodes.merger=null,this.nodes.leftGain=null,this.nodes.rightGain=null,this.splitEarMode){console.log("Setting up split ear mode");let n=e.createChannelSplitter(2);this.nodes.splitter=n;let i=e.createChannelMerger(2);this.nodes.merger=i;let r=e.createGain(),s=e.createGain();this.nodes.leftGain=r,this.nodes.rightGain=s;let a=this.createFiltersFromBands(e,this.leftEarBands);this.nodes.leftFilters=a;let o=this.createFiltersFromBands(e,this.rightEarBands);this.nodes.rightFilters=o,this.applyBalance(),t.connect(n),n.connect(a[0],0);for(let e=0;e<a.length-1;e++)a[e].connect(a[e+1]);a[a.length-1].connect(r),r.connect(i,0,0),n.connect(o[0],1);for(let e=0;e<o.length-1;e++)o[e].connect(o[e+1]);o[o.length-1].connect(s),s.connect(i,0,1),i.connect(e.destination),this.applyEQSettings(),console.log("Split ear mode setup complete")}else{console.log("Setting up unified mode");let n=this.createFiltersFromBands(e,this.unifiedBands);this.nodes.filters=n;let i=e.createChannelSplitter(2);this.nodes.splitter=i;let r=e.createChannelMerger(2);this.nodes.merger=r;let s=e.createGain(),a=e.createGain();if(this.nodes.leftGain=s,this.nodes.rightGain=a,this.applyBalance(),this.eqEnabled){t.connect(n[0]);for(let e=0;e<n.length-1;e++)n[e].connect(n[e+1]);n[n.length-1].connect(i)}else t.connect(i);i.connect(s,0),i.connect(a,1),s.connect(r,0,0),a.connect(r,0,1),r.connect(e.destination),this.applyEQSettings(),console.log("Unified mode setup complete")}}return!0}catch(e){console.error("Error in updateAudioRouting:",e);try{this.nodes.source&&this.nodes.context&&(this.nodes.source.disconnect(),this.nodes.source.connect(this.nodes.context.destination),console.log("Fallback connection established"))}catch(e){console.error("Fallback connection failed:",e)}return!1}}createFiltersFromBands(e,t){return t.map(t=>{let n=e.createBiquadFilter();return n.type="peaking",n.frequency.value=t.frequency,n.gain.value=this.eqEnabled?t.gain:0,n.Q.value=t.Q,n})}applyBalance(){if(!this.nodes.leftGain||!this.nodes.rightGain)return;let e=this.balance<=.5?1:1-(this.balance-.5)*2,t=this.balance>=.5?1:2*this.balance;this.nodes.leftGain.gain.value=e,this.nodes.rightGain.gain.value=t,"left"===this.soloMode?this.nodes.rightGain.gain.value=0:"right"===this.soloMode&&(this.nodes.leftGain.gain.value=0)}applyEQSettings(){this.splitEarMode?(this.applyBandsToFilters(this.leftEarBands,this.nodes.leftFilters,this.eqEnabled&&this.leftEarEnabled),this.applyBandsToFilters(this.rightEarBands,this.nodes.rightFilters,this.eqEnabled&&this.rightEarEnabled)):this.applyBandsToFilters(this.unifiedBands,this.nodes.filters,this.eqEnabled)}applyBandsToFilters(e,t,n){let i=this.nodes.context?.currentTime||0;e.forEach((e,r)=>{if(r<t.length){let s=t[r],a=n?e.gain:0;s.gain.cancelScheduledValues(i),s.gain.setValueAtTime(s.gain.value,i),s.gain.linearRampToValueAtTime(a,i+.05),s.frequency.cancelScheduledValues(i),s.frequency.setValueAtTime(s.frequency.value,i),s.frequency.exponentialRampToValueAtTime(Math.max(20,e.frequency),i+.05),s.Q.cancelScheduledValues(i),s.Q.setValueAtTime(s.Q.value,i),e.Q,e.Q,s.Q.linearRampToValueAtTime(e.Q,i+.05)}})}approximateResponse(e,t,n){for(let i=0;i<e.length;i++){let r=e[i],s=0;for(let e of n){let t=Math.log(r/e.frequency);s+=e.gain*Math.exp(-t*t*(.5*e.Q))}t[i]=this.eqEnabled?s:0}}setEQEnabled(e){this.eqEnabled=e,this.applyEQSettings(),this.splitEarMode||this.updateAudioRouting()}setUnifiedBands(e){this.unifiedBands=[...e],this.splitEarMode||this.applyBandsToFilters(this.unifiedBands,this.nodes.filters,this.eqEnabled)}setLeftEarBands(e){this.leftEarBands=[...e],this.splitEarMode&&this.applyBandsToFilters(this.leftEarBands,this.nodes.leftFilters,this.eqEnabled&&this.leftEarEnabled)}setRightEarBands(e){this.rightEarBands=[...e],this.splitEarMode&&this.applyBandsToFilters(this.rightEarBands,this.nodes.rightFilters,this.eqEnabled&&this.rightEarEnabled)}setSplitEarMode(e){this.splitEarMode!==e&&(this.splitEarMode=e,this.updateAudioRouting())}setLeftEarEnabled(e){this.leftEarEnabled=e,this.splitEarMode&&(this.applyBandsToFilters(this.leftEarBands,this.nodes.leftFilters,this.eqEnabled&&e),this.applyBalance())}setRightEarEnabled(e){this.rightEarEnabled=e,this.splitEarMode&&(this.applyBandsToFilters(this.rightEarBands,this.nodes.rightFilters,this.eqEnabled&&e),this.applyBalance())}setBalance(e){this.balance=e,this.applyBalance()}setChannelMode(e){this.channelMode=e,console.log("Channel mode set to",e)}setSoloMode(e){this.soloMode=e,this.applyBalance()}applyUnifiedPreset(e){this.unifiedBands=[...e.bands],this.splitEarMode||this.applyBandsToFilters(this.unifiedBands,this.nodes.filters,this.eqEnabled)}applyLeftEarPreset(e){this.leftEarBands=[...e.bands],this.splitEarMode&&this.applyBandsToFilters(this.leftEarBands,this.nodes.leftFilters,this.eqEnabled&&this.leftEarEnabled)}applyRightEarPreset(e){this.rightEarBands=[...e.bands],this.splitEarMode&&this.applyBandsToFilters(this.rightEarBands,this.nodes.rightFilters,this.eqEnabled&&this.rightEarEnabled)}updateSplitEarConfig(e){this.balance=e.balance,this.applyBalance()}dispose(){this.cleanupContext()}getFrequencyResponse(e=200){let t=new Float32Array(e),n=new Float32Array(e),i=new Float32Array(e);for(let n=0;n<e;n++)t[n]=20*Math.pow(10,n/e*3);if(n.fill(0),i.fill(0),!this.nodes.context||!this.nodes.filters.length||this.splitEarMode&&(!this.nodes.leftFilters.length||!this.nodes.rightFilters.length)){if(this.splitEarMode)this.approximateResponse(t,n,this.leftEarBands),this.approximateResponse(t,i,this.rightEarBands);else{this.approximateResponse(t,n,this.unifiedBands);for(let t=0;t<e;t++)i[t]=n[t]}return{frequencies:t,leftMagnitudes:n,rightMagnitudes:i}}if(this.splitEarMode){if(this.nodes.leftFilters.length>0){let i=new Float32Array(e);i.fill(1),this.nodes.leftFilters.forEach(n=>{let r=new Float32Array(e),s=new Float32Array(e);n.getFrequencyResponse(t,r,s);for(let t=0;t<e;t++)i[t]*=r[t]});for(let t=0;t<e;t++)n[t]=20*Math.log10(i[t]);this.leftEarEnabled||n.fill(0)}if(this.nodes.rightFilters.length>0){let n=new Float32Array(e);n.fill(1),this.nodes.rightFilters.forEach(i=>{let r=new Float32Array(e),s=new Float32Array(e);i.getFrequencyResponse(t,r,s);for(let t=0;t<e;t++)n[t]*=r[t]});for(let t=0;t<e;t++)i[t]=20*Math.log10(n[t]);this.rightEarEnabled||i.fill(0)}}else if(this.nodes.filters.length>0){let r=new Float32Array(e);r.fill(1),this.nodes.filters.forEach(n=>{let i=new Float32Array(e),s=new Float32Array(e);n.getFrequencyResponse(t,i,s);for(let t=0;t<e;t++)r[t]*=i[t]});for(let t=0;t<e;t++)n[t]=20*Math.log10(r[t]),i[t]=n[t];this.eqEnabled||(n.fill(0),i.fill(0))}return{frequencies:t,leftMagnitudes:n,rightMagnitudes:i}}}let il=function({song:e}){let t=(0,c.useRef)(null),n=(0,c.useRef)(null),[i,r]=(0,c.useState)({isPlaying:!1,progress:0,currentTime:0,duration:0,isLoaded:!1}),[s,a]=(0,c.useState)(.7),[o,l]=(0,c.useState)(!1),u=async()=>{if(t.current&&!n.current){let e=new io(t.current);if(await e.initialize())return n.current=e,l(!0),!0;console.error("Failed to initialize audio engine")}return!1},d=async()=>{try{if(!t.current){console.error("No audio element available");return}if(i.isPlaying)t.current.pause(),r(e=>({...e,isPlaying:!1}));else{if(o)n.current&&await n.current.updateAudioRouting();else if(console.log("First play - initializing audio engine"),!await u()){console.error("Failed to initialize audio"),console.warn("Failed to initialize audio. Try again or use a different browser.");return}if(n.current?.nodes.context?.state==="suspended"){console.log("Audio context suspended, attempting to resume...");try{await n.current.nodes.context.resume(),console.log("Audio context resumed successfully")}catch(e){console.warn("Failed to resume audio context:",e)}}if(!i.isLoaded)try{t.current.load(),await new Promise((e,n)=>{let i=setTimeout(()=>{n(Error("Audio loading timed out"))},5e3);t.current&&(t.current.oncanplaythrough=()=>{clearTimeout(i),r(e=>({...e,isLoaded:!0})),e()},t.current.onerror=()=>{clearTimeout(i),n(Error("Audio loading failed"))})})}catch(e){console.error("Failed to load audio:",e),console.warn(`Failed to load audio: ${e.message}`);return}try{console.log("Starting playback..."),n.current?.nodes.context&&await n.current.nodes.context.resume();let e=t.current.play();await e,r(e=>({...e,isPlaying:!0})),console.log("✅ Playback started successfully")}catch(e){console.error("❌ Playback error:",e),e instanceof Error&&"NotAllowedError"===e.name?(console.warn("Autoplay blocked by browser. Please try clicking play again."),alert("Browser requires a user interaction to play audio.\nPlease click the play button again.")):console.warn(`Playback error: ${e}`)}}}catch(e){console.error("Error in togglePlayPause:",e)}};return{playbackState:i,audioRef:t,audioEngine:n.current,togglePlayPause:d,handleSeek:e=>{if(t.current&&i.duration>0){let n=e[0]/100*i.duration;t.current.currentTime=n,r(t=>({...t,progress:e[0],currentTime:n}))}},setVolume:e=>{let n=Math.max(0,Math.min(1,e));t.current&&(t.current.volume=n),a(n)},volume:s}};var ic=n(5011),iu=n(203),id=n(5163);async function ih(e,t){try{let n={...e,dateCreated:iu.EK.fromDate(new Date(e.dateCreated)),userId:t},i=(0,iu.JU)((0,iu.hJ)(id.db,"presets"));return e.id.startsWith("custom-")||(n.id=i.id),await (0,iu.pl)(i,n),n.id}catch(e){throw console.error("Error saving user preset:",e),e}}async function ip(e){try{let t=(0,iu.IO)((0,iu.hJ)(id.db,"presets"),(0,iu.ar)("id","==",e)),n=await (0,iu.PL)(t);if(n.empty)return console.error("Preset not found:",e),!1;return await (0,iu.oe)(n.docs[0].ref),!0}catch(e){return console.error("Error deleting user preset:",e),!1}}async function im(e,t){try{let n=(0,iu.JU)(id.db,"settings",t);return await (0,iu.pl)(n,{...e,userId:t,updatedAt:(0,iu.Bt)()}),!0}catch(e){return console.error("Error saving playback settings:",e),!1}}async function ig(e){try{let t=(0,iu.JU)(id.db,"settings",e),n=await (0,iu.QT)(t);if(n.exists())return n.data();return null}catch(e){return console.error("Error getting playback settings:",e),null}}var iy=n(5995),ix=n(3931);function iv(e,[t,n]){return Math.min(n,Math.max(t,e))}var ib=n(1310);function iw(e){let t=c.useRef({value:e,previous:e});return c.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ij=n(3714),iE=["PageUp","PageDown"],iN=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],iC={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},iT="Slider",[iS,iP,iM]=(0,ij.B)(iT),[ik,iA]=(0,p.b)(iT,[iM]),[iR,iF]=ik(iT),iD=c.forwardRef((e,t)=>{let{name:n,min:i=0,max:r=100,step:s=1,orientation:a="horizontal",disabled:o=!1,minStepsBetweenThumbs:u=0,defaultValue:h=[i],value:p,onValueChange:f=()=>{},onValueCommit:g=()=>{},inverted:y=!1,form:x,...v}=e,b=c.useRef(new Set),w=c.useRef(0),j="horizontal"===a?iz:iB,[E=[],N]=(0,m.T)({prop:p,defaultProp:h,onChange:e=>{let t=[...b.current];t[w.current]?.focus(),f(e)}}),C=c.useRef(E);function T(e,t,{commit:n}={commit:!1}){let a=(String(s).split(".")[1]||"").length,o=iv(function(e,t){let n=Math.pow(10,t);return Math.round(e*n)/n}(Math.round((e-i)/s)*s+i,a),[i,r]);N((e=[])=>{var i,r;let a=function(e=[],t,n){let i=[...e];return i[n]=t,i.sort((e,t)=>e-t)}(e,o,t);if(i=a,!(!((r=u*s)>0)||Math.min(...i.slice(0,-1).map((e,t)=>i[t+1]-e))>=r))return e;{w.current=a.indexOf(o);let t=String(a)!==String(e);return t&&n&&g(a),t?a:e}})}return(0,l.jsx)(iR,{scope:e.__scopeSlider,name:n,disabled:o,min:i,max:r,valueIndexToChangeRef:w,thumbs:b.current,values:E,orientation:a,form:x,children:(0,l.jsx)(iS.Provider,{scope:e.__scopeSlider,children:(0,l.jsx)(iS.Slot,{scope:e.__scopeSlider,children:(0,l.jsx)(j,{"aria-disabled":o,"data-disabled":o?"":void 0,...v,ref:t,onPointerDown:(0,d.M)(v.onPointerDown,()=>{o||(C.current=E)}),min:i,max:r,inverted:y,onSlideStart:o?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let n=e.map(e=>Math.abs(e-t));return n.indexOf(Math.min(...n))}(E,e);T(e,t)},onSlideMove:o?void 0:function(e){T(e,w.current)},onSlideEnd:o?void 0:function(){let e=C.current[w.current];E[w.current]!==e&&g(E)},onHomeKeyDown:()=>!o&&T(i,0,{commit:!0}),onEndKeyDown:()=>!o&&T(r,E.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!o){let n=iE.includes(e.key)||e.shiftKey&&iN.includes(e.key),i=w.current;T(E[i]+s*(n?10:1)*t,i,{commit:!0})}}})})})})});iD.displayName=iT;var[iL,iV]=ik(iT,{startEdge:"left",endEdge:"right",size:"width",direction:1}),iz=c.forwardRef((e,t)=>{let{min:n,max:i,dir:r,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:u,onStepKeyDown:d,...p}=e,[f,m]=c.useState(null),g=(0,h.e)(t,e=>m(e)),y=c.useRef(void 0),x=(0,ib.gm)(r),v="ltr"===x,b=v&&!s||!v&&s;function w(e){let t=y.current||f.getBoundingClientRect(),r=iX([0,t.width],b?[n,i]:[i,n]);return y.current=t,r(e-t.left)}return(0,l.jsx)(iL,{scope:e.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:(0,l.jsx)(iI,{dir:x,"data-orientation":"horizontal",...p,ref:g,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=w(e.clientX);a?.(t)},onSlideMove:e=>{let t=w(e.clientX);o?.(t)},onSlideEnd:()=>{y.current=void 0,u?.()},onStepKeyDown:e=>{let t=iC[b?"from-left":"from-right"].includes(e.key);d?.({event:e,direction:t?-1:1})}})})}),iB=c.forwardRef((e,t)=>{let{min:n,max:i,inverted:r,onSlideStart:s,onSlideMove:a,onSlideEnd:o,onStepKeyDown:u,...d}=e,p=c.useRef(null),f=(0,h.e)(t,p),m=c.useRef(void 0),g=!r;function y(e){let t=m.current||p.current.getBoundingClientRect(),r=iX([0,t.height],g?[i,n]:[n,i]);return m.current=t,r(e-t.top)}return(0,l.jsx)(iL,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:(0,l.jsx)(iI,{"data-orientation":"vertical",...d,ref:f,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=y(e.clientY);s?.(t)},onSlideMove:e=>{let t=y(e.clientY);a?.(t)},onSlideEnd:()=>{m.current=void 0,o?.()},onStepKeyDown:e=>{let t=iC[g?"from-bottom":"from-top"].includes(e.key);u?.({event:e,direction:t?-1:1})}})})}),iI=c.forwardRef((e,t)=>{let{__scopeSlider:n,onSlideStart:i,onSlideMove:r,onSlideEnd:s,onHomeKeyDown:a,onEndKeyDown:o,onStepKeyDown:c,...u}=e,h=iF(iT,n);return(0,l.jsx)(y.WV.span,{...u,ref:t,onKeyDown:(0,d.M)(e.onKeyDown,e=>{"Home"===e.key?(a(e),e.preventDefault()):"End"===e.key?(o(e),e.preventDefault()):iE.concat(iN).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:(0,d.M)(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),h.thumbs.has(t)?t.focus():i(e)}),onPointerMove:(0,d.M)(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&r(e)}),onPointerUp:(0,d.M)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),s(e))})})}),iO="SliderTrack",iq=c.forwardRef((e,t)=>{let{__scopeSlider:n,...i}=e,r=iF(iO,n);return(0,l.jsx)(y.WV.span,{"data-disabled":r.disabled?"":void 0,"data-orientation":r.orientation,...i,ref:t})});iq.displayName=iO;var i_="SliderRange",iH=c.forwardRef((e,t)=>{let{__scopeSlider:n,...i}=e,r=iF(i_,n),s=iV(i_,n),a=c.useRef(null),o=(0,h.e)(t,a),u=r.values.length,d=r.values.map(e=>iQ(e,r.min,r.max));return(0,l.jsx)(y.WV.span,{"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,...i,ref:o,style:{...e.style,[s.startEdge]:(u>1?Math.min(...d):0)+"%",[s.endEdge]:100-Math.max(...d)+"%"}})});iH.displayName=i_;var i$="SliderThumb",iW=c.forwardRef((e,t)=>{let n=iP(e.__scopeSlider),[i,r]=c.useState(null),s=(0,h.e)(t,e=>r(e)),a=c.useMemo(()=>i?n().findIndex(e=>e.ref.current===i):-1,[n,i]);return(0,l.jsx)(iU,{...e,ref:s,index:a})}),iU=c.forwardRef((e,t)=>{let{__scopeSlider:n,index:i,name:r,...s}=e,a=iF(i$,n),o=iV(i$,n),[u,p]=c.useState(null),f=(0,h.e)(t,e=>p(e)),m=!u||a.form||!!u.closest("form"),g=nf(u),x=a.values[i],v=void 0===x?0:iQ(x,a.min,a.max),b=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(i,a.values.length),w=g?.[o.size],j=w?function(e,t,n){let i=e/2,r=iX([0,50],[0,i]);return(i-r(t)*n)*n}(w,v,o.direction):0;return c.useEffect(()=>{if(u)return a.thumbs.add(u),()=>{a.thumbs.delete(u)}},[u,a.thumbs]),(0,l.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${v}% + ${j}px)`},children:[(0,l.jsx)(iS.ItemSlot,{scope:e.__scopeSlider,children:(0,l.jsx)(y.WV.span,{role:"slider","aria-label":e["aria-label"]||b,"aria-valuemin":a.min,"aria-valuenow":x,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...s,ref:f,style:void 0===x?{display:"none"}:e.style,onFocus:(0,d.M)(e.onFocus,()=>{a.valueIndexToChangeRef.current=i})})}),m&&(0,l.jsx)(iY,{name:r??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:x},i)]})});iW.displayName=i$;var iY=e=>{let{value:t,...n}=e,i=c.useRef(null),r=iw(t);return c.useEffect(()=>{let e=i.current,n=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(r!==t&&n){let i=new Event("input",{bubbles:!0});n.call(e,t),e.dispatchEvent(i)}},[r,t]),(0,l.jsx)("input",{style:{display:"none"},...n,ref:i,defaultValue:t})};function iQ(e,t,n){return iv(100/(n-t)*(e-t),[0,100])}function iX(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(n-e[0])}}let iK=c.forwardRef(({className:e,...t},n)=>(0,l.jsxs)(iD,{ref:n,className:(0,e5.cn)("relative flex w-full touch-none select-none items-center",e),...t,children:[l.jsx(iq,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:l.jsx(iH,{className:"absolute h-full bg-primary"})}),l.jsx(iW,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));iK.displayName=iD.displayName;let iG="#dd6b20",iZ="#3b82f6",iJ="#ef4444",i0=["60Hz","250Hz","1kHz","2kHz","4kHz","8kHz","12kHz","16kHz"],i1=[60,250,1e3,2e3,4e3,8e3,12e3,16e3],i2=(e,t)=>{if(e<=2e3){let n=Math.log10(60);return(Math.log10(Math.max(60,e))-n)/(Math.log10(2e3)-n)*t*.35}if(e<=8e3){let n=Math.log10(2e3);return .35*t+(Math.log10(e)-n)/(Math.log10(8e3)-n)*(.4*t)}{let n=Math.log10(8e3);return .75*t+(Math.log10(Math.min(16e3,e))-n)/(Math.log10(16e3)-n)*(.25*t)}},i3=(e,t)=>{let n=.35*t,i=.4*t;if(e<=n){let t=Math.log10(60);return Math.pow(10,t+e/n*(Math.log10(2e3)-t))}if(e<=n+i){let t=Math.log10(2e3);return Math.pow(10,t+(e-n)/i*(Math.log10(8e3)-t))}{let r=Math.log10(8e3);return Math.pow(10,r+(e-(n+i))/(t-(n+i))*(Math.log10(16e3)-r))}},i5=(e,t)=>t/2-e/24*t,i4=(e,t)=>-((e-t/2)/t*24),i6=e=>e<100?5*Math.round(e/5):e<1e3?10*Math.round(e/10):e<4e3?50*Math.round(e/50):e<1e4?100*Math.round(e/100):500*Math.round(e/500),i7=({isEQEnabled:e,isSplitEarMode:t,unifiedBands:n,leftEarBands:i,rightEarBands:r,leftEarEnabled:s=!0,rightEarEnabled:a=!0,frequencyResponseData:o,onBandChange:u,onFrequencyChange:d,maxQValue:h=30,height:p=160,showFrequencyLabels:f=!0,showDbLabels:m=!0,interactive:g=!0,minFreq:y=60,maxFreq:x=16e3,minGain:v=-12,maxGain:b=12,allowXDragging:w=!0,allowYDragging:j=!0})=>{let E=(0,c.useRef)(null),N=(0,c.useRef)(null),[C,T]=(0,c.useState)(null),[S,P]=(0,c.useState)(null),[M,k]=(0,c.useState)(!1),[A,R]=(0,c.useState)(null),[F,D]=(0,c.useState)(0);(0,c.useEffect)(()=>{V()},[e,t,n,i,r,o,p]),(0,c.useEffect)(()=>{E.current&&(S?("left"!==S.channel||s)&&("right"!==S.channel||a)?E.current.style.cursor="pointer":E.current.style.cursor="not-allowed":E.current.style.cursor="default")},[S,s,a]),(0,c.useEffect)(()=>{let e=new ResizeObserver(()=>{L()});return N.current&&e.observe(N.current),L(),()=>{e.disconnect()}},[]);let L=()=>{if(E.current&&N.current){let e=N.current.getBoundingClientRect();E.current.width=e.width-8,E.current.height=p-8,V()}},V=()=>{if(!E.current)return;let e=E.current,l=e.getContext("2d");if(!l)return;let{width:c,height:u}=e;l.clearRect(0,0,c,u),l.fillStyle="#f8f9fa",l.fillRect(0,0,c,u),z(l,c,u),t?(B(l,i,iZ,c,u,!s),B(l,r,iJ,c,u,!a),$(l,c,u)):B(l,n,iG,c,u),o&&(l.clearRect(0,0,c,u),l.fillStyle="#f8f9fa",l.fillRect(0,0,c,u),z(l,c,u),O(l,c,u),t&&$(l,c,u)),g&&q(l,c,u)},z=(e,t,n)=>{let i=n/8;e.strokeStyle="#e9ecef",e.lineWidth=1;for(let n=0;n<=8;n++)e.beginPath(),e.moveTo(0,n*i),e.lineTo(t,n*i),e.stroke();for(let i of i1){let r=i2(i,t);e.beginPath(),e.moveTo(r,0),e.lineTo(r,n),e.stroke()}e.strokeStyle="#ced4da",e.lineWidth=2;let r=n/2;e.beginPath(),e.moveTo(0,r),e.lineTo(t,r),e.stroke(),f&&(e.fillStyle="#6c757d",e.font="10px system-ui",e.textAlign="center",i0.forEach((i,r)=>{if(r<i1.length){let s=i2(i1[r],t);e.fillText(i,s,n-5)}})),m&&(e.textAlign="left",e.fillText("+12dB",5,15),e.fillText("0dB",5,n/2-5),e.fillText("-12dB",5,n-15))},B=(t,n,i,r,s,a=!1)=>{t.strokeStyle=i,t.lineWidth=3,!e||a?t.globalAlpha=.4:t.globalAlpha=1;let o=[...n].sort((e,t)=>e.frequency-t.frequency);if(o.length<2){t.globalAlpha=1;return}let l=[];l.push({x:i2(20,r),y:i5(o[0].gain,s)});for(let e=0;e<100;e++){let t=20*Math.pow(1e3,e/99),n=o[0],i=o[o.length-1];for(let e=0;e<o.length-1;e++)if(t>=o[e].frequency&&t<=o[e+1].frequency){n=o[e],i=o[e+1];break}let a=n.frequency,c=i.frequency,u=Math.log(a),d=Math.log(c),h=Math.log(t),p=0;d!==u&&(p=(h-u)/(d-u)),p=I(p,(n.Q+i.Q)/2);let f=n.gain+p*(i.gain-n.gain);l.push({x:i2(t,r),y:i5(f,s)})}l.push({x:i2(2e4,r),y:i5(o[o.length-1].gain,s)}),t.beginPath(),t.moveTo(l[0].x,l[0].y);for(let e=1;e<l.length;e++){let n=l[e-1],i=l[e];if(1===e)t.lineTo(i.x,i.y);else{let r=l[e-2],s=(r.x+2*n.x)/3,a=(r.y+2*n.y)/3,o=(2*n.x+i.x)/3,c=(2*n.y+i.y)/3;t.bezierCurveTo(s,a,o,c,i.x,i.y)}}t.stroke(),t.globalAlpha=1},I=(e,t=1)=>e**(1+Math.min(t/10,2)),O=(n,i,r)=>{if(!o)return;let{frequencies:s,leftMagnitudes:a,rightMagnitudes:l}=o,c=r/2;e?n.globalAlpha=1:n.globalAlpha=.4,n.strokeStyle=t?iZ:iG,n.lineWidth=2,n.beginPath();let u=!1;for(let e=0;e<s.length;e++){let t=i2(s[e],i),o=c-Math.max(Math.min(a[e],12),-12)/24*r;u?n.lineTo(t,o):(n.moveTo(t,o),u=!0)}if(n.stroke(),t){n.strokeStyle=iJ,n.beginPath(),u=!1;for(let e=0;e<s.length;e++){let t=i2(s[e],i),a=c-Math.max(Math.min(l[e],12),-12)/24*r;u?n.lineTo(t,a):(n.moveTo(t,a),u=!0)}n.stroke()}n.globalAlpha=1},q=(e,o,l)=>{g&&(t?(i.forEach(t=>{let n=S?.bandId===t.id&&S?.channel==="left",i=C?.bandId===t.id&&C?.channel==="left";_(e,t,iZ,o,l,n||i,"left",!s)}),r.forEach(t=>{let n=S?.bandId===t.id&&S?.channel==="right",i=C?.bandId===t.id&&C?.channel==="right";_(e,t,iJ,o,l,n||i,"right",!a)})):n.forEach(t=>{let n=S?.bandId===t.id&&S?.channel==="unified",i=C?.bandId===t.id&&C?.channel==="unified";_(e,t,iG,o,l,n||i,"unified")}))},_=(t,n,i,r,s,a,o,l=!1)=>{let c=i2(n.frequency,r),u=i5(n.gain,s),d=a?8:6;if(!e||l?t.globalAlpha=.4:t.globalAlpha=1,t.fillStyle=i,t.beginPath(),t.arc(c,u,d,0,2*Math.PI),t.fill(),t.strokeStyle="white",t.lineWidth=2,t.beginPath(),t.arc(c,u,d,0,2*Math.PI),t.stroke(),M&&A&&A.bandId===n.id&&A.channel===o){t.strokeStyle="yellow",t.lineWidth=1.5,t.beginPath();let e=Math.min(d*(1+n.Q/10),3*d);t.arc(c,u,e,0,2*Math.PI),t.stroke(),t.fillStyle="yellow",t.font="bold 10px sans-serif",t.textAlign="center",t.textBaseline="middle",t.fillText(`Q: ${n.Q.toFixed(1)}`,c,u-e-5)}if(t.globalAlpha=1,a&&E.current){let e=M&&A&&A.bandId===n.id&&A.channel===o?`${n.frequency.toFixed(0)} Hz: ${n.gain.toFixed(1)} dB, Q: ${n.Q.toFixed(1)}`:`${n.frequency.toFixed(0)} Hz: ${n.gain.toFixed(1)} dB`;H(n.frequency,n.gain,c,u,e),w&&j?(t.strokeStyle="rgba(255,255,255,0.7)",t.lineWidth=1,t.beginPath(),t.moveTo(c-2*d,u),t.lineTo(c+2*d,u),t.moveTo(c,u-2*d),t.lineTo(c,u+2*d),t.stroke()):w?(t.strokeStyle="rgba(255,255,255,0.7)",t.lineWidth=1,t.beginPath(),t.moveTo(c-2*d,u),t.lineTo(c+2*d,u),t.stroke()):j&&(t.strokeStyle="rgba(255,255,255,0.7)",t.lineWidth=1,t.beginPath(),t.moveTo(c,u-2*d),t.lineTo(c,u+2*d),t.stroke())}},H=(e,t,n,i,r)=>{let s=E.current;if(!s)return;let a=s.getBoundingClientRect();document.querySelectorAll(".eq-tooltip").forEach(e=>e.remove());let o=document.createElement("div");o.className="absolute z-10 bg-black/80 text-white text-xs rounded px-2 py-1 eq-tooltip",o.style.left=`${a.left+n}px`,o.style.top=`${a.top+i-30}px`,o.style.transform="translateX(-50%)",o.textContent=r||`${e.toFixed(0)} Hz: ${t.toFixed(1)} dB`,document.body.appendChild(o)},$=(e,t,n)=>{e.font="12px system-ui",e.fillStyle=iZ,e.fillText("Left",t-60,20),e.fillStyle=iJ,e.fillText("Right",t-60,40)},W=(e,t)=>{if(A?.bandId===e&&A?.channel===t){k(!1),R(null);return}let s=1;if("unified"===t){let t=n.find(t=>t.id===e);t&&(s=t.Q)}else if("left"===t){let t=i.find(t=>t.id===e);t&&(s=t.Q)}else if("right"===t){let t=r.find(t=>t.id===e);t&&(s=t.Q)}R({bandId:e,channel:t,initialQ:s}),k(!0),T(null)},U=e=>{A&&(u(A.bandId,void 0,e,A.channel),requestAnimationFrame(()=>{V()}))},Y=(e,t)=>{if("unified"===t){let t=n.find(t=>t.id===e);return t?.Q||1}if("left"===t){let t=i.find(t=>t.id===e);return t?.Q||1}if("right"===t){let t=r.find(t=>t.id===e);return t?.Q||1}return 1},Q=(e,o)=>{if(!E.current)return null;let{width:l,height:c}=E.current,u=20,d=null,h=(t,n)=>{let i=Math.sqrt(Math.pow(i2(t.frequency,l)-e,2)+Math.pow(i5(t.gain,c)-o,2));i<u&&(u=i,d={bandId:t.id,channel:n})};return t?(s&&i.forEach(e=>h(e,"left")),a&&r.forEach(e=>h(e,"right"))):n.forEach(e=>h(e,"unified")),d};return(0,c.useEffect)(()=>{E.current&&(S?E.current.style.cursor="pointer":E.current.style.cursor="default")},[S]),(0,c.useEffect)(()=>{E.current&&C&&(C.isDraggingX&&!C.isDraggingY?E.current.style.cursor="ew-resize":!C.isDraggingX&&C.isDraggingY?E.current.style.cursor="ns-resize":C.isDraggingX&&C.isDraggingY&&(E.current.style.cursor="move"))},[C]),(0,l.jsxs)("div",{ref:N,className:"relative w-full h-full border border-gray-200 rounded-md overflow-hidden",style:{height:p},children:[l.jsx("div",{className:"p-2 w-full h-full",children:l.jsx("canvas",{ref:E,style:{display:"block"},height:p-4,onMouseDown:t=>{if(!g||!e||!E.current)return;let o=E.current.getBoundingClientRect(),l=t.clientX-o.left,c=t.clientY-o.top,u=Q(l,c);if(u){if("left"===u.channel&&!s||"right"===u.channel&&!a)return;let e=Date.now(),o=e-F<300;if(D(e),o){W(u.bandId,u.channel);return}let d=0,h=0;if("unified"===u.channel){let e=n.find(e=>e.id===u.bandId);e&&(d=e.frequency,h=e.gain)}else if("left"===u.channel){let e=i.find(e=>e.id===u.bandId);e&&(d=e.frequency,h=e.gain)}else if("right"===u.channel){let e=r.find(e=>e.id===u.bandId);e&&(d=e.frequency,h=e.gain)}if(M&&A&&(A.bandId!==u.bandId||A.channel!==u.channel)){W(u.bandId,u.channel);return}M&&(k(!1),R(null)),T({bandId:u.bandId,channel:u.channel,initialX:l,initialY:c,initialFreq:d,initialGain:h,isDraggingX:w,isDraggingY:j}),t.preventDefault()}else k(!1),R(null)},onMouseMove:e=>{if(!g||!E.current)return;let t=E.current,n=t.getBoundingClientRect(),i=e.clientX-n.left,r=e.clientY-n.top;if(C){if(!C.isDraggingX&&!C.isDraggingY){let e=Math.abs(i-C.initialX),t=Math.abs(r-C.initialY);e>t&&w?T(e=>e?{...e,isDraggingX:!0,isDraggingY:!1}:null):t>=e&&j&&T(e=>e?{...e,isDraggingX:!1,isDraggingY:!0}:null);return}let e=C.initialGain,n=C.initialFreq;C.isDraggingY&&j&&(e=Math.max(Math.min(e=i4(r,t.height),b),v),u(C.bandId,e,void 0,C.channel)),C.isDraggingX&&w&&d&&(n=i6(n=Math.max(Math.min(n=i3(i,t.width),x),y)),d(C.bandId,n,C.channel)),H(n,e,i,r)}else P(Q(i,r))},onMouseUp:e=>{if(C&&E.current){let t=E.current.getBoundingClientRect();P(Q(e.clientX-t.left,e.clientY-t.top))}T(null),document.querySelectorAll(".eq-tooltip").forEach(e=>e.remove())},onMouseLeave:()=>{P(null),C||T(null),document.querySelectorAll(".eq-tooltip").forEach(e=>e.remove())}})}),M&&A&&(0,l.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-black/80 text-white p-2 flex items-center gap-2",children:[l.jsx("span",{className:"text-xs whitespace-nowrap",children:"Q Value:"}),l.jsx(iK,{min:.1,max:h||30,step:.1,value:[Y(A.bandId,A.channel)],onValueChange:e=>U(e[0]),className:"flex-1"}),l.jsx("span",{className:"text-xs font-mono",children:Y(A.bandId,A.channel).toFixed(1)}),l.jsx(e7.z,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-white",onClick:()=>{k(!1),R(null)},children:l.jsx(e3.Z,{className:"h-3 w-3"})})]})]})},i8=(0,e8.Z)("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),i9=(0,e8.Z)("Volume1",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}]]),re=(0,e8.Z)("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),rt=(0,e8.Z)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),rn=(0,e8.Z)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),ri=e=>isNaN(e)||!isFinite(e)?"00:00":`${Math.floor(e/60).toString().padStart(2,"0")}:${Math.floor(e%60).toString().padStart(2,"0")}`,rr=({playbackState:e,onPlayPause:t,onSeek:n,onVolumeChange:i,volume:r=1,showVolumeControl:s=!1})=>{let{isPlaying:a,progress:o,currentTime:u,duration:d,isLoaded:h}=e,p=(0,c.useRef)(o),[f,m]=(0,c.useState)(o),[g,y]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{!g&&Math.abs(p.current-o)>.5&&(p.current=o,requestAnimationFrame(()=>{m(o)}))},[o,g]),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"w-10"}),l.jsx(e7.z,{className:"w-12 h-12 rounded-full bg-black text-white flex items-center justify-center hover:bg-gray-800 transition-colors",onClick:t,children:a?l.jsx(rt,{size:24,fill:"white"}):l.jsx(rn,{size:24,fill:"white"})}),s&&i&&(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[l.jsx(e7.z,{size:"icon",variant:"ghost",className:"h-8 w-8 text-gray-500",onClick:()=>i([0===r?.5:0]),children:0===r?l.jsx(i8,{size:18}):r<.5?l.jsx(i9,{size:18}):l.jsx(re,{size:18})}),l.jsx(iK,{className:"w-24",value:[r],min:0,max:1,step:.01,onValueChange:i})]}),!s&&l.jsx("div",{className:"w-10"})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[l.jsx("div",{onPointerDown:()=>{y(!0)},children:l.jsx(iK,{defaultValue:[f],value:g?void 0:[f],min:0,max:100,step:.01,onValueChange:e=>{g&&m(e[0])},onValueCommit:e=>{p.current=e[0],m(e[0]),n(e),y(!1)},className:"cursor-pointer"})}),(0,l.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[l.jsx("span",{children:ri(u)}),l.jsx("span",{children:ri(d)})]})]})]})};var rs="Switch",[ra,ro]=(0,p.b)(rs),[rl,rc]=ra(rs),ru=c.forwardRef((e,t)=>{let{__scopeSwitch:n,name:i,checked:r,defaultChecked:s,required:a,disabled:o,value:u="on",onCheckedChange:p,form:f,...g}=e,[x,v]=c.useState(null),b=(0,h.e)(t,e=>v(e)),w=c.useRef(!1),j=!x||f||!!x.closest("form"),[E=!1,N]=(0,m.T)({prop:r,defaultProp:s,onChange:p});return(0,l.jsxs)(rl,{scope:n,checked:E,disabled:o,children:[(0,l.jsx)(y.WV.button,{type:"button",role:"switch","aria-checked":E,"aria-required":a,"data-state":rf(E),"data-disabled":o?"":void 0,disabled:o,value:u,...g,ref:b,onClick:(0,d.M)(e.onClick,e=>{N(e=>!e),j&&(w.current=e.isPropagationStopped(),w.current||e.stopPropagation())})}),j&&(0,l.jsx)(rp,{control:x,bubbles:!w.current,name:i,value:u,checked:E,required:a,disabled:o,form:f,style:{transform:"translateX(-100%)"}})]})});ru.displayName=rs;var rd="SwitchThumb",rh=c.forwardRef((e,t)=>{let{__scopeSwitch:n,...i}=e,r=rc(rd,n);return(0,l.jsx)(y.WV.span,{"data-state":rf(r.checked),"data-disabled":r.disabled?"":void 0,...i,ref:t})});rh.displayName=rd;var rp=e=>{let{control:t,checked:n,bubbles:i=!0,...r}=e,s=c.useRef(null),a=iw(n),o=nf(t);return c.useEffect(()=>{let e=s.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(a!==n&&t){let r=new Event("click",{bubbles:i});t.call(e,n),e.dispatchEvent(r)}},[a,n,i]),(0,l.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:s,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function rf(e){return e?"checked":"unchecked"}let rm=c.forwardRef(({className:e,...t},n)=>l.jsx(ru,{className:(0,e5.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:l.jsx(rh,{className:(0,e5.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));rm.displayName=ru.displayName;var rg=n(1605);let ry=(0,e8.Z)("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]),rx=(0,e8.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),rv=(0,e8.Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),rb=(0,n6.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function rw({className:e,variant:t,...n}){return l.jsx("div",{className:(0,e5.cn)(rb({variant:t}),e),...n})}let rj=({isEQEnabled:e,isSplitEarMode:t,splitEarConfig:n,leftEarEnabled:i=!0,rightEarEnabled:r=!0,dbRange:s=24,onDbRangeChange:a,onEQToggle:o,onSplitEarToggle:c,onLeftEarToggle:u,onRightEarToggle:d,onBalanceChange:h,onResetEQ:p,onSavePreset:f,maxGainRange:m,maxQValue:g,onMaxGainRangeChange:y,onMaxQValueChange:x,activeTab:v="eq",onTabChange:b,showCalibration:w=!0,onStartCalibration:j})=>l.jsx("div",{className:"border-t border-gray-100 pt-4",children:(0,l.jsxs)(rg.Tabs,{defaultValue:v,value:v,onValueChange:b,children:[(0,l.jsxs)(rg.TabsList,{className:"grid grid-cols-2 mb-4",children:[(0,l.jsxs)(rg.TabsTrigger,{value:"eq",className:"text-xs",children:[l.jsx(ry,{className:"h-3 w-3 mr-1"}),"Equalizer"]}),(0,l.jsxs)(rg.TabsTrigger,{value:"settings",className:"text-xs",children:[l.jsx(rx,{className:"h-3 w-3 mr-1"}),"Settings",l.jsx("span",{className:"ml-1 text-[9px] bg-blue-100 text-blue-700 px-1 rounded",children:"Soon"})]})]}),(0,l.jsxs)(rg.TabsContent,{value:"eq",className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[l.jsx(rm,{checked:e,onCheckedChange:o,id:"eq-toggle"}),(0,l.jsxs)("label",{htmlFor:"eq-toggle",className:"text-sm font-medium",children:["EQ ",e?"On":"Off"]})]}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx(e7.z,{variant:"outline",size:"sm",onClick:c,className:"text-xs h-8",children:t?"Unified Mode":"Split Ear Mode"})})]}),t&&u&&d&&(0,l.jsxs)("div",{className:"flex justify-between items-center gap-4 p-2 bg-slate-50 rounded-md",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx(rm,{checked:i,onCheckedChange:u,id:"left-ear-toggle"}),(0,l.jsxs)("label",{htmlFor:"left-ear-toggle",className:"text-xs font-medium flex items-center",children:[l.jsx(rw,{className:"mr-1 h-1.5 w-1.5 rounded-full bg-blue-500"}),"Left Ear"]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx(rm,{checked:r,onCheckedChange:d,id:"right-ear-toggle"}),(0,l.jsxs)("label",{htmlFor:"right-ear-toggle",className:"text-xs font-medium flex items-center",children:[l.jsx(rw,{className:"mr-1 h-1.5 w-1.5 rounded-full bg-red-500"}),"Right Ear"]})]})]}),(0,l.jsxs)("div",{className:"space-y-2 mt-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm font-medium",children:"Balance"}),(0,l.jsxs)(e7.z,{onClick:p,size:"sm",variant:"outline",className:"h-7 text-xs",children:[l.jsx(rv,{className:"h-3 w-3 mr-1"}),"Reset EQ"]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-xs",children:"L"}),l.jsx(iK,{value:[n.balance],min:0,max:1,step:.01,onValueChange:h,disabled:!e}),l.jsx("span",{className:"text-xs",children:"R"})]})]}),w&&j&&l.jsx("div",{className:"pt-3 mt-1 border-t border-gray-100",children:(0,l.jsxs)(e7.z,{variant:"secondary",className:"w-full bg-blue-50 text-blue-700 hover:bg-blue-100 border border-blue-200",onClick:j,children:[l.jsx(tt,{className:"h-4 w-4 mr-2"}),"Calibrate for Tinnitus"]})})]}),l.jsx(rg.TabsContent,{value:"settings",className:"space-y-4",children:(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center p-6 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"bg-blue-50 text-blue-700 p-3 rounded-full mb-4",children:l.jsx(rx,{className:"h-6 w-6"})}),l.jsx("h3",{className:"text-lg font-medium",children:"Advanced Settings"}),l.jsx("p",{className:"text-sm text-center text-gray-500 mt-2 mb-4",children:"Additional settings like gain range, Q values, and more advanced controls are coming soon!"}),l.jsx("p",{className:"text-xs text-blue-600",children:"We're working hard to bring you more customization options."})]})})]})});var rE="horizontal",rN=["horizontal","vertical"],rC=c.forwardRef((e,t)=>{let{decorative:n,orientation:i=rE,...r}=e,s=rN.includes(i)?i:rE;return(0,l.jsx)(y.WV.div,{"data-orientation":s,...n?{role:"none"}:{"aria-orientation":"vertical"===s?s:void 0,role:"separator"},...r,ref:t})});rC.displayName="Separator";let rT=c.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...i},r)=>l.jsx(rC,{ref:r,decorative:n,orientation:t,className:(0,e5.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...i}));function rS(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function rP(e){let t=[{},{}];return null==e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function rM(e,t,n,i){if("function"==typeof t){let[r,s]=rP(i);t=t(void 0!==n?n:e.custom,r,s)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){let[r,s]=rP(i);t=t(void 0!==n?n:e.custom,r,s)}return t}function rk(e,t,n){let i=e.getProps();return rM(i,t,void 0!==n?n:i.custom,e)}function rA(e){let t;return()=>(void 0===t&&(t=e()),t)}rT.displayName=rC.displayName;let rR=rA(()=>void 0!==window.ScrollTimeline);class rF{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){let n=this.animations.map(n=>rR()&&n.attachTimeline?n.attachTimeline(e):"function"==typeof t?t(n):void 0);return()=>{n.forEach((e,t)=>{e&&e(),this.animations[t].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class rD extends rF{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function rL(e,t){return e?e[t]||e.default||e:void 0}function rV(e){let t=0,n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}function rz(e){return"function"==typeof e}function rB(e,t){e.timeline=t,e.onfinish=null}let rI=e=>Array.isArray(e)&&"number"==typeof e[0],rO={linearEasing:void 0},rq=function(e,t){let n=rA(e);return()=>{var e;return null!==(e=rO[t])&&void 0!==e?e:n()}}(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),r_=(e,t,n)=>{let i=t-e;return 0===i?1:(n-e)/i},rH=(e,t,n=10)=>{let i="",r=Math.max(Math.round(t/n),2);for(let t=0;t<r;t++)i+=e(r_(0,r-1,t))+", ";return`linear(${i.substring(0,i.length-2)})`},r$=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,rW={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:r$([0,.65,.55,1]),circOut:r$([.55,0,1,.45]),backIn:r$([.31,.01,.66,-.59]),backOut:r$([.33,1.53,.69,.99])},rU={x:!1,y:!1};function rY(e,t){let n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"==typeof e){let t=document.querySelectorAll(e);return t?Array.from(t):[]}return Array.from(e)}(e),i=new AbortController;return[n,{passive:!0,...t,signal:i.signal},()=>i.abort()]}function rQ(e){return!("touch"===e.pointerType||rU.x||rU.y)}function rX(e,t){let n=`${t}PointerCapture`;if(e.target instanceof Element&&n in e.target&&void 0!==e.pointerId)try{e.target[n](e.pointerId)}catch(e){}}let rK=(e,t)=>!!t&&(e===t||rK(e,t.parentElement)),rG=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,rZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),rJ=new WeakSet;function r0(e){return t=>{"Enter"===t.key&&e(t)}}function r1(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}let r2=(e,t)=>{let n=e.currentTarget;if(!n)return;let i=r0(()=>{if(rJ.has(n))return;r1(n,"down");let e=r0(()=>{r1(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>r1(n,"cancel"),t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function r3(e){return rG(e)&&!(rU.x||rU.y)}let r5=e=>1e3*e,r4=e=>e/1e3,r6=e=>e,r7=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],r8=new Set(r7),r9=new Set(["width","height","top","left","right","bottom",...r7]),se=e=>Array.isArray(e),st=e=>!!(e&&"object"==typeof e&&e.mix&&e.toValue),sn=e=>se(e)?e[e.length-1]||0:e,si={skipAnimations:!1,useManualTiming:!1},sr=["read","resolveKeyframes","update","preRender","render","postRender"],ss={value:null,addProjectionMetrics:null};function sa(e,t){let n=!1,i=!0,r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=sr.reduce((e,n)=>(e[n]=function(e,t){let n=new Set,i=new Set,r=!1,s=!1,a=new WeakSet,o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){a.has(t)&&(u.schedule(t),e()),l++,t(o)}let u={schedule:(e,t=!1,s=!1)=>{let o=s&&r?n:i;return t&&a.add(e),o.has(e)||o.add(e),e},cancel:e=>{i.delete(e),a.delete(e)},process:e=>{if(o=e,r){s=!0;return}r=!0,[n,i]=[i,n],n.forEach(c),t&&ss.value&&ss.value.frameloop[t].push(l),l=0,n.clear(),r=!1,s&&(s=!1,u.process(e))}};return u}(s,t?n:void 0),e),{}),{read:o,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:h}=a,p=()=>{let s=si.useManualTiming?r.timestamp:performance.now();n=!1,si.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(s-r.timestamp,40),1)),r.timestamp=s,r.isProcessing=!0,o.process(r),l.process(r),c.process(r),u.process(r),d.process(r),h.process(r),r.isProcessing=!1,n&&t&&(i=!1,e(p))},f=()=>{n=!0,i=!0,r.isProcessing||e(p)};return{schedule:sr.reduce((e,t)=>{let i=a[t];return e[t]=(e,t=!1,r=!1)=>(n||f(),i.schedule(e,t,r)),e},{}),cancel:e=>{for(let t=0;t<sr.length;t++)a[sr[t]].cancel(e)},state:r,steps:a}}let{schedule:so,cancel:sl,state:sc,steps:su}=sa("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:r6,!0);function sd(){i=void 0}let sh={now:()=>(void 0===i&&sh.set(sc.isProcessing||si.useManualTiming?sc.timestamp:performance.now()),i),set:e=>{i=e,queueMicrotask(sd)}};function sp(e,t){-1===e.indexOf(t)&&e.push(t)}function sf(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}class sm{constructor(){this.subscriptions=[]}add(e){return sp(this.subscriptions,e),()=>sf(this.subscriptions,e)}notify(e,t,n){let i=this.subscriptions.length;if(i){if(1===i)this.subscriptions[0](e,t,n);else for(let r=0;r<i;r++){let i=this.subscriptions[r];i&&i(e,t,n)}}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}let sg=e=>!isNaN(parseFloat(e)),sy={current:void 0};class sx{constructor(e,t={}){this.version="12.4.7",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{let n=sh.now();this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=sh.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=sg(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new sm);let n=this.events[e].add(t);return"change"===e?()=>{n(),so.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return sy.current&&sy.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var e;let t=sh.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;let n=Math.min(this.updatedAt-this.prevUpdatedAt,30);return e=parseFloat(this.current)-parseFloat(this.prevFrameValue),n?1e3/n*e:0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sv(e,t){return new sx(e,t)}let sb=e=>!!(e&&e.getVelocity);function sw(e,t){let n=e.getValue("willChange");if(sb(n)&&n.add)return n.add(t)}let sj=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),sE="data-"+sj("framerAppearId"),sN={current:!1},sC=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function sT(e,t,n,i){if(e===t&&n===i)return r6;let r=t=>(function(e,t,n,i,r){let s,a;let o=0;do(s=sC(a=t+(n-t)/2,i,r)-e)>0?n=a:t=a;while(Math.abs(s)>1e-7&&++o<12);return a})(t,0,1,e,n);return e=>0===e||1===e?e:sC(r(e),t,i)}let sS=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,sP=e=>t=>1-e(1-t),sM=sT(.33,1.53,.69,.99),sk=sP(sM),sA=sS(sk),sR=e=>(e*=2)<1?.5*sk(e):.5*(2-Math.pow(2,-10*(e-1))),sF=e=>1-Math.sin(Math.acos(e)),sD=sP(sF),sL=sS(sF),sV=e=>/^0[^.\s]+$/u.test(e),sz=(e,t,n)=>n>t?t:n<e?e:n,sB={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},sI={...sB,transform:e=>sz(0,1,e)},sO={...sB,default:1},sq=e=>Math.round(1e5*e)/1e5,s_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,sH=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,s$=(e,t)=>n=>!!("string"==typeof n&&sH.test(n)&&n.startsWith(e)||t&&null!=n&&Object.prototype.hasOwnProperty.call(n,t)),sW=(e,t,n)=>i=>{if("string"!=typeof i)return i;let[r,s,a,o]=i.match(s_);return{[e]:parseFloat(r),[t]:parseFloat(s),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},sU=e=>sz(0,255,e),sY={...sB,transform:e=>Math.round(sU(e))},sQ={test:s$("rgb","red"),parse:sW("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+sY.transform(e)+", "+sY.transform(t)+", "+sY.transform(n)+", "+sq(sI.transform(i))+")"},sX={test:s$("#"),parse:function(e){let t="",n="",i="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}},transform:sQ.transform},sK=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),sG=sK("deg"),sZ=sK("%"),sJ=sK("px"),s0=sK("vh"),s1=sK("vw"),s2={...sZ,parse:e=>sZ.parse(e)/100,transform:e=>sZ.transform(100*e)},s3={test:s$("hsl","hue"),parse:sW("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+sZ.transform(sq(t))+", "+sZ.transform(sq(n))+", "+sq(sI.transform(i))+")"},s5={test:e=>sQ.test(e)||sX.test(e)||s3.test(e),parse:e=>sQ.test(e)?sQ.parse(e):s3.test(e)?s3.parse(e):sX.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?sQ.transform(e):s3.transform(e)},s4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,s6="number",s7="color",s8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function s9(e){let t=e.toString(),n=[],i={color:[],number:[],var:[]},r=[],s=0,a=t.replace(s8,e=>(s5.test(e)?(i.color.push(s),r.push(s7),n.push(s5.parse(e))):e.startsWith("var(")?(i.var.push(s),r.push("var"),n.push(e)):(i.number.push(s),r.push(s6),n.push(parseFloat(e))),++s,"${}")).split("${}");return{values:n,split:a,indexes:i,types:r}}function ae(e){return s9(e).values}function at(e){let{split:t,types:n}=s9(e),i=t.length;return e=>{let r="";for(let s=0;s<i;s++)if(r+=t[s],void 0!==e[s]){let t=n[s];t===s6?r+=sq(e[s]):t===s7?r+=s5.transform(e[s]):r+=e[s]}return r}}let an=e=>"number"==typeof e?0:e,ai={test:function(e){var t,n;return isNaN(e)&&"string"==typeof e&&((null===(t=e.match(s_))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(s4))||void 0===n?void 0:n.length)||0)>0},parse:ae,createTransformer:at,getAnimatableNone:function(e){let t=ae(e);return at(e)(t.map(an))}},ar=new Set(["brightness","contrast","saturate","opacity"]);function as(e){let[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[i]=n.match(s_)||[];if(!i)return e;let r=n.replace(i,""),s=ar.has(t)?1:0;return i!==n&&(s*=100),t+"("+s+r+")"}let aa=/\b([a-z-]*)\(.*?\)/gu,ao={...ai,getAnimatableNone:e=>{let t=e.match(aa);return t?t.map(as).join(" "):e}},al={...sB,transform:Math.round},ac={borderWidth:sJ,borderTopWidth:sJ,borderRightWidth:sJ,borderBottomWidth:sJ,borderLeftWidth:sJ,borderRadius:sJ,radius:sJ,borderTopLeftRadius:sJ,borderTopRightRadius:sJ,borderBottomRightRadius:sJ,borderBottomLeftRadius:sJ,width:sJ,maxWidth:sJ,height:sJ,maxHeight:sJ,top:sJ,right:sJ,bottom:sJ,left:sJ,padding:sJ,paddingTop:sJ,paddingRight:sJ,paddingBottom:sJ,paddingLeft:sJ,margin:sJ,marginTop:sJ,marginRight:sJ,marginBottom:sJ,marginLeft:sJ,backgroundPositionX:sJ,backgroundPositionY:sJ,rotate:sG,rotateX:sG,rotateY:sG,rotateZ:sG,scale:sO,scaleX:sO,scaleY:sO,scaleZ:sO,skew:sG,skewX:sG,skewY:sG,distance:sJ,translateX:sJ,translateY:sJ,translateZ:sJ,x:sJ,y:sJ,z:sJ,perspective:sJ,transformPerspective:sJ,opacity:sI,originX:s2,originY:s2,originZ:sJ,zIndex:al,size:sJ,fillOpacity:sI,strokeOpacity:sI,numOctaves:al},au={...ac,color:s5,backgroundColor:s5,outlineColor:s5,fill:s5,stroke:s5,borderColor:s5,borderTopColor:s5,borderRightColor:s5,borderBottomColor:s5,borderLeftColor:s5,filter:ao,WebkitFilter:ao},ad=e=>au[e];function ah(e,t){let n=ad(e);return n!==ao&&(n=ai),n.getAnimatableNone?n.getAnimatableNone(t):void 0}let ap=new Set(["auto","none","0"]),af=e=>e===sB||e===sJ,am=(e,t)=>parseFloat(e.split(", ")[t]),ag=(e,t)=>(n,{transform:i})=>{if("none"===i||!i)return 0;let r=i.match(/^matrix3d\((.+)\)$/u);if(r)return am(r[1],t);{let t=i.match(/^matrix\((.+)\)$/u);return t?am(t[1],e):0}},ay=new Set(["x","y","z"]),ax=r7.filter(e=>!ay.has(e)),av={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:ag(4,13),y:ag(5,14)};av.translateX=av.x,av.translateY=av.y;let ab=new Set,aw=!1,aj=!1;function aE(){if(aj){let e=Array.from(ab).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{let t=function(e){let t=[];return ax.forEach(n=>{let i=e.getValue(n);void 0!==i&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=n.get(e);t&&t.forEach(([t,n])=>{var i;null===(i=e.getValue(t))||void 0===i||i.set(n)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}aj=!1,aw=!1,ab.forEach(e=>e.complete()),ab.clear()}function aN(){ab.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(aj=!0)})}class aC{constructor(e,t,n,i,r,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=i,this.element=r,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ab.add(this),aw||(aw=!0,so.read(aN),so.resolveKeyframes(aE))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:n,motionValue:i}=this;for(let r=0;r<e.length;r++)if(null===e[r]){if(0===r){let r=null==i?void 0:i.get(),s=e[e.length-1];if(void 0!==r)e[0]=r;else if(n&&t){let i=n.readValue(t,s);null!=i&&(e[0]=i)}void 0===e[0]&&(e[0]=s),i&&void 0===r&&i.set(e[0])}else e[r]=e[r-1]}}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ab.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ab.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}let aT=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),aS=e=>t=>"string"==typeof t&&t.startsWith(e),aP=aS("--"),aM=aS("var(--"),ak=e=>!!aM(e)&&aA.test(e.split("/*")[0].trim()),aA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,aR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,aF=e=>t=>t.test(e),aD=[sB,sJ,sZ,sG,s1,s0,{test:e=>"auto"===e,parse:e=>e}],aL=e=>aD.find(aF(e));class aV extends aC{constructor(e,t,n,i,r){super(e,t,n,i,r,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let n=0;n<e.length;n++){let i=e[n];if("string"==typeof i&&ak(i=i.trim())){let r=function e(t,n,i=1){r6(i<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`);let[r,s]=function(e){let t=aR.exec(e);if(!t)return[,];let[,n,i,r]=t;return[`--${null!=n?n:i}`,r]}(t);if(!r)return;let a=window.getComputedStyle(n).getPropertyValue(r);if(a){let e=a.trim();return aT(e)?parseFloat(e):e}return ak(s)?e(s,n,i+1):s}(i,t.current);void 0!==r&&(e[n]=r),n===e.length-1&&(this.finalKeyframe=i)}}if(this.resolveNoneKeyframes(),!r9.has(n)||2!==e.length)return;let[i,r]=e,s=aL(i),a=aL(r);if(s!==a){if(af(s)&&af(a))for(let t=0;t<e.length;t++){let n=e[t];"string"==typeof n&&(e[t]=parseFloat(n))}else this.needsMeasurement=!0}}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,n=[];for(let t=0;t<e.length;t++){var i;("number"==typeof(i=e[t])?0===i:null===i||"none"===i||"0"===i||sV(i))&&n.push(t)}n.length&&function(e,t,n){let i,r=0;for(;r<e.length&&!i;){let t=e[r];"string"==typeof t&&!ap.has(t)&&s9(t).values.length&&(i=e[r]),r++}if(i&&n)for(let r of t)e[r]=ah(n,i)}(e,n,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=av[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let i=t[t.length-1];void 0!==i&&e.getValue(n,i).jump(i,!1)}measureEndState(){var e;let{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;let r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);let s=i.length-1,a=i[s];i[s]=av[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach(([e,n])=>{t.getValue(e).set(n)}),this.resolveNoneKeyframes()}}let az=(e,t)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(ai.test(e)||"0"===e)&&!e.startsWith("url(")),aB=e=>null!==e;function aI(e,{repeat:t,repeatType:n="loop"},i){let r=e.filter(aB),s=t&&"loop"!==n&&t%2==1?0:r.length-1;return s&&void 0!==i?i:r[s]}class aO{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=sh.now(),this.options={autoplay:e,delay:t,type:n,repeat:i,repeatDelay:r,repeatType:s,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(aN(),aE()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=sh.now(),this.hasAttemptedResolve=!0;let{name:n,type:i,velocity:r,delay:s,onComplete:a,onUpdate:o,isGenerator:l}=this.options;if(!l&&!function(e,t,n,i){let r=e[0];if(null===r)return!1;if("display"===t||"visibility"===t)return!0;let s=e[e.length-1],a=az(r,t),o=az(s,t);return r6(a===o,`You are trying to animate ${t} from "${r}" to "${s}". ${r} is not an animatable value - to enable this animation set ${r} to a value animatable to ${s} via the \`style\` property.`),!!a&&!!o&&(function(e){let t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||rz(n))&&i)}(e,n,i,r)){if(sN.current||!s){o&&o(aI(e,this.options,t)),a&&a(),this.resolveFinishedPromise();return}this.options.duration=0}let c=this.initPlayback(e,t);!1!==c&&(this._resolved={keyframes:e,finalKeyframe:t,...c},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}let aq={layout:0,mainThread:0,waapi:0},a_=(e,t,n)=>e+(t-e)*n;function aH(e,t,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function a$(e,t){return n=>n>0?t:e}let aW=(e,t,n)=>{let i=e*e,r=n*(t*t-i)+i;return r<0?0:Math.sqrt(r)},aU=[sX,sQ,s3],aY=e=>aU.find(t=>t.test(e));function aQ(e){let t=aY(e);if(r6(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`),!t)return!1;let n=t.parse(e);return t===s3&&(n=function({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,n/=100;let r=0,s=0,a=0;if(t/=100){let i=n<.5?n*(1+t):n+t-n*t,o=2*n-i;r=aH(o,i,e+1/3),s=aH(o,i,e),a=aH(o,i,e-1/3)}else r=s=a=n;return{red:Math.round(255*r),green:Math.round(255*s),blue:Math.round(255*a),alpha:i}}(n)),n}let aX=(e,t)=>{let n=aQ(e),i=aQ(t);if(!n||!i)return a$(e,t);let r={...n};return e=>(r.red=aW(n.red,i.red,e),r.green=aW(n.green,i.green,e),r.blue=aW(n.blue,i.blue,e),r.alpha=a_(n.alpha,i.alpha,e),sQ.transform(r))},aK=(e,t)=>n=>t(e(n)),aG=(...e)=>e.reduce(aK),aZ=new Set(["none","hidden"]);function aJ(e,t){return n=>a_(e,t,n)}function a0(e){return"number"==typeof e?aJ:"string"==typeof e?ak(e)?a$:s5.test(e)?aX:a3:Array.isArray(e)?a1:"object"==typeof e?s5.test(e)?aX:a2:a$}function a1(e,t){let n=[...e],i=n.length,r=e.map((e,n)=>a0(e)(e,t[n]));return e=>{for(let t=0;t<i;t++)n[t]=r[t](e);return n}}function a2(e,t){let n={...e,...t},i={};for(let r in n)void 0!==e[r]&&void 0!==t[r]&&(i[r]=a0(e[r])(e[r],t[r]));return e=>{for(let t in i)n[t]=i[t](e);return n}}let a3=(e,t)=>{let n=ai.createTransformer(t),i=s9(e),r=s9(t);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?aZ.has(e)&&!r.values.length||aZ.has(t)&&!i.values.length?function(e,t){return aZ.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):aG(a1(function(e,t){var n;let i=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){let a=t.types[s],o=e.indexes[a][r[a]],l=null!==(n=e.values[o])&&void 0!==n?n:0;i[s]=l,r[a]++}return i}(i,r),r.values),n):(r6(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),a$(e,t))};function a5(e,t,n){return"number"==typeof e&&"number"==typeof t&&"number"==typeof n?a_(e,t,n):a0(e)(e,t)}function a4(e,t,n){var i,r;let s=Math.max(t-5,0);return i=n-e(s),(r=t-s)?1e3/r*i:0}let a6={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1};function a7(e,t){return e*Math.sqrt(1-t*t)}let a8=["duration","bounce"],a9=["stiffness","damping","mass"];function oe(e,t){return t.some(t=>void 0!==e[t])}function ot(e=a6.visualDuration,t=a6.bounce){let n;let i="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:r,restDelta:s}=i,a=i.keyframes[0],o=i.keyframes[i.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:h,velocity:p,isResolvedFromDuration:f}=function(e){let t={velocity:a6.velocity,stiffness:a6.stiffness,damping:a6.damping,mass:a6.mass,isResolvedFromDuration:!1,...e};if(!oe(e,a9)&&oe(e,a8)){if(e.visualDuration){let n=2*Math.PI/(1.2*e.visualDuration),i=n*n,r=2*sz(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:a6.mass,stiffness:i,damping:r}}else{let n=function({duration:e=a6.duration,bounce:t=a6.bounce,velocity:n=a6.velocity,mass:i=a6.mass}){let r,s;r6(e<=r5(a6.maxDuration),"Spring duration must be 10 seconds or less");let a=1-t;a=sz(a6.minDamping,a6.maxDamping,a),e=sz(a6.minDuration,a6.maxDuration,r4(e)),a<1?(r=t=>{let i=t*a,r=i*e;return .001-(i-n)/a7(t,a)*Math.exp(-r)},s=t=>{let i=t*a*e,s=Math.pow(a,2)*Math.pow(t,2)*e,o=a7(Math.pow(t,2),a);return(i*n+n-s)*Math.exp(-i)*(-r(t)+.001>0?-1:1)/o}):(r=t=>-.001+Math.exp(-t*e)*((t-n)*e+1),s=t=>e*e*(n-t)*Math.exp(-t*e));let o=function(e,t,n){let i=n;for(let n=1;n<12;n++)i-=e(i)/t(i);return i}(r,s,5/e);if(e=r5(e),isNaN(o))return{stiffness:a6.stiffness,damping:a6.damping,duration:e};{let t=Math.pow(o,2)*i;return{stiffness:t,damping:2*a*Math.sqrt(i*t),duration:e}}}(e);(t={...t,...n,mass:a6.mass}).isResolvedFromDuration=!0}}return t}({...i,velocity:-r4(i.velocity||0)}),m=p||0,g=u/(2*Math.sqrt(c*d)),y=o-a,x=r4(Math.sqrt(c/d)),v=5>Math.abs(y);if(r||(r=v?a6.restSpeed.granular:a6.restSpeed.default),s||(s=v?a6.restDelta.granular:a6.restDelta.default),g<1){let e=a7(x,g);n=t=>o-Math.exp(-g*x*t)*((m+g*x*y)/e*Math.sin(e*t)+y*Math.cos(e*t))}else if(1===g)n=e=>o-Math.exp(-x*e)*(y+(m+x*y)*e);else{let e=x*Math.sqrt(g*g-1);n=t=>{let n=Math.exp(-g*x*t),i=Math.min(e*t,300);return o-n*((m+g*x*y)*Math.sinh(i)+e*y*Math.cosh(i))/e}}let b={calculatedDuration:f&&h||null,next:e=>{let t=n(e);if(f)l.done=e>=h;else{let i=0;g<1&&(i=0===e?r5(m):a4(n,e,t));let a=Math.abs(i)<=r,c=Math.abs(o-t)<=s;l.done=a&&c}return l.value=l.done?o:t,l},toString:()=>{let e=Math.min(rV(b),2e4),t=rH(t=>b.next(e*t).value,e,30);return e+"ms "+t}};return b}function on({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:u}){let d,h;let p=e[0],f={done:!1,value:p},m=e=>void 0!==o&&e<o||void 0!==l&&e>l,g=e=>void 0===o?l:void 0===l?o:Math.abs(o-e)<Math.abs(l-e)?o:l,y=n*t,x=p+y,v=void 0===a?x:a(x);v!==x&&(y=v-p);let b=e=>-y*Math.exp(-e/i),w=e=>v+b(e),j=e=>{let t=b(e),n=w(e);f.done=Math.abs(t)<=c,f.value=f.done?v:n},E=e=>{m(f.value)&&(d=e,h=ot({keyframes:[f.value,g(f.value)],velocity:a4(w,e,f.value),damping:r,stiffness:s,restDelta:c,restSpeed:u}))};return E(0),{calculatedDuration:null,next:e=>{let t=!1;return(h||void 0!==d||(t=!0,j(e),E(e)),void 0!==d&&e>=d)?h.next(e-d):(t||j(e),f)}}}let oi=sT(.42,0,1,1),or=sT(0,0,.58,1),os=sT(.42,0,.58,1),oa=e=>Array.isArray(e)&&"number"!=typeof e[0],oo={linear:r6,easeIn:oi,easeInOut:os,easeOut:or,circIn:sF,circInOut:sL,circOut:sD,backIn:sk,backInOut:sA,backOut:sM,anticipate:sR},ol=e=>{if(rI(e)){r6(4===e.length,"Cubic bezier arrays must contain four numerical values.");let[t,n,i,r]=e;return sT(t,n,i,r)}return"string"==typeof e?(r6(void 0!==oo[e],`Invalid easing type '${e}'`),oo[e]):e};function oc({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){let r=oa(i)?i.map(ol):ol(i),s={done:!1,value:t[0]},a=function(e,t,{clamp:n=!0,ease:i,mixer:r}={}){let s=e.length;if(r6(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];let a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());let o=function(e,t,n){let i=[],r=n||a5,s=e.length-1;for(let n=0;n<s;n++){let s=r(e[n],e[n+1]);t&&(s=aG(Array.isArray(t)?t[n]||r6:t,s)),i.push(s)}return i}(t,i,r),l=o.length,c=n=>{if(a&&n<e[0])return t[0];let i=0;if(l>1)for(;i<e.length-2&&!(n<e[i+1]);i++);let r=r_(e[i],e[i+1],n);return o[i](r)};return n?t=>c(sz(e[0],e[s-1],t)):c}((n&&n.length===t.length?n:function(e){let t=[0];return function(e,t){let n=e[e.length-1];for(let i=1;i<=t;i++){let r=r_(0,t,i);e.push(a_(n,1,r))}}(t,e.length-1),t}(t)).map(t=>t*e),t,{ease:Array.isArray(r)?r:t.map(()=>r||os).splice(0,t.length-1)});return{calculatedDuration:e,next:t=>(s.value=a(t),s.done=t>=e,s)}}let ou=e=>{let t=({timestamp:t})=>e(t);return{start:()=>so.update(t,!0),stop:()=>sl(t),now:()=>sc.isProcessing?sc.timestamp:sh.now()}},od={decay:on,inertia:on,tween:oc,keyframes:oc,spring:ot},oh=e=>e/100;class op extends aO{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();let{onStop:e}=this.options;e&&e()};let{name:t,motionValue:n,element:i,keyframes:r}=this.options,s=(null==i?void 0:i.KeyframeResolver)||aC;this.resolver=new s(r,(e,t)=>this.onKeyframesResolved(e,t),t,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){let t,n;let{type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=this.options,l=rz(i)?i:od[i]||oc;l!==oc&&"number"!=typeof e[0]&&(t=aG(oh,a5(e[0],e[1])),e=[0,100]);let c=l({...this.options,keyframes:e});"mirror"===a&&(n=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),null===c.calculatedDuration&&(c.calculatedDuration=rV(c));let{calculatedDuration:u}=c,d=u+s;return{generator:c,mirroredGenerator:n,mapPercentToKeyframes:t,calculatedDuration:u,resolvedDuration:d,totalDuration:d*(r+1)-s}}onPostResolved(){let{autoplay:e=!0}=this.options;aq.mainThread++,this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e,t=!1){let{resolved:n}=this;if(!n){let{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}let{finalKeyframe:i,generator:r,mirroredGenerator:s,mapPercentToKeyframes:a,keyframes:o,calculatedDuration:l,totalDuration:c,resolvedDuration:u}=n;if(null===this.startTime)return r.next(0);let{delay:d,repeat:h,repeatType:p,repeatDelay:f,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;let g=this.currentTime-d*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let x=this.currentTime,v=r;if(h){let e=Math.min(this.currentTime,c)/u,t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,(t=Math.min(t,h+1))%2&&("reverse"===p?(n=1-n,f&&(n-=f/u)):"mirror"===p&&(v=s)),x=sz(0,1,n)*u}let b=y?{done:!1,value:o[0]}:v.next(x);a&&(b.value=a(b.value));let{done:w}=b;y||null===l||(w=this.speed>=0?this.currentTime>=c:this.currentTime<=0);let j=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return j&&void 0!==i&&(b.value=aI(o,this.options,i)),m&&m(b.value),j&&this.finish(),b}get duration(){let{resolved:e}=this;return e?r4(e.calculatedDuration):0}get time(){return r4(this.currentTime)}set time(e){e=r5(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=r4(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;let{driver:e=ou,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),t&&t();let i=this.driver.now();null!==this.holdTime?this.startTime=i-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=i):this.startTime=null!=n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";let{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel(),aq.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}let of=new Set(["opacity","clipPath","filter","transform"]),om=rA(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),og={anticipate:sR,backInOut:sA,circInOut:sL};class oy extends aO{constructor(e){super(e);let{name:t,motionValue:n,element:i,keyframes:r}=this.options;this.resolver=new aV(r,(e,t)=>this.onKeyframesResolved(e,t),t,n,i),this.resolver.scheduleResolve()}initPlayback(e,t){var n;let{duration:i=300,times:r,ease:s,type:a,motionValue:o,name:l,startTime:c}=this.options;if(!o.owner||!o.owner.current)return!1;if("string"==typeof s&&rq()&&s in og&&(s=og[s]),rz((n=this.options).type)||"spring"===n.type||!function e(t){return!!("function"==typeof t&&rq()||!t||"string"==typeof t&&(t in rW||rq())||rI(t)||Array.isArray(t)&&t.every(e))}(n.ease)){let{onComplete:t,onUpdate:n,motionValue:o,element:l,...c}=this.options,u=function(e,t){let n=new op({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0}),i={done:!1,value:e[0]},r=[],s=0;for(;!i.done&&s<2e4;)r.push((i=n.sample(s)).value),s+=10;return{times:void 0,keyframes:r,duration:s-10,ease:"linear"}}(e,c);1===(e=u.keyframes).length&&(e[1]=e[0]),i=u.duration,r=u.times,s=u.ease,a="keyframes"}let u=function(e,t,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:a="loop",ease:o="easeInOut",times:l}={}){let c={[t]:n};l&&(c.offset=l);let u=function e(t,n){if(t)return"function"==typeof t&&rq()?rH(t,n):rI(t)?r$(t):Array.isArray(t)?t.map(t=>e(t,n)||rW.easeOut):rW[t]}(o,r);Array.isArray(u)&&(c.easing=u),ss.value&&aq.waapi++;let d=e.animate(c,{delay:i,duration:r,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:"reverse"===a?"alternate":"normal"});return ss.value&&d.finished.finally(()=>{aq.waapi--}),d}(o.owner.current,l,e,{...this.options,duration:i,times:r,ease:s});return u.startTime=null!=c?c:this.calcStartTime(),this.pendingTimeline?(rB(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{let{onComplete:n}=this.options;o.set(aI(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:i,times:r,type:a,ease:s,keyframes:e}}get duration(){let{resolved:e}=this;if(!e)return 0;let{duration:t}=e;return r4(t)}get time(){let{resolved:e}=this;if(!e)return 0;let{animation:t}=e;return r4(t.currentTime||0)}set time(e){let{resolved:t}=this;if(!t)return;let{animation:n}=t;n.currentTime=r5(e)}get speed(){let{resolved:e}=this;if(!e)return 1;let{animation:t}=e;return t.playbackRate}set speed(e){let{resolved:t}=this;if(!t)return;let{animation:n}=t;n.playbackRate=e}get state(){let{resolved:e}=this;if(!e)return"idle";let{animation:t}=e;return t.playState}get startTime(){let{resolved:e}=this;if(!e)return null;let{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){let{resolved:t}=this;if(!t)return r6;let{animation:n}=t;rB(n,e)}else this.pendingTimeline=e;return r6}play(){if(this.isStopped)return;let{resolved:e}=this;if(!e)return;let{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){let{resolved:e}=this;if(!e)return;let{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();let{resolved:e}=this;if(!e)return;let{animation:t,keyframes:n,duration:i,type:r,ease:s,times:a}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){let{motionValue:e,onUpdate:t,onComplete:o,element:l,...c}=this.options,u=new op({...c,keyframes:n,duration:i,type:r,ease:s,times:a,isGenerator:!0}),d=r5(this.time);e.setWithVelocity(u.sample(d-10).value,u.sample(d).value,10)}let{onStop:o}=this.options;o&&o(),this.cancel()}complete(){let{resolved:e}=this;e&&e.animation.finish()}cancel(){let{resolved:e}=this;e&&e.animation.cancel()}static supports(e){let{motionValue:t,name:n,repeatDelay:i,repeatType:r,damping:s,type:a}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;let{onUpdate:o,transformTemplate:l}=t.owner.getProps();return om()&&n&&of.has(n)&&!o&&!l&&!i&&"mirror"!==r&&0!==s&&"inertia"!==a}}let ox={type:"spring",stiffness:500,damping:25,restSpeed:10},ov=e=>({type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}),ob={type:"keyframes",duration:.8},ow={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oj=(e,{keyframes:t})=>t.length>2?ob:r8.has(e)?e.startsWith("scale")?ov(t[1]):ox:ow,oE=(e,t,n,i={},r,s)=>a=>{let o=rL(i,e)||{},l=o.delay||i.delay||0,{elapsed:c=0}=i;c-=r5(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:s?void 0:r};!function({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}(o)&&(u={...u,...oj(e,u)}),u.duration&&(u.duration=r5(u.duration)),u.repeatDelay&&(u.repeatDelay=r5(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let d=!1;if(!1!==u.type&&(0!==u.duration||u.repeatDelay)||(u.duration=0,0!==u.delay||(d=!0)),(sN.current||si.skipAnimations)&&(d=!0,u.duration=0,u.delay=0),d&&!s&&void 0!==t.get()){let e=aI(u.keyframes,o);if(void 0!==e)return so.update(()=>{u.onUpdate(e),u.onComplete()}),new rD([])}return!s&&oy.supports(u)?new oy(u):new op(u)};function oN(e,t,{delay:n=0,transitionOverride:i,type:r}={}){var s;let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;i&&(a=i);let c=[],u=r&&e.animationState&&e.animationState.getState()[r];for(let t in l){let i=e.getValue(t,null!==(s=e.latestValues[t])&&void 0!==s?s:null),r=l[t];if(void 0===r||u&&function({protectedKeys:e,needsAnimating:t},n){let i=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,i}(u,t))continue;let o={delay:n,...rL(a||{},t)},d=!1;if(window.MotionHandoffAnimation){let n=e.props[sE];if(n){let e=window.MotionHandoffAnimation(n,t,so);null!==e&&(o.startTime=e,d=!0)}}sw(e,t),i.start(oE(t,i,r,e.shouldReduceMotion&&r9.has(t)?{type:!1}:o,e,d));let h=i.animation;h&&c.push(h)}return o&&Promise.all(c).then(()=>{so.update(()=>{o&&function(e,t){let{transitionEnd:n={},transition:i={},...r}=rk(e,t)||{};for(let t in r={...r,...n}){let n=sn(r[t]);e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,sv(n))}}(e,o)})}),c}function oC(e,t,n={}){var i;let r=rk(e,t,"exit"===n.type?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0),{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);let a=r?()=>Promise.all(oN(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(i=0)=>{let{delayChildren:r=0,staggerChildren:a,staggerDirection:o}=s;return function(e,t,n=0,i=0,r=1,s){let a=[],o=(e.variantChildren.size-1)*i,l=1===r?(e=0)=>e*i:(e=0)=>o-e*i;return Array.from(e.variantChildren).sort(oT).forEach((e,i)=>{e.notify("AnimationStart",t),a.push(oC(e,t,{...s,delay:n+l(i)}).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(a)}(e,t,r+i,a,o,n)}:()=>Promise.resolve(),{when:l}=s;if(!l)return Promise.all([a(),o(n.delay)]);{let[e,t]="beforeChildren"===l?[a,o]:[o,a];return e().then(()=>t())}}function oT(e,t){return e.sortNodePosition(t)}function oS(e,t){if(!Array.isArray(t))return!1;let n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function oP(e){return"string"==typeof e||Array.isArray(e)}let oM=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ok=["initial",...oM],oA=ok.length,oR=[...oM].reverse(),oF=oM.length;function oD(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oL(){return{animate:oD(!0),whileInView:oD(),whileHover:oD(),whileTap:oD(),whileDrag:oD(),whileFocus:oD(),exit:oD()}}class oV{constructor(e){this.isMounted=!1,this.node=e}update(){}}class oz extends oV{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=t=>Promise.all(t.map(({animation:t,options:n})=>(function(e,t,n={}){let i;if(e.notify("AnimationStart",t),Array.isArray(t))i=Promise.all(t.map(t=>oC(e,t,n)));else if("string"==typeof t)i=oC(e,t,n);else{let r="function"==typeof t?rk(e,t,n.custom):t;i=Promise.all(oN(e,r,n))}return i.then(()=>{e.notify("AnimationComplete",t)})})(e,t,n))),n=oL(),i=!0,r=t=>(n,i)=>{var r;let s=rk(e,i,"exit"===t?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);if(s){let{transition:e,transitionEnd:t,...i}=s;n={...n,...i,...t}}return n};function s(s){let{props:a}=e,o=function e(t){if(!t)return;if(!t.isControllingVariants){let n=t.parent&&e(t.parent)||{};return void 0!==t.props.initial&&(n.initial=t.props.initial),n}let n={};for(let e=0;e<oA;e++){let i=ok[e],r=t.props[i];(oP(r)||!1===r)&&(n[i]=r)}return n}(e.parent)||{},l=[],c=new Set,u={},d=1/0;for(let t=0;t<oF;t++){var h;let p=oR[t],f=n[p],m=void 0!==a[p]?a[p]:o[p],g=oP(m),y=p===s?f.isActive:null;!1===y&&(d=t);let x=m===o[p]&&m!==a[p]&&g;if(x&&i&&e.manuallyAnimateOnMount&&(x=!1),f.protectedKeys={...u},!f.isActive&&null===y||!m&&!f.prevProp||rS(m)||"boolean"==typeof m)continue;let v=(h=f.prevProp,"string"==typeof m?m!==h:!!Array.isArray(m)&&!oS(m,h)),b=v||p===s&&f.isActive&&!x&&g||t>d&&g,w=!1,j=Array.isArray(m)?m:[m],E=j.reduce(r(p),{});!1===y&&(E={});let{prevResolvedValues:N={}}=f,C={...N,...E},T=t=>{b=!0,c.has(t)&&(w=!0,c.delete(t)),f.needsAnimating[t]=!0;let n=e.getValue(t);n&&(n.liveStyle=!1)};for(let e in C){let t=E[e],n=N[e];if(!u.hasOwnProperty(e))(se(t)&&se(n)?oS(t,n):t===n)?void 0!==t&&c.has(e)?T(e):f.protectedKeys[e]=!0:null!=t?T(e):c.add(e)}f.prevProp=m,f.prevResolvedValues=E,f.isActive&&(u={...u,...E}),i&&e.blockInitialAnimation&&(b=!1);let S=!(x&&v)||w;b&&S&&l.push(...j.map(e=>({animation:e,options:{type:p}})))}if(c.size){let t={};if("boolean"!=typeof a.initial){let n=rk(e,Array.isArray(a.initial)?a.initial[0]:a.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach(n=>{let i=e.getBaseTarget(n),r=e.getValue(n);r&&(r.liveStyle=!0),t[n]=null!=i?i:null}),l.push({animation:t})}let p=!!l.length;return i&&(!1===a.initial||a.initial===a.animate)&&!e.manuallyAnimateOnMount&&(p=!1),i=!1,p?t(l):Promise.resolve()}return{animateChanges:s,setActive:function(t,i){var r;if(n[t].isActive===i)return Promise.resolve();null===(r=e.variantChildren)||void 0===r||r.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,i)}),n[t].isActive=i;let a=s(t);for(let e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=oL(),i=!0}}}(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();rS(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}let oB=0;class oI extends oV{constructor(){super(...arguments),this.id=oB++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;let i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}function oO(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function oq(e){return{point:{x:e.pageX,y:e.pageY}}}let o_=e=>t=>rG(t)&&e(t,oq(t));function oH(e,t,n,i){return oO(e,t,o_(n),i)}function o$({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function oW(e){return e.max-e.min}function oU(e,t,n,i=.5){e.origin=i,e.originPoint=a_(t.min,t.max,e.origin),e.scale=oW(n)/oW(t),e.translate=a_(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function oY(e,t,n,i){oU(e.x,t.x,n.x,i?i.originX:void 0),oU(e.y,t.y,n.y,i?i.originY:void 0)}function oQ(e,t,n){e.min=n.min+t.min,e.max=e.min+oW(t)}function oX(e,t,n){e.min=t.min-n.min,e.max=e.min+oW(t)}function oK(e,t,n){oX(e.x,t.x,n.x),oX(e.y,t.y,n.y)}let oG=()=>({translate:0,scale:1,origin:0,originPoint:0}),oZ=()=>({x:oG(),y:oG()}),oJ=()=>({min:0,max:0}),o0=()=>({x:oJ(),y:oJ()});function o1(e){return[e("x"),e("y")]}function o2(e){return void 0===e||1===e}function o3({scale:e,scaleX:t,scaleY:n}){return!o2(e)||!o2(t)||!o2(n)}function o5(e){return o3(e)||o4(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function o4(e){var t,n;return(t=e.x)&&"0%"!==t||(n=e.y)&&"0%"!==n}function o6(e,t,n,i,r){return void 0!==r&&(e=i+r*(e-i)),i+n*(e-i)+t}function o7(e,t=0,n=1,i,r){e.min=o6(e.min,t,n,i,r),e.max=o6(e.max,t,n,i,r)}function o8(e,{x:t,y:n}){o7(e.x,t.translate,t.scale,t.originPoint),o7(e.y,n.translate,n.scale,n.originPoint)}function o9(e,t){e.min=e.min+t,e.max=e.max+t}function le(e,t,n,i,r=.5){let s=a_(e.min,e.max,r);o7(e,t,n,s,i)}function lt(e,t){le(e.x,t.x,t.scaleX,t.scale,t.originX),le(e.y,t.y,t.scaleY,t.scale,t.originY)}function ln(e,t){return o$(function(e,t){if(!t)return e;let n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}(e.getBoundingClientRect(),t))}function li(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}let lr=(e,t)=>Math.abs(e-t);class ls{constructor(e,t,{transformPagePoint:n,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let e=ll(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){return Math.sqrt(lr(e.x,t.x)**2+lr(e.y,t.y)**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;let{point:i}=e,{timestamp:r}=sc;this.history.push({...i,timestamp:r});let{onStart:s,onMove:a}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{if(e.target instanceof Element&&e.target.hasPointerCapture&&void 0!==e.pointerId)try{if(!e.target.hasPointerCapture(e.pointerId))return}catch(e){}this.lastMoveEvent=e,this.lastMoveEventInfo=la(t,this.transformPagePoint),so.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{rX(e,"release"),this.end();let{onEnd:n,onSessionEnd:i,resumeAnimation:r}=this.handlers;if(this.dragSnapToOrigin&&r&&r(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let s=ll("pointercancel"===e.type||"lostpointercapture"===e.type?this.lastMoveEventInfo:la(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),i&&i(e,s)},!rG(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n;let r=la(oq(e),this.transformPagePoint),{point:s}=r,{timestamp:a}=sc;this.history=[{...s,timestamp:a}];let{onSessionStart:o}=t;o&&o(e,ll(r,this.history)),rX(e,"set"),this.removeListeners=aG(oH(e.currentTarget,"pointermove",this.handlePointerMove),oH(e.currentTarget,"pointerup",this.handlePointerUp),oH(e.currentTarget,"pointercancel",this.handlePointerUp),oH(e.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),sl(this.updatePoint)}}function la(e,t){return t?{point:t(e.point)}:e}function lo(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ll({point:e},t){return{point:e,delta:lo(e,lc(t)),offset:lo(e,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null,r=lc(e);for(;n>=0&&(i=e[n],!(r.timestamp-i.timestamp>r5(.1)));)n--;if(!i)return{x:0,y:0};let s=r4(r.timestamp-i.timestamp);if(0===s)return{x:0,y:0};let a={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}(t,0)}}function lc(e){return e[e.length-1]}function lu(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function ld(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function lh(e,t,n){return{min:lp(e,t),max:lp(e,n)}}function lp(e,t){return"number"==typeof e?e:e[t]||0}let lf=new WeakMap;class lm{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=o0(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){let{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;let{dragSnapToOrigin:i}=this.getProps();this.panSession=new ls(e,{onSessionStart:e=>{let{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(oq(e).point)},onStart:(e,t)=>{let{drag:n,dragPropagation:i,onDragStart:r}=this.getProps();if(n&&!i&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===n||"y"===n?rU[n]?null:(rU[n]=!0,()=>{rU[n]=!1}):rU.x||rU.y?null:(rU.x=rU.y=!0,()=>{rU.x=rU.y=!1}),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),o1(e=>{let t=this.getAxisMotionValue(e).get()||0;if(sZ.test(t)){let{projection:n}=this.visualElement;if(n&&n.layout){let i=n.layout.layoutBox[e];if(i){let e=oW(i);t=parseFloat(t)/100*e}}}this.originPoint[e]=t}),r&&so.postRender(()=>r(e,t)),sw(this.visualElement,"transform");let{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{let{dragPropagation:n,dragDirectionLock:i,onDirectionLock:r,onDrag:s}=this.getProps();if(!n&&!this.openDragLock)return;let{offset:a}=t;if(i&&null===this.currentDirection){this.currentDirection=function(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}(a),null!==this.currentDirection&&r&&r(this.currentDirection);return}this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>o1(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:i})}stop(e,t){let n=this.isDragging;if(this.cancel(),!n)return;let{velocity:i}=t;this.startAnimation(i);let{onDragEnd:r}=this.getProps();r&&so.postRender(()=>r(e,t))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){let{drag:i}=this.getProps();if(!n||!lg(e,i,this.currentDirection))return;let r=this.getAxisMotionValue(e),s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,{min:t,max:n},i){return void 0!==t&&e<t?e=i?a_(t,e,i.min):Math.max(e,t):void 0!==n&&e>n&&(e=i?a_(n,e,i.max):Math.min(e,n)),e}(s,this.constraints[e],this.elastic[e])),r.set(s)}resolveConstraints(){var e;let{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,r=this.constraints;t&&li(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=function(e,{top:t,left:n,bottom:i,right:r}){return{x:lu(e.x,n,r),y:lu(e.y,t,i)}}(i.layoutBox,t):this.constraints=!1,this.elastic=function(e=.35){return!1===e?e=0:!0===e&&(e=.35),{x:lh(e,"left","right"),y:lh(e,"top","bottom")}}(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&o1(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){let n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){var e;let{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!li(t))return!1;let i=t.current;r6(null!==i,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:r}=this.visualElement;if(!r||!r.layout)return!1;let s=function(e,t,n){let i=ln(e,n),{scroll:r}=t;return r&&(o9(i.x,r.offset.x),o9(i.y,r.offset.y)),i}(i,r.root,this.visualElement.getTransformPagePoint()),a={x:ld((e=r.layout.layoutBox).x,s.x),y:ld(e.y,s.y)};if(n){let e=n(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=o$(e))}return a}startAnimation(e){let{drag:t,dragMomentum:n,dragElastic:i,dragTransition:r,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{};return Promise.all(o1(a=>{if(!lg(a,t,this.currentDirection))return;let l=o&&o[a]||{};s&&(l={min:0,max:0});let c={type:"inertia",velocity:n?e[a]:0,bounceStiffness:i?200:1e6,bounceDamping:i?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...r,...l};return this.startAxisValueAnimation(a,c)})).then(a)}startAxisValueAnimation(e,t){let n=this.getAxisMotionValue(e);return sw(this.visualElement,e),n.start(oE(e,n,0,t,this.visualElement,!1))}stopAnimation(){o1(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){o1(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps();return n[t]||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){o1(t=>{let{drag:n}=this.getProps();if(!lg(t,n,this.currentDirection))return;let{projection:i}=this.visualElement,r=this.getAxisMotionValue(t);if(i&&i.layout){let{min:n,max:s}=i.layout.layoutBox[t];r.set(e[t]-a_(n,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!li(t)||!n||!this.constraints)return;this.stopAnimation();let i={x:0,y:0};o1(e=>{let t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){let n=t.get();i[e]=function(e,t){let n=.5,i=oW(e),r=oW(t);return r>i?n=r_(t.min,t.max-i,e.min):i>r&&(n=r_(e.min,e.max-r,t.min)),sz(0,1,n)}({min:n,max:n},this.constraints[e])}});let{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),o1(t=>{if(!lg(t,e,null))return;let n=this.getAxisMotionValue(t),{min:r,max:s}=this.constraints[t];n.set(a_(r,s,i[t]))})}addListeners(){if(!this.visualElement.current)return;lf.set(this.visualElement,this);let e=oH(this.visualElement.current,"pointerdown",e=>{let{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{let{dragConstraints:e}=this.getProps();li(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),so.read(t);let r=oO(window,"resize",()=>this.scalePositionWithinConstraints()),s=n.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(o1(t=>{let n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())});return()=>{r(),e(),i(),s&&s()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:s=.35,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:r,dragElastic:s,dragMomentum:a}}}function lg(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}class ly extends oV{constructor(e){super(e),this.removeGroupControls=r6,this.removeListeners=r6,this.controls=new lm(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||r6}unmount(){this.removeGroupControls(),this.removeListeners()}}let lx=e=>(t,n)=>{e&&so.postRender(()=>e(t,n))};class lv extends oV{constructor(){super(...arguments),this.removePointerDownListener=r6}onPointerDown(e){this.session=new ls(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:lx(e),onStart:lx(t),onMove:n,onEnd:(e,t)=>{delete this.session,i&&so.postRender(()=>i(e,t))}}}mount(){this.removePointerDownListener=oH(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let lb=(0,c.createContext)(null);function lw(e=!0){let t=(0,c.useContext)(lb);if(null===t)return[!0,null];let{isPresent:n,onExitComplete:i,register:r}=t,s=(0,c.useId)();(0,c.useEffect)(()=>{if(e)return r(s)},[e]);let a=(0,c.useCallback)(()=>e&&i&&i(s),[s,i,e]);return!n&&i?[!1,a]:[!0]}let lj=(0,c.createContext)({}),lE=(0,c.createContext)({}),lN={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function lC(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let lT={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!sJ.test(e))return e;e=parseFloat(e)}let n=lC(e,t.target.x),i=lC(e,t.target.y);return`${n}% ${i}%`}},lS={},{schedule:lP,cancel:lM}=sa(queueMicrotask,!1);class lk extends c.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:r}=e;(function(e){for(let t in e)lS[t]=e[t],aP(t)&&(lS[t].isCSSVariable=!0)})(lR),r&&(t.group&&t.group.add(r),n&&n.register&&i&&n.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),lN.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:n,drag:i,isPresent:r}=this.props,s=n.projection;return s&&(s.isPresent=r,i||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent===r||(r?s.promote():s.relegate()||so.postRender(()=>{let e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),lP.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function lA(e){let[t,n]=lw(),i=(0,c.useContext)(lj);return(0,l.jsx)(lk,{...e,layoutGroup:i,switchLayoutGroup:(0,c.useContext)(lE),isPresent:t,safeToRemove:n})}let lR={borderRadius:{...lT,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lT,borderTopRightRadius:lT,borderBottomLeftRadius:lT,borderBottomRightRadius:lT,boxShadow:{correct:(e,{treeScale:t,projectionDelta:n})=>{let i=ai.parse(e);if(i.length>5)return e;let r=ai.createTransformer(e),s="number"!=typeof i[0]?1:0,a=n.x.scale*t.x,o=n.y.scale*t.y;i[0+s]/=a,i[1+s]/=o;let l=a_(a,o,.5);return"number"==typeof i[2+s]&&(i[2+s]/=l),"number"==typeof i[3+s]&&(i[3+s]/=l),r(i)}}},lF=(e,t)=>e.depth-t.depth;class lD{constructor(){this.children=[],this.isDirty=!1}add(e){sp(this.children,e),this.isDirty=!0}remove(e){sf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(lF),this.isDirty=!1,this.children.forEach(e)}}function lL(e){let t=sb(e)?e.get():e;return st(t)?t.toValue():t}let lV=["TopLeft","TopRight","BottomLeft","BottomRight"],lz=lV.length,lB=e=>"string"==typeof e?parseFloat(e):e,lI=e=>"number"==typeof e||sJ.test(e);function lO(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let lq=lH(0,.5,sD),l_=lH(.5,.95,r6);function lH(e,t,n){return i=>i<e?0:i>t?1:n(r_(e,t,i))}function l$(e,t){e.min=t.min,e.max=t.max}function lW(e,t){l$(e.x,t.x),l$(e.y,t.y)}function lU(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function lY(e,t,n,i,r){return e-=t,e=i+1/n*(e-i),void 0!==r&&(e=i+1/r*(e-i)),e}function lQ(e,t,[n,i,r],s,a){!function(e,t=0,n=1,i=.5,r,s=e,a=e){if(sZ.test(t)&&(t=parseFloat(t),t=a_(a.min,a.max,t/100)-a.min),"number"!=typeof t)return;let o=a_(s.min,s.max,i);e===s&&(o-=t),e.min=lY(e.min,t,n,o,r),e.max=lY(e.max,t,n,o,r)}(e,t[n],t[i],t[r],t.scale,s,a)}let lX=["x","scaleX","originX"],lK=["y","scaleY","originY"];function lG(e,t,n,i){lQ(e.x,t,lX,n?n.x:void 0,i?i.x:void 0),lQ(e.y,t,lK,n?n.y:void 0,i?i.y:void 0)}function lZ(e){return 0===e.translate&&1===e.scale}function lJ(e){return lZ(e.x)&&lZ(e.y)}function l0(e,t){return e.min===t.min&&e.max===t.max}function l1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function l2(e,t){return l1(e.x,t.x)&&l1(e.y,t.y)}function l3(e){return oW(e.x)/oW(e.y)}function l5(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class l4{constructor(){this.members=[]}add(e){sp(this.members,e),e.scheduleRender()}remove(e){if(sf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t;let n=this.members.findIndex(t=>e===t);if(0===n)return!1;for(let e=n;e>=0;e--){let n=this.members[e];if(!1!==n.isPresent){t=n;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:i}=e.options;!1===i&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let l6={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},l7=["","X","Y","Z"],l8={visibility:"hidden"},l9=0;function ce(e,t,n,i){let{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),i&&(i[e]=0))}function ct({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(e={},n=null==t?void 0:t()){this.id=l9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ss.value&&(l6.nodes=l6.calculatedTargetDeltas=l6.calculatedProjections=0),this.nodes.forEach(cr),this.nodes.forEach(cd),this.nodes.forEach(ch),this.nodes.forEach(cs),ss.addProjectionMetrics&&ss.addProjectionMetrics(l6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new lD)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new sm),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t,n=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=t instanceof SVGElement&&"svg"!==t.tagName,this.instance=t;let{layoutId:i,layout:r,visualElement:s}=this.options;if(s&&!s.current&&s.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(r||i)&&(this.isLayoutDirty=!0),e){let n;let i=()=>this.root.updateBlockedByResize=!1;e(t,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){let n=sh.now(),i=({timestamp:t})=>{let r=t-n;r>=250&&(sl(i),e(r-250))};return so.read(i,!0),()=>sl(i)}(i,250),lN.hasAnimatedSinceResize&&(lN.hasAnimatedSinceResize=!1,this.nodes.forEach(cu))})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&s&&(i||r)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:n,layout:i})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let r=this.options.transition||s.getDefaultTransition()||cx,{onLayoutAnimationStart:a,onLayoutAnimationComplete:o}=s.getProps(),l=!this.targetLayout||!l2(this.targetLayout,i),c=!t&&n;if(this.options.layoutRoot||this.resumeFrom||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,c);let t={...rL(r,"layout"),onPlay:a,onComplete:o};(s.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||cu(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,sl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cp),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function e(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;let{visualElement:n}=t.options;if(!n)return;let i=n.props[sE];if(window.MotionHasOptimisedAnimation(i,"transform")){let{layout:e,layoutId:n}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",so,!(e||n))}let{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&e(r)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;let i=this.getTransformTemplate();this.prevTransformTemplateValue=i?i(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(co);return}this.isUpdating||this.nodes.forEach(cl),this.isUpdating=!1,this.nodes.forEach(cc),this.nodes.forEach(cn),this.nodes.forEach(ci),this.clearAllSnapshots();let e=sh.now();sc.delta=sz(0,1e3/60,e-sc.timestamp),sc.timestamp=e,sc.isProcessing=!0,su.update.process(sc),su.preRender.process(sc),su.render.process(sc),sc.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,lP.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ca),this.sharedNodes.forEach(cf)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,so.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){so.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),!this.snapshot||oW(this.snapshot.measuredBox.x)||oW(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=o0(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){let t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!r)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!lJ(this.projectionDelta),n=this.getTransformTemplate(),i=n?n(this.latestValues,""):void 0,s=i!==this.prevTransformTemplateValue;e&&(t||o5(this.latestValues)||s)&&(r(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){var t;let n=this.measurePageBox(),i=this.removeElementScroll(n);return e&&(i=this.removeTransform(i)),cw((t=i).x),cw(t.y),{animationId:this.root.animationId,measuredBox:n,layoutBox:i,latestValues:{},source:this.id}}measurePageBox(){var e;let{visualElement:t}=this.options;if(!t)return o0();let n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(cE))){let{scroll:e}=this.root;e&&(o9(n.x,e.offset.x),o9(n.y,e.offset.y))}return n}removeElementScroll(e){var t;let n=o0();if(lW(n,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return n;for(let t=0;t<this.path.length;t++){let i=this.path[t],{scroll:r,options:s}=i;i!==this.root&&r&&s.layoutScroll&&(r.wasRoot&&lW(n,e),o9(n.x,r.offset.x),o9(n.y,r.offset.y))}return n}applyTransform(e,t=!1){let n=o0();lW(n,e);for(let e=0;e<this.path.length;e++){let i=this.path[e];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&lt(n,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o5(i.latestValues)&&lt(n,i.latestValues)}return o5(this.latestValues)&&lt(n,this.latestValues),n}removeTransform(e){let t=o0();lW(t,e);for(let e=0;e<this.path.length;e++){let n=this.path[e];if(!n.instance||!o5(n.latestValues))continue;o3(n.latestValues)&&n.updateSnapshot();let i=o0();lW(i,n.measurePageBox()),lG(t,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,i)}return o5(this.latestValues)&&lG(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sc.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t,n,i,r;let s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);let a=!!this.resumingFrom||this!==s;if(!(e||a&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:o,layoutId:l}=this.options;if(this.layout&&(o||l)){if(this.resolvedRelativeTargetAt=sc.timestamp,!this.targetDelta&&!this.relativeTarget){let e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=o0(),this.relativeTargetOrigin=o0(),oK(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),lW(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if((this.target||(this.target=o0(),this.targetWithTransforms=o0()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target)?(this.forceRelativeParentToResolveTarget(),n=this.target,i=this.relativeTarget,r=this.relativeParent.target,oQ(n.x,i.x,r.x),oQ(n.y,i.y,r.y)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):lW(this.target,this.layout.layoutBox),o8(this.target,this.targetDelta)):lW(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let e=this.getClosestProjectingParent();e&&!!e.resumingFrom==!!this.resumingFrom&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=o0(),this.relativeTargetOrigin=o0(),oK(this.relativeTargetOrigin,this.target,e.target),lW(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ss.value&&l6.calculatedTargetDeltas++}}}getClosestProjectingParent(){return!this.parent||o3(this.parent.latestValues)||o4(this.parent.latestValues)?void 0:this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;let t=this.getLead(),n=!!this.resumingFrom||this!==t,i=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(i=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(i=!1),this.resolvedRelativeTargetAt===sc.timestamp&&(i=!1),i)return;let{layout:r,layoutId:s}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(r||s))return;lW(this.layoutCorrected,this.layout.layoutBox);let a=this.treeScale.x,o=this.treeScale.y;(function(e,t,n,i=!1){let r,s;let a=n.length;if(a){t.x=t.y=1;for(let o=0;o<a;o++){s=(r=n[o]).projectionDelta;let{visualElement:a}=r.options;(!a||!a.props.style||"contents"!==a.props.style.display)&&(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&lt(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,o8(e,s)),i&&o5(r.latestValues)&&lt(e,r.latestValues))}t.x<1.0000000000001&&t.x>.999999999999&&(t.x=1),t.y<1.0000000000001&&t.y>.999999999999&&(t.y=1)}})(this.layoutCorrected,this.treeScale,this.path,n),t.layout&&!t.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(t.target=t.layout.layoutBox,t.targetWithTransforms=o0());let{target:l}=t;if(!l){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(lU(this.prevProjectionDelta.x,this.projectionDelta.x),lU(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),oY(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===a&&this.treeScale.y===o&&l5(this.projectionDelta.x,this.prevProjectionDelta.x)&&l5(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),ss.value&&l6.calculatedProjections++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=oZ(),this.projectionDelta=oZ(),this.projectionDeltaWithTransform=oZ()}setAnimationOrigin(e,t=!1){let n;let i=this.snapshot,r=i?i.latestValues:{},s={...this.latestValues},a=oZ();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=o0(),l=(i?i.source:void 0)!==(this.layout?this.layout.source:void 0),c=this.getStack(),u=!c||c.members.length<=1,d=!!(l&&!u&&!0===this.options.crossfade&&!this.path.some(cy));this.animationProgress=0,this.mixTargetDelta=t=>{let i=t/1e3;if(cm(a.x,e.x,i),cm(a.y,e.y,i),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var c,h,p,f;oK(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,f=this.relativeTargetOrigin,cg(p.x,f.x,o.x,i),cg(p.y,f.y,o.y,i),n&&(c=this.relativeTarget,h=n,l0(c.x,h.x)&&l0(c.y,h.y))&&(this.isProjectionDirty=!1),n||(n=o0()),lW(n,this.relativeTarget)}l&&(this.animationValues=s,function(e,t,n,i,r,s){r?(e.opacity=a_(0,void 0!==n.opacity?n.opacity:1,lq(i)),e.opacityExit=a_(void 0!==t.opacity?t.opacity:1,0,l_(i))):s&&(e.opacity=a_(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,i));for(let r=0;r<lz;r++){let s=`border${lV[r]}Radius`,a=lO(t,s),o=lO(n,s);(void 0!==a||void 0!==o)&&(a||(a=0),o||(o=0),0===a||0===o||lI(a)===lI(o)?(e[s]=Math.max(a_(lB(a),lB(o),i),0),(sZ.test(o)||sZ.test(a))&&(e[s]+="%")):e[s]=o)}(t.rotate||n.rotate)&&(e.rotate=a_(t.rotate||0,n.rotate||0,i))}(s,r,this.latestValues,i,d,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=i},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(sl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=so.update(()=>{lN.hasAnimatedSinceResize=!0,aq.layout++,this.currentAnimation=function(e,t,n){let i=sb(0)?0:sv(0);return i.start(oE("",i,1e3,n)),i.animation}(0,0,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{aq.layout--},onComplete:()=>{aq.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:n,layout:i,latestValues:r}=e;if(t&&n&&i){if(this!==e&&this.layout&&i&&cj(this.options.animationType,this.layout.layoutBox,i.layoutBox)){n=this.target||o0();let t=oW(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;let i=oW(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+i}lW(t,n),lt(t,r),oY(this.projectionDeltaWithTransform,this.layoutCorrected,t,r)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new l4),this.sharedNodes.get(e).add(t);let n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){var e;let{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;let{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){let i=this.getStack();i&&i.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;let i={};n.z&&ce("z",e,i,this.animationValues);for(let t=0;t<l7.length;t++)ce(`rotate${l7[t]}`,e,i,this.animationValues),ce(`skew${l7[t]}`,e,i,this.animationValues);for(let t in e.render(),i)e.setStaticValue(t,i[t]),this.animationValues&&(this.animationValues[t]=i[t]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return l8;let i={visibility:""},r=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,i.opacity="",i.pointerEvents=lL(null==e?void 0:e.pointerEvents)||"",i.transform=r?r(this.latestValues,""):"none",i;let s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){let t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=lL(null==e?void 0:e.pointerEvents)||""),this.hasProjected&&!o5(this.latestValues)&&(t.transform=r?r({},""):"none",this.hasProjected=!1),t}let a=s.animationValues||s.latestValues;this.applyTransformsToTarget(),i.transform=function(e,t,n){let i="",r=e.x.translate/t.x,s=e.y.translate/t.y,a=(null==n?void 0:n.z)||0;if((r||s||a)&&(i=`translate3d(${r}px, ${s}px, ${a}px) `),(1!==t.x||1!==t.y)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){let{transformPerspective:e,rotate:t,rotateX:r,rotateY:s,skewX:a,skewY:o}=n;e&&(i=`perspective(${e}px) ${i}`),t&&(i+=`rotate(${t}deg) `),r&&(i+=`rotateX(${r}deg) `),s&&(i+=`rotateY(${s}deg) `),a&&(i+=`skewX(${a}deg) `),o&&(i+=`skewY(${o}deg) `)}let o=e.x.scale*t.x,l=e.y.scale*t.y;return(1!==o||1!==l)&&(i+=`scale(${o}, ${l})`),i||"none"}(this.projectionDeltaWithTransform,this.treeScale,a),r&&(i.transform=r(a,i.transform));let{x:o,y:l}=this.projectionDelta;for(let e in i.transformOrigin=`${100*o.origin}% ${100*l.origin}% 0`,s.animationValues?i.opacity=s===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:i.opacity=s===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0,lS){if(void 0===a[e])continue;let{correct:t,applyTo:n,isCSSVariable:r}=lS[e],o="none"===i.transform?a[e]:t(a[e],s);if(n){let e=n.length;for(let t=0;t<e;t++)i[n[t]]=o}else r?this.options.visualElement.renderState.vars[e]=o:i[e]=o}return this.options.layoutId&&(i.pointerEvents=s===this?lL(null==e?void 0:e.pointerEvents)||"":"none"),i}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(co),this.root.sharedNodes.clear()}}}function cn(e){e.updateLayout()}function ci(e){var t;let n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){let{layoutBox:t,measuredBox:i}=e.layout,{animationType:r}=e.options,s=n.source!==e.layout.source;"size"===r?o1(e=>{let i=s?n.measuredBox[e]:n.layoutBox[e],r=oW(i);i.min=t[e].min,i.max=i.min+r}):cj(r,n.layoutBox,t)&&o1(i=>{let r=s?n.measuredBox[i]:n.layoutBox[i],a=oW(t[i]);r.max=r.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[i].max=e.relativeTarget[i].min+a)});let a=oZ();oY(a,t,n.layoutBox);let o=oZ();s?oY(o,e.applyTransform(i,!0),n.measuredBox):oY(o,t,n.layoutBox);let l=!lJ(a),c=!1;if(!e.resumeFrom){let i=e.getClosestProjectingParent();if(i&&!i.resumeFrom){let{snapshot:r,layout:s}=i;if(r&&s){let a=o0();oK(a,n.layoutBox,r.layoutBox);let o=o0();oK(o,t,s.layoutBox),l2(a,o)||(c=!0),i.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=i)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function cr(e){ss.value&&l6.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cs(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ca(e){e.clearSnapshot()}function co(e){e.clearMeasurements()}function cl(e){e.isLayoutDirty=!1}function cc(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function cu(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function cd(e){e.resolveTargetDelta()}function ch(e){e.calcProjection()}function cp(e){e.resetSkewAndRotation()}function cf(e){e.removeLeadSnapshot()}function cm(e,t,n){e.translate=a_(t.translate,0,n),e.scale=a_(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function cg(e,t,n,i){e.min=a_(t.min,n.min,i),e.max=a_(t.max,n.max,i)}function cy(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let cx={duration:.45,ease:[.4,0,.1,1]},cv=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),cb=cv("applewebkit/")&&!cv("chrome/")?Math.round:r6;function cw(e){e.min=cb(e.min),e.max=cb(e.max)}function cj(e,t,n){return"position"===e||"preserve-aspect"===e&&!(.2>=Math.abs(l3(t)-l3(n)))}function cE(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}let cN=ct({attachResizeListener:(e,t)=>oO(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),cC={current:void 0},cT=ct({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!cC.current){let e=new cN({});e.mount(window),e.setOptions({layoutScroll:!0}),cC.current=e}return cC.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position});function cS(e,t,n){let{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover","Start"===n);let r=i["onHover"+n];r&&so.postRender(()=>r(t,oq(t)))}class cP extends oV{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){let[i,r,s]=rY(e,n),a=e=>{if(!rQ(e))return;let{target:n}=e,i=t(n,e);if("function"!=typeof i||!n)return;let s=e=>{rQ(e)&&(i(e),n.removeEventListener("pointerleave",s))};n.addEventListener("pointerleave",s,r)};return i.forEach(e=>{e.addEventListener("pointerenter",a,r)}),s}(e,(e,t)=>(cS(this.node,t,"Start"),e=>cS(this.node,e,"End"))))}unmount(){}}class cM extends oV{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=aG(oO(this.node.current,"focus",()=>this.onFocus()),oO(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ck(e,t,n){let{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap","Start"===n);let r=i["onTap"+("End"===n?"":n)];r&&so.postRender(()=>r(t,oq(t)))}class cA extends oV{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){let[i,r,s]=rY(e,n),a=e=>{let n=e.currentTarget;if(!n||!r3(e)||rJ.has(n))return;rJ.add(n),rX(e,"set");let i=t(n,e),s=(e,t)=>{n.removeEventListener("pointerup",a),n.removeEventListener("pointercancel",o),rX(e,"release"),r3(e)&&rJ.has(n)&&(rJ.delete(n),"function"==typeof i&&i(e,{success:t}))},a=e=>{var t;e.isTrusted&&(t=n instanceof Element?n.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight},e.clientX<t.left||e.clientX>t.right||e.clientY<t.top||e.clientY>t.bottom)?s(e,!1):s(e,!(n instanceof Element)||rK(n,e.target))},o=e=>{s(e,!1)};n.addEventListener("pointerup",a,r),n.addEventListener("pointercancel",o,r),n.addEventListener("lostpointercapture",o,r)};return i.forEach(e=>{e=n.useGlobalTarget?window:e;let t=!1;if(e instanceof HTMLElement){var i;t=!0,i=e,rZ.has(i.tagName)||-1!==i.tabIndex||null!==e.getAttribute("tabindex")||(e.tabIndex=0)}e.addEventListener("pointerdown",a,r),t&&e.addEventListener("focus",e=>r2(e,r),r)}),s}(e,(e,t)=>(ck(this.node,t,"Start"),(e,{success:t})=>ck(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}let cR=new WeakMap,cF=new WeakMap,cD=e=>{let t=cR.get(e.target);t&&t(e)},cL=e=>{e.forEach(cD)},cV={some:0,all:1};class cz extends oV{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:i="some",once:r}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof i?i:cV[i]};return function(e,t,n){let i=function({root:e,...t}){let n=e||document;cF.has(n)||cF.set(n,{});let i=cF.get(n),r=JSON.stringify(t);return i[r]||(i[r]=new IntersectionObserver(cL,{root:e,...t})),i[r]}(t);return cR.set(e,n),i.observe(e),()=>{cR.delete(e),i.unobserve(e)}}(this.node.current,s,e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,r&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:n,onViewportLeave:i}=this.node.getProps(),s=t?n:i;s&&s(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t))&&this.startObserver()}unmount(){}}let cB=(0,c.createContext)({strict:!1}),cI=(0,c.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),cO=(0,c.createContext)({});function cq(e){return rS(e.animate)||ok.some(t=>oP(e[t]))}function c_(e){return!!(cq(e)||e.variants)}function cH(e){return Array.isArray(e)?e.join(" "):e}let c$="undefined"!=typeof window,cW={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cU={};for(let e in cW)cU[e]={isEnabled:t=>cW[e].some(e=>!!t[e])};let cY=Symbol.for("motionComponentSymbol"),cQ=c$?c.useLayoutEffect:c.useEffect;function cX(e,{layout:t,layoutId:n}){return r8.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!lS[e]||"opacity"===e)}let cK=(e,t)=>t&&"number"==typeof e?t.transform(e):e,cG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cZ=r7.length;function cJ(e,t,n){let{style:i,vars:r,transformOrigin:s}=e,a=!1,o=!1;for(let e in t){let n=t[e];if(r8.has(e)){a=!0;continue}if(aP(e)){r[e]=n;continue}{let t=cK(n,ac[e]);e.startsWith("origin")?(o=!0,s[e]=t):i[e]=t}}if(!t.transform&&(a||n?i.transform=function(e,t,n){let i="",r=!0;for(let s=0;s<cZ;s++){let a=r7[s],o=e[a];if(void 0===o)continue;let l=!0;if(!(l="number"==typeof o?o===(a.startsWith("scale")?1:0):0===parseFloat(o))||n){let e=cK(o,ac[a]);if(!l){r=!1;let t=cG[a]||a;i+=`${t}(${e}) `}n&&(t[a]=e)}}return i=i.trim(),n?i=n(t,r?"":i):r&&(i="none"),i}(t,e.transform,n):i.transform&&(i.transform="none")),o){let{originX:e="50%",originY:t="50%",originZ:n=0}=s;i.transformOrigin=`${e} ${t} ${n}`}}let c0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function c1(e,t,n){for(let i in t)sb(t[i])||cX(i,n)||(e[i]=t[i])}let c2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function c3(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||c2.has(e)}let c5=e=>!c3(e);try{!function(e){e&&(c5=t=>t.startsWith("on")?!c3(t):e(t))}(require("@emotion/is-prop-valid").default)}catch(e){}let c4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function c6(e){if("string"!=typeof e||e.includes("-"));else if(c4.indexOf(e)>-1||/[A-Z]/u.test(e))return!0;return!1}let c7={offset:"stroke-dashoffset",array:"stroke-dasharray"},c8={offset:"strokeDashoffset",array:"strokeDasharray"};function c9(e,t,n){return"string"==typeof e?e:sJ.transform(t+n*e)}function ue(e,{attrX:t,attrY:n,attrScale:i,originX:r,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...c},u,d){if(cJ(e,c,d),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:h,style:p,dimensions:f}=e;h.transform&&(f&&(p.transform=h.transform),delete h.transform),f&&(void 0!==r||void 0!==s||p.transform)&&(p.transformOrigin=function(e,t,n){let i=c9(t,e.x,e.width),r=c9(n,e.y,e.height);return`${i} ${r}`}(f,void 0!==r?r:.5,void 0!==s?s:.5)),void 0!==t&&(h.x=t),void 0!==n&&(h.y=n),void 0!==i&&(h.scale=i),void 0!==a&&function(e,t,n=1,i=0,r=!0){e.pathLength=1;let s=r?c7:c8;e[s.offset]=sJ.transform(-i);let a=sJ.transform(t),o=sJ.transform(n);e[s.array]=`${a} ${o}`}(h,a,o,l,!1)}let ut=()=>({...c0(),attrs:{}}),un=e=>"string"==typeof e&&"svg"===e.toLowerCase();function ui(e){let t=(0,c.useRef)(null);return null===t.current&&(t.current=e()),t.current}let ur=e=>(t,n)=>{let i=(0,c.useContext)(cO),r=(0,c.useContext)(lb),s=()=>(function({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},i,r,s){let a={latestValues:function(e,t,n,i){let r={},s=i(e,{});for(let e in s)r[e]=lL(s[e]);let{initial:a,animate:o}=e,l=cq(e),c=c_(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let u=!!n&&!1===n.initial,d=(u=u||!1===a)?o:a;if(d&&"boolean"!=typeof d&&!rS(d)){let t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){let i=rM(e,t[n]);if(i){let{transitionEnd:e,transition:t,...n}=i;for(let e in n){let t=n[e];if(Array.isArray(t)){let e=u?t.length-1:0;t=t[e]}null!==t&&(r[e]=t)}for(let t in e)r[t]=e[t]}}}return r}(i,r,s,e),renderState:t()};return n&&(a.onMount=e=>n({props:i,current:e,...a}),a.onUpdate=e=>n(e)),a})(e,t,i,r);return n?s():ui(s)};function us(e,t,n){var i;let{style:r}=e,s={};for(let a in r)(sb(r[a])||t.style&&sb(t.style[a])||cX(a,e)||(null===(i=null==n?void 0:n.getValue(a))||void 0===i?void 0:i.liveStyle)!==void 0)&&(s[a]=r[a]);return s}let ua={useVisualState:ur({scrapeMotionValuesFromProps:us,createRenderState:c0})};function uo(e,t){try{t.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(e){t.dimensions={x:0,y:0,width:0,height:0}}}function ul(e,{style:t,vars:n},i,r){for(let s in Object.assign(e.style,t,r&&r.getProjectionStyles(i)),n)e.style.setProperty(s,n[s])}let uc=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function uu(e,t,n,i){for(let n in ul(e,t,void 0,i),t.attrs)e.setAttribute(uc.has(n)?n:sj(n),t.attrs[n])}function ud(e,t,n){let i=us(e,t,n);for(let n in e)(sb(e[n])||sb(t[n]))&&(i[-1!==r7.indexOf(n)?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n]=e[n]);return i}let uh=["x","y","width","height","cx","cy","r"],up={useVisualState:ur({scrapeMotionValuesFromProps:ud,createRenderState:ut,onUpdate:({props:e,prevProps:t,current:n,renderState:i,latestValues:r})=>{if(!n)return;let s=!!e.drag;if(!s){for(let e in r)if(r8.has(e)){s=!0;break}}if(!s)return;let a=!t;if(t)for(let n=0;n<uh.length;n++){let i=uh[n];e[i]!==t[i]&&(a=!0)}a&&so.read(()=>{uo(n,i),so.render(()=>{ue(i,r,un(n.tagName),e.transformTemplate),uu(n,i)})})}})},uf={current:null},um={current:!1},ug=[...aD,s5,ai],uy=e=>ug.find(aF(e)),ux=new WeakMap,uv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ub{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:r,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=aC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=sh.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,so.render(this.render,!1,!0))};let{latestValues:o,renderState:l,onUpdate:c}=s;this.onUpdate=c,this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!r,this.isControllingVariants=cq(t),this.isVariantNode=c_(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);let{willChange:u,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(let e in d){let t=d[e];void 0!==o[e]&&sb(t)&&t.set(o[e],!1)}}mount(e){this.current=e,ux.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),um.current||function(){if(um.current=!0,c$){if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>uf.current=e.matches;e.addListener(t),t()}else uf.current=!1}}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||uf.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in this.projection&&this.projection.unmount(),sl(this.notifyUpdate),sl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){let n;this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let i=r8.has(e);i&&this.onBindTransform&&this.onBindTransform();let r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&so.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);window.MotionCheckAppearSync&&(n=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s(),n&&n(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in cU){let t=cU[e];if(!t)continue;let{isEnabled:n,Feature:i}=t;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):o0()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<uv.length;t++){let n=uv[t];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);let i=e["on"+n];i&&(this.propEventSubscriptions[n]=this.on(n,i))}this.prevMotionValues=function(e,t,n){for(let i in t){let r=t[i],s=n[i];if(sb(r))e.addValue(i,r);else if(sb(s))e.addValue(i,sv(r,{owner:e}));else if(s!==r){if(e.hasValue(i)){let t=e.getValue(i);!0===t.liveStyle?t.jump(r):t.hasAnimated||t.set(r)}else{let t=e.getStaticValue(i);e.addValue(i,sv(void 0!==t?t:r,{owner:e}))}}}for(let i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=sv(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let i=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return null!=i&&("string"==typeof i&&(aT(i)||sV(i))?i=parseFloat(i):!uy(i)&&ai.test(t)&&(i=ah(e,t)),this.setBaseTarget(e,sb(i)?i.get():i)),sb(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;let n;let{initial:i}=this.props;if("string"==typeof i||"object"==typeof i){let r=rM(this.props,i,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);r&&(n=r[e])}if(i&&void 0!==n)return n;let r=this.getBaseTargetFromProps(this.props,e);return void 0===r||sb(r)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new sm),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class uw extends ub{constructor(){super(...arguments),this.KeyframeResolver=aV}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;sb(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class uj extends uw{constructor(){super(...arguments),this.type="html",this.renderInstance=ul}readValueFromInstance(e,t){if(r8.has(t)){let e=ad(t);return e&&e.default||0}{let n=window.getComputedStyle(e),i=(aP(t)?n.getPropertyValue(t):n[t])||0;return"string"==typeof i?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return ln(e,t)}build(e,t,n){cJ(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return us(e,t,n)}}class uE extends uw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=o0,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&uo(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(r8.has(t)){let e=ad(t);return e&&e.default||0}return t=uc.has(t)?t:sj(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return ud(e,t,n)}onBindTransform(){this.current&&!this.renderState.dimensions&&so.postRender(this.updateDimensions)}build(e,t,n){ue(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,i){uu(e,t,n,i)}mount(e){this.isSVGTag=un(e.tagName),super.mount(e)}}let uN=function(e){if("undefined"==typeof Proxy)return e;let t=new Map;return new Proxy((...t)=>e(...t),{get:(n,i)=>"create"===i?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}((s={animation:{Feature:oz},exit:{Feature:oI},inView:{Feature:cz},tap:{Feature:cA},focus:{Feature:cM},hover:{Feature:cP},pan:{Feature:lv},drag:{Feature:ly,ProjectionNode:cT,MeasureLayout:lA},layout:{ProjectionNode:cT,MeasureLayout:lA}},a=(e,t)=>c6(e)?new uE(t):new uj(t,{allowProjection:e!==c.Fragment}),function(e,{forwardMotionProps:t}={forwardMotionProps:!1}){return function({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:i,Component:r}){var s,a;function o(e,s){var a;let o;let u={...(0,c.useContext)(cI),...e,layoutId:function({layoutId:e}){let t=(0,c.useContext)(lj).id;return t&&void 0!==e?t+"-"+e:e}(e)},{isStatic:d}=u,h=function(e){let{initial:t,animate:n}=function(e,t){if(cq(e)){let{initial:t,animate:n}=e;return{initial:!1===t||oP(t)?t:void 0,animate:oP(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,c.useContext)(cO));return(0,c.useMemo)(()=>({initial:t,animate:n}),[cH(t),cH(n)])}(e),p=i(e,d);if(!d&&c$){(0,c.useContext)(cB).strict;let e=function(e){let{drag:t,layout:n}=cU;if(!t&&!n)return{};let i={...t,...n};return{MeasureLayout:(null==t?void 0:t.isEnabled(e))||(null==n?void 0:n.isEnabled(e))?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}(u);o=e.MeasureLayout,h.visualElement=function(e,t,n,i,r){var s,a;let{visualElement:o}=(0,c.useContext)(cO),l=(0,c.useContext)(cB),u=(0,c.useContext)(lb),d=(0,c.useContext)(cI).reducedMotion,h=(0,c.useRef)(null);i=i||l.renderer,!h.current&&i&&(h.current=i(e,{visualState:t,parent:o,props:n,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:d}));let p=h.current,f=(0,c.useContext)(lE);p&&!p.projection&&r&&("html"===p.type||"svg"===p.type)&&function(e,t,n,i){let{layoutId:r,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:function e(t){if(t)return!1!==t.options.allowProjection?t.projection:e(t.parent)}(e.parent)),e.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!a||o&&li(o),visualElement:e,animationType:"string"==typeof s?s:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:c})}(h.current,n,r,f);let m=(0,c.useRef)(!1);(0,c.useInsertionEffect)(()=>{p&&m.current&&p.update(n,u)});let g=n[sE],y=(0,c.useRef)(!!g&&!(null===(s=window.MotionHandoffIsComplete)||void 0===s?void 0:s.call(window,g))&&(null===(a=window.MotionHasOptimisedAnimation)||void 0===a?void 0:a.call(window,g)));return cQ(()=>{p&&(m.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),lP.render(p.render),y.current&&p.animationState&&p.animationState.animateChanges())}),(0,c.useEffect)(()=>{p&&(!y.current&&p.animationState&&p.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,g)}),y.current=!1))}),p}(r,p,u,t,e.ProjectionNode)}return(0,l.jsxs)(cO.Provider,{value:h,children:[o&&h.visualElement?(0,l.jsx)(o,{visualElement:h.visualElement,...u}):null,n(r,e,(a=h.visualElement,(0,c.useCallback)(e=>{e&&p.onMount&&p.onMount(e),a&&(e?a.mount(e):a.unmount()),s&&("function"==typeof s?s(e):li(s)&&(s.current=e))},[a])),p,d,h.visualElement)]})}e&&function(e){for(let t in e)cU[t]={...cU[t],...e[t]}}(e),o.displayName=`motion.${"string"==typeof r?r:`create(${null!==(a=null!==(s=r.displayName)&&void 0!==s?s:r.name)&&void 0!==a?a:""})`}`;let u=(0,c.forwardRef)(o);return u[cY]=r,u}({...c6(e)?up:ua,preloadedFeatures:s,useRender:function(e=!1){return(t,n,i,{latestValues:r},s)=>{let a=(c6(t)?function(e,t,n,i){let r=(0,c.useMemo)(()=>{let n=ut();return ue(n,t,un(i),e.transformTemplate),{...n.attrs,style:{...n.style}}},[t]);if(e.style){let t={};c1(t,e.style,e),r.style={...t,...r.style}}return r}:function(e,t){let n={},i=function(e,t){let n=e.style||{},i={};return c1(i,n,e),Object.assign(i,function({transformTemplate:e},t){return(0,c.useMemo)(()=>{let n=c0();return cJ(n,t,e),Object.assign({},n.vars,n.style)},[t])}(e,t)),i}(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n})(n,r,s,t),o=function(e,t,n){let i={};for(let r in e)("values"!==r||"object"!=typeof e.values)&&(c5(r)||!0===n&&c3(r)||!t&&!c3(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}(n,"string"==typeof t,e),l=t!==c.Fragment?{...o,...a,ref:i}:{},{children:u}=n,d=(0,c.useMemo)(()=>sb(u)?u.get():u,[u]);return(0,c.createElement)(t,{...l,children:d})}}(t),createVisualElement:a,Component:e})})),uC=({builtInPresets:e,userPresets:t,splitEarConfig:n,onLeftEarPresetSelect:i,onRightEarPresetSelect:r,onDeletePreset:s,onSaveLeftEarPreset:a,onSaveRightEarPreset:o,showUserPresets:c=!0,showDeleteButton:u=!0,isEQEnabled:d=!0,leftEarEnabled:h=!0,rightEarEnabled:p=!0})=>{let f={hidden:{opacity:0,y:10},visible:e=>({opacity:1,y:0,transition:{delay:.05*e,duration:.3,ease:"easeOut"}}),hover:{scale:1.03,transition:{duration:.2}},tap:{scale:.97,transition:{duration:.1}}},m=e=>{try{return new Date(e).toLocaleDateString(void 0,{month:"short",day:"numeric"})}catch(e){return""}};return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:`${d&&h?"":"opacity-60"}`,children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsxs)("h3",{className:"text-sm font-semibold flex items-center gap-1 text-blue-600",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Left Ear"]}),a&&(0,l.jsxs)(e7.z,{variant:"ghost",size:"sm",onClick:a,className:"h-6 px-2 text-xs flex items-center gap-1 text-blue-600 hover:bg-blue-50",children:[l.jsx(te,{className:"h-3 w-3"}),"Save Preset"]})]}),(0,l.jsxs)(rg.Tabs,{defaultValue:"standard",className:"w-full",children:[(0,l.jsxs)(rg.TabsList,{className:"grid grid-cols-3 mb-3",children:[l.jsx(rg.TabsTrigger,{value:"standard",className:"text-xs",children:"Standard"}),(0,l.jsxs)(rg.TabsTrigger,{value:"tinnitus",className:"text-xs flex items-center gap-1",children:[l.jsx(tt,{className:"h-3 w-3"}),"Tinnitus"]}),l.jsx(rg.TabsTrigger,{value:"custom",className:"text-xs",children:"Custom"})]}),l.jsx(rg.TabsContent,{value:"standard",children:l.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.values(e).map((e,t)=>{let r=n.leftEarPreset===e.id,s=e.color;return l.jsx(uN.div,{custom:t,initial:"hidden",animate:"visible",whileHover:"hover",whileTap:"tap",variants:f,children:l.jsx(nq,{children:(0,l.jsxs)(nW,{children:[l.jsx(nY,{asChild:!0,children:l.jsx(e7.z,{className:"text-sm font-medium rounded-md shadow-sm transition-colors w-full h-auto py-2 justify-start",style:{backgroundColor:r?s.active.bg:s.inactive.bg,color:r?s.active.text:s.inactive.text,border:"none"},onClick:()=>i(e),children:(0,l.jsxs)("div",{className:"flex flex-col items-start",children:[l.jsx("span",{className:"font-medium",children:e.name}),(0,l.jsxs)("span",{className:"text-xs opacity-70",children:[e.description.slice(0,18),e.description.length>18?"...":""]})]})})}),l.jsx(n3,{side:"right",children:l.jsx("p",{children:e.description})})]})})},e.id)})})}),l.jsx(rg.TabsContent,{value:"tinnitus",children:(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[Object.values(t).filter(e=>e.isCalibrated).map((e,t)=>{let r=n.leftEarPreset===e.id,a=e.color;return(0,l.jsxs)(uN.div,{custom:t,initial:"hidden",animate:"visible",whileHover:"hover",whileTap:"tap",variants:f,className:"relative group",children:[l.jsx(nq,{children:(0,l.jsxs)(nW,{children:[l.jsx(nY,{asChild:!0,children:l.jsx(e7.z,{className:"text-sm font-medium rounded-md shadow-sm transition-colors w-full h-auto py-2 justify-start",style:{backgroundColor:r?a.active.bg:a.inactive.bg,color:r?a.active.text:a.inactive.text,border:"none"},onClick:()=>i(e),children:(0,l.jsxs)("div",{className:"flex flex-col items-start",children:[l.jsx("span",{className:"font-medium",children:e.name}),e.tinnitusCenterFreq&&l.jsx("span",{className:"text-xs opacity-70",children:e.tinnitusCenterFreq>=1e3?`${(e.tinnitusCenterFreq/1e3).toFixed(1)}kHz`:`${e.tinnitusCenterFreq.toFixed(0)}Hz`})]})})}),l.jsx(n3,{side:"right",children:(0,l.jsxs)("div",{className:"space-y-1 max-w-xs",children:[l.jsx("p",{className:"font-medium",children:e.name}),l.jsx("p",{className:"text-xs",children:e.description}),e.tinnitusCenterFreq&&(0,l.jsxs)("p",{className:"text-xs",children:["Calibrated for tinnitus at ",e.tinnitusCenterFreq.toFixed(0),"Hz"]})]})})]})}),u&&s&&l.jsx("div",{className:"absolute -right-2 -top-2 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(e7.z,{variant:"ghost",size:"icon",className:"h-6 w-6 rounded-full bg-white shadow border border-gray-200",onClick:t=>{t.stopPropagation(),s(e.id)},children:l.jsx(tn,{className:"h-3 w-3 text-red-500"})})})]},e.id)}),0===Object.values(t).filter(e=>e.isCalibrated).length&&(0,l.jsxs)("div",{className:"col-span-2 p-4 text-center text-muted-foreground bg-purple-50 rounded-md",children:[l.jsx(tt,{className:"h-5 w-5 mx-auto mb-2 text-purple-500"}),l.jsx("p",{className:"text-sm text-purple-700",children:"No tinnitus presets yet"}),l.jsx("p",{className:"text-xs mt-1 text-purple-600",children:"Use the calibration wizard to create a personalized tinnitus preset"})]})]})}),l.jsx(rg.TabsContent,{value:"custom",children:(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[Object.values(t).filter(e=>!e.isCalibrated).map((e,t)=>{let r=n.leftEarPreset===e.id,a=e.color;return(0,l.jsxs)(uN.div,{custom:t,initial:"hidden",animate:"visible",whileHover:"hover",whileTap:"tap",variants:f,className:"relative group",children:[l.jsx(nq,{children:(0,l.jsxs)(nW,{children:[l.jsx(nY,{asChild:!0,children:l.jsx(e7.z,{className:"text-sm font-medium rounded-md shadow-sm transition-colors w-full h-auto py-2 justify-start",style:{backgroundColor:r?a.active.bg:a.inactive.bg,color:r?a.active.text:a.inactive.text,border:"none"},onClick:()=>i(e),children:(0,l.jsxs)("div",{className:"flex flex-col items-start",children:[l.jsx("span",{className:"font-medium",children:e.name}),l.jsx("span",{className:"text-xs opacity-70",children:m(e.dateCreated)})]})})}),l.jsx(n3,{side:"right",children:(0,l.jsxs)("div",{className:"space-y-1 max-w-xs",children:[l.jsx("p",{className:"font-medium",children:e.name}),l.jsx("p",{className:"text-xs",children:e.description})]})})]})}),u&&s&&l.jsx("div",{className:"absolute -right-2 -top-2 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(e7.z,{variant:"ghost",size:"icon",className:"h-6 w-6 rounded-full bg-white shadow border border-gray-200",onClick:t=>{t.stopPropagation(),s(e.id)},children:l.jsx(tn,{className:"h-3 w-3 text-red-500"})})})]},e.id)}),0===Object.values(t).filter(e=>!e.isCalibrated).length&&(0,l.jsxs)("div",{className:"col-span-2 p-4 text-center text-muted-foreground bg-gray-50 rounded-md",children:[l.jsx(te,{className:"h-5 w-5 mx-auto mb-2 text-gray-400"}),l.jsx("p",{className:"text-sm",children:"No custom presets yet"}),l.jsx("p",{className:"text-xs mt-1",children:"Adjust the EQ and save your settings"}),a&&(0,l.jsxs)(e7.z,{variant:"outline",size:"sm",className:"mt-3",onClick:a,children:[l.jsx(te,{className:"h-3 w-3 mr-1"}),"Save EQ Preset"]})]})]})})]})]}),l.jsx(rT,{className:"opacity-30"}),(0,l.jsxs)("div",{className:`${d&&p?"":"opacity-60"}`,children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsxs)("h3",{className:"text-sm font-semibold flex items-center gap-1 text-red-600",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),"Right Ear"]}),o&&(0,l.jsxs)(e7.z,{variant:"ghost",size:"sm",onClick:o,className:"h-6 px-2 text-xs flex items-center gap-1 text-red-600 hover:bg-red-50",children:[l.jsx(te,{className:"h-3 w-3"}),"Save Preset"]})]}),(0,l.jsxs)(rg.Tabs,{defaultValue:"standard",className:"w-full",children:[(0,l.jsxs)(rg.TabsList,{className:"grid grid-cols-3 mb-3",children:[l.jsx(rg.TabsTrigger,{value:"standard",className:"text-xs",children:"Standard"}),(0,l.jsxs)(rg.TabsTrigger,{value:"tinnitus",className:"text-xs flex items-center gap-1",children:[l.jsx(tt,{className:"h-3 w-3"}),"Tinnitus"]}),l.jsx(rg.TabsTrigger,{value:"custom",className:"text-xs",children:"Custom"})]}),l.jsx(rg.TabsContent,{value:"standard",children:l.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.values(e).map((e,t)=>{let i=n.rightEarPreset===e.id,s=e.color;return l.jsx(uN.div,{custom:t,initial:"hidden",animate:"visible",whileHover:"hover",whileTap:"tap",variants:f,children:l.jsx(nq,{children:(0,l.jsxs)(nW,{children:[l.jsx(nY,{asChild:!0,children:l.jsx(e7.z,{className:"text-sm font-medium rounded-md shadow-sm transition-colors w-full h-auto py-2 justify-start",style:{backgroundColor:i?s.active.bg:s.inactive.bg,color:i?s.active.text:s.inactive.text,border:"none"},onClick:()=>r(e),children:(0,l.jsxs)("div",{className:"flex flex-col items-start",children:[l.jsx("span",{className:"font-medium",children:e.name}),(0,l.jsxs)("span",{className:"text-xs opacity-70",children:[e.description.slice(0,18),e.description.length>18?"...":""]})]})})}),l.jsx(n3,{side:"right",children:l.jsx("p",{children:e.description})})]})})},e.id)})})}),l.jsx(rg.TabsContent,{value:"tinnitus",children:(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[Object.values(t).filter(e=>e.isCalibrated).map((e,t)=>{let i=n.rightEarPreset===e.id,a=e.color;return(0,l.jsxs)(uN.div,{custom:t,initial:"hidden",animate:"visible",whileHover:"hover",whileTap:"tap",variants:f,className:"relative group",children:[l.jsx(nq,{children:(0,l.jsxs)(nW,{children:[l.jsx(nY,{asChild:!0,children:l.jsx(e7.z,{className:"text-sm font-medium rounded-md shadow-sm transition-colors w-full h-auto py-2 justify-start",style:{backgroundColor:i?a.active.bg:a.inactive.bg,color:i?a.active.text:a.inactive.text,border:"none"},onClick:()=>r(e),children:(0,l.jsxs)("div",{className:"flex flex-col items-start",children:[l.jsx("span",{className:"font-medium",children:e.name}),e.tinnitusCenterFreq&&l.jsx("span",{className:"text-xs opacity-70",children:e.tinnitusCenterFreq>=1e3?`${(e.tinnitusCenterFreq/1e3).toFixed(1)}kHz`:`${e.tinnitusCenterFreq.toFixed(0)}Hz`})]})})}),l.jsx(n3,{side:"right",children:(0,l.jsxs)("div",{className:"space-y-1 max-w-xs",children:[l.jsx("p",{className:"font-medium",children:e.name}),l.jsx("p",{className:"text-xs",children:e.description}),e.tinnitusCenterFreq&&(0,l.jsxs)("p",{className:"text-xs",children:["Calibrated for tinnitus at ",e.tinnitusCenterFreq.toFixed(0),"Hz"]})]})})]})}),u&&s&&l.jsx("div",{className:"absolute -right-2 -top-2 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(e7.z,{variant:"ghost",size:"icon",className:"h-6 w-6 rounded-full bg-white shadow border border-gray-200",onClick:t=>{t.stopPropagation(),s(e.id)},children:l.jsx(tn,{className:"h-3 w-3 text-red-500"})})})]},e.id)}),0===Object.values(t).filter(e=>e.isCalibrated).length&&(0,l.jsxs)("div",{className:"col-span-2 p-4 text-center text-muted-foreground bg-purple-50 rounded-md",children:[l.jsx(tt,{className:"h-5 w-5 mx-auto mb-2 text-purple-500"}),l.jsx("p",{className:"text-sm text-purple-700",children:"No tinnitus presets yet"}),l.jsx("p",{className:"text-xs mt-1 text-purple-600",children:"Use the calibration wizard to create a personalized tinnitus preset"})]})]})}),l.jsx(rg.TabsContent,{value:"custom",children:(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[Object.values(t).filter(e=>!e.isCalibrated).map((e,t)=>{let i=n.rightEarPreset===e.id,a=e.color;return(0,l.jsxs)(uN.div,{custom:t,initial:"hidden",animate:"visible",whileHover:"hover",whileTap:"tap",variants:f,className:"relative group",children:[l.jsx(nq,{children:(0,l.jsxs)(nW,{children:[l.jsx(nY,{asChild:!0,children:l.jsx(e7.z,{className:"text-sm font-medium rounded-md shadow-sm transition-colors w-full h-auto py-2 justify-start",style:{backgroundColor:i?a.active.bg:a.inactive.bg,color:i?a.active.text:a.inactive.text,border:"none"},onClick:()=>r(e),children:(0,l.jsxs)("div",{className:"flex flex-col items-start",children:[l.jsx("span",{className:"font-medium",children:e.name}),l.jsx("span",{className:"text-xs opacity-70",children:m(e.dateCreated)})]})})}),l.jsx(n3,{side:"right",children:(0,l.jsxs)("div",{className:"space-y-1 max-w-xs",children:[l.jsx("p",{className:"font-medium",children:e.name}),l.jsx("p",{className:"text-xs",children:e.description})]})})]})}),u&&s&&l.jsx("div",{className:"absolute -right-2 -top-2 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(e7.z,{variant:"ghost",size:"icon",className:"h-6 w-6 rounded-full bg-white shadow border border-gray-200",onClick:t=>{t.stopPropagation(),s(e.id)},children:l.jsx(tn,{className:"h-3 w-3 text-red-500"})})})]},e.id)}),0===Object.values(t).filter(e=>!e.isCalibrated).length&&(0,l.jsxs)("div",{className:"col-span-2 p-4 text-center text-muted-foreground bg-gray-50 rounded-md",children:[l.jsx(te,{className:"h-5 w-5 mx-auto mb-2 text-gray-400"}),l.jsx("p",{className:"text-sm",children:"No custom presets yet"}),l.jsx("p",{className:"text-xs mt-1",children:"Adjust the EQ and save your settings"}),o&&(0,l.jsxs)(e7.z,{variant:"outline",size:"sm",className:"mt-3",onClick:o,children:[l.jsx(te,{className:"h-3 w-3 mr-1"}),"Save EQ Preset"]})]})]})})]})]})]})};class uT extends c.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,n=e instanceof HTMLElement&&e.offsetWidth||0,i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft,i.right=n-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function uS({children:e,isPresent:t,anchorX:n}){let i=(0,c.useId)(),r=(0,c.useRef)(null),s=(0,c.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=(0,c.useContext)(cI);return(0,c.useInsertionEffect)(()=>{let{width:e,height:o,top:l,left:c,right:u}=s.current;if(t||!r.current||!e||!o)return;let d="left"===n?`left: ${c}`:`right: ${u}`;r.current.dataset.motionPopId=i;let h=document.createElement("style");return a&&(h.nonce=a),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${o}px !important;
            ${d}px !important;
            top: ${l}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[t]),(0,l.jsx)(uT,{isPresent:t,childRef:r,sizeRef:s,children:c.cloneElement(e,{ref:r})})}let uP=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:a,anchorX:o})=>{let u=ui(uM),d=(0,c.useId)(),h=(0,c.useCallback)(e=>{for(let t of(u.set(e,!0),u.values()))if(!t)return;i&&i()},[u,i]),p=(0,c.useMemo)(()=>({id:d,initial:t,isPresent:n,custom:r,onExitComplete:h,register:e=>(u.set(e,!1),()=>u.delete(e))}),s?[Math.random(),h]:[n,h]);return(0,c.useMemo)(()=>{u.forEach((e,t)=>u.set(t,!1))},[n]),c.useEffect(()=>{n||u.size||!i||i()},[n]),"popLayout"===a&&(e=(0,l.jsx)(uS,{isPresent:n,anchorX:o,children:e})),(0,l.jsx)(lb.Provider,{value:p,children:e})};function uM(){return new Map}let uk=e=>e.key||"";function uA(e){let t=[];return c.Children.forEach(e,e=>{(0,c.isValidElement)(e)&&t.push(e)}),t}let uR=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:s="sync",propagate:a=!1,anchorX:o="left"})=>{let[u,d]=lw(a),h=(0,c.useMemo)(()=>uA(e),[e]),p=a&&!u?[]:h.map(uk),f=(0,c.useRef)(!0),m=(0,c.useRef)(h),g=ui(()=>new Map),[y,x]=(0,c.useState)(h),[v,b]=(0,c.useState)(h);cQ(()=>{f.current=!1,m.current=h;for(let e=0;e<v.length;e++){let t=uk(v[e]);p.includes(t)?g.delete(t):!0!==g.get(t)&&g.set(t,!1)}},[v,p.length,p.join("-")]);let w=[];if(h!==y){let e=[...h];for(let t=0;t<v.length;t++){let n=v[t],i=uk(n);p.includes(i)||(e.splice(t,0,n),w.push(n))}return"wait"===s&&w.length&&(e=w),b(uA(e)),x(h),null}let{forceRender:j}=(0,c.useContext)(lj);return(0,l.jsx)(l.Fragment,{children:v.map(e=>{let c=uk(e),y=(!a||!!u)&&(h===v||p.includes(c));return(0,l.jsx)(uP,{isPresent:y,initial:(!f.current||!!n)&&void 0,custom:t,presenceAffectsLayout:r,mode:s,onExitComplete:y?void 0:()=>{if(!g.has(c))return;g.set(c,!0);let e=!0;g.forEach(t=>{t||(e=!1)}),e&&(null==j||j(),b(m.current),a&&(null==d||d()),i&&i())},anchorX:o,children:e},c)})})},uF=(0,e8.Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),uD=(0,e8.Z)("CircleMinus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]),uL=(0,e8.Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),uV=(0,e8.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),uz=(0,e8.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),uB=(0,e8.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),uI={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.22,1,.36,1]}},exit:{opacity:0,y:-20,transition:{duration:.3}}},uO=({onComplete:e,onCancel:t})=>{let[n,i]=(0,c.useState)(0),r=ir.length,[s,a]=(0,c.useState)(null),[o,d]=(0,c.useState)(null),[h,p]=(0,c.useState)(null),[f,m]=(0,c.useState)(!1),[g,y]=(0,c.useState)(null),[x,v]=(0,c.useState)(4e3),[b,w]=(0,c.useState)(.1),[j,E]=(0,c.useState)(!1),[N,C]=(0,c.useState)(-12),[T,S]=(0,c.useState)(.7),[P,M]=(0,c.useState)("My Tinnitus Relief"),k=(0,c.useRef)({frequency:4e3,notchDepth:-12,notchWidth:.7}),A=(n+1)/r*100;(0,c.useEffect)(()=>((async()=>{try{let e=new(window.AudioContext||window.webkitAudioContext),t=e.createGain();t.gain.value=b,t.connect(e.destination),a(e),p(t)}catch(e){console.error("Failed to initialize audio context:",e)}})(),()=>{F(),s&&s.close()}),[]),(0,c.useEffect)(()=>{h&&(h.gain.value=b),b>.25?E(!0):E(!1)},[b,h]),(0,c.useEffect)(()=>{k.current={frequency:x,notchDepth:N,notchWidth:T}},[x,N,T]);let R=e=>{if(!s||!h)return;F();let t=s.createOscillator();t.type="sine",t.frequency.value=e;let n=s.createGain();n.gain.value=0,n.connect(h),t.connect(n),t.start(),n.gain.linearRampToValueAtTime(1,s.currentTime+.2),d(t),m(!0),v(e)},F=()=>{o&&(o.stop(),o.disconnect(),d(null)),m(!1)},D=()=>{f?F():R(x)},L=e=>{y(e),R(ii[e].frequency)},V=e=>{let t=e[0];v(t),f&&o&&(o.frequency.value=t),y(null)},z=()=>{let{frequency:t}=k.current,n=t>=1e3?`${(t/1e3).toFixed(1)}kHz`:`${t.toFixed(0)}Hz`,i=ie.map(e=>Math.abs(e.frequency-t)<.2*e.frequency?{...e,frequency:t,gain:-12,Q:3}:e.frequency>1.5*t?{...e,gain:-3}:e.frequency<.3*t?{...e,gain:2}:e);e({id:`tinnitus-${Date.now()}`,name:P||`Tinnitus Relief ${n}`,description:`Personalized tinnitus relief preset with 12dB notch filter at ${n}. Created through calibration.`,color:{active:{bg:"#8B5CF6",text:"white"},inactive:{bg:"#EDE9FE",text:"#6D28D9"}},bands:i,dateCreated:new Date().toISOString(),tinnitusCenterFreq:t,isCalibrated:!0})};return(0,l.jsxs)(u.Zb,{className:"overflow-hidden relative",children:[l.jsx(uN.div,{className:"absolute top-0 left-0 h-1 bg-blue-500",initial:{width:0},animate:{width:`${A}%`},transition:{duration:.5}}),(0,l.jsxs)(u.Ol,{children:[l.jsx(u.ll,{children:ir[n].title}),l.jsx(u.SZ,{children:ir[n].description})]}),l.jsx(uR,{mode:"wait",children:l.jsx(uN.div,{initial:"hidden",animate:"visible",exit:"exit",variants:uI,children:(()=>{switch(n){case 0:return(0,l.jsxs)(u.aY,{className:"space-y-4",children:[l.jsx(uN.div,{className:"flex justify-center p-4",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:300,damping:20},children:l.jsx("div",{className:"bg-blue-50 w-24 h-24 rounded-full flex items-center justify-center",children:l.jsx(tt,{className:"h-12 w-12 text-blue-500"})})}),l.jsx(uN.p,{className:"text-muted-foreground",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:"This wizard will help identify your tinnitus frequency and create a customized EQ preset to provide relief while listening to music."}),(0,l.jsxs)(uN.div,{className:"space-y-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[l.jsx("p",{className:"font-medium",children:"For best results:"}),(0,l.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[l.jsx(uN.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},children:"Use headphones in a quiet environment"}),l.jsx(uN.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6},children:"Set your device volume to a comfortable level"}),l.jsx(uN.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.7},children:"Take your time with each step"})]})]})]});case 1:return(0,l.jsxs)(u.aY,{className:"space-y-4",children:[l.jsx(uN.p,{className:"text-sm text-muted-foreground",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:"Click each button to play test tones. Select the one that most closely matches your tinnitus sound."}),l.jsx(uN.div,{className:"grid grid-cols-2 gap-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:ii.map((e,t)=>l.jsx(uN.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1+.05*t},whileTap:{scale:.97},children:l.jsx(e7.z,{variant:g===t?"default":"outline",className:`justify-start w-full ${g===t?"bg-blue-500 text-white":""}`,onClick:()=>L(t),children:l.jsx("span",{children:e.label})})},e.frequency))}),(0,l.jsxs)(uN.div,{className:"flex items-center gap-2 pt-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:[l.jsx(e7.z,{size:"icon",variant:f?"destructive":"outline",onClick:D,className:"aspect-square w-10 h-10 rounded-full",children:f?l.jsx(i8,{size:16}):l.jsx(re,{size:16})}),l.jsx("div",{className:"text-sm font-medium",children:f?"Stop Tone":"Play Current Tone"})]}),(0,l.jsxs)(uN.div,{className:"space-y-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},children:[(0,l.jsxs)(n4._,{className:"flex justify-between",children:[l.jsx("span",{children:"Volume"}),j&&(0,l.jsxs)(uN.span,{className:"text-amber-500 text-xs flex items-center",initial:{scale:.8},animate:{scale:[1,1.1,1]},transition:{repeat:1,duration:1},children:[l.jsx(uF,{className:"h-3 w-3 mr-1"}),"High volume - use caution"]})]}),l.jsx(iK,{min:0,max:.3,step:.01,value:[b],onValueChange:e=>w(e[0]),className:"py-2"}),(0,l.jsxs)("div",{className:"flex justify-between text-xs",children:[l.jsx("span",{children:"Quiet"}),l.jsx("span",{children:"Loud"})]})]})]});case 2:return(0,l.jsxs)(u.aY,{className:"space-y-4",children:[l.jsx(uN.p,{className:"text-sm text-muted-foreground",initial:{opacity:0},animate:{opacity:1},children:"Use the slider to fine-tune the exact frequency that matches your tinnitus."}),(0,l.jsxs)(uN.div,{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-4 rounded-xl border border-blue-200 shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[(0,l.jsxs)(uN.div,{className:"text-center font-mono text-lg mb-3 font-semibold text-blue-700",initial:{scale:.9},animate:{scale:1},children:[x.toFixed(0)," Hz"]},x),(0,l.jsxs)("div",{className:"relative pb-10",children:[l.jsx(iK,{min:125,max:16e3,step:50,value:[x],onValueChange:V,className:"py-2"}),(0,l.jsxs)("div",{className:"absolute w-full flex justify-between mt-2 px-1 text-xs text-gray-500",children:[l.jsx("span",{children:"125 Hz"}),l.jsx("span",{children:"1 kHz"}),l.jsx("span",{children:"4 kHz"}),l.jsx("span",{children:"8 kHz"}),l.jsx("span",{children:"16 kHz"})]})]}),l.jsx(uN.div,{className:"bg-blue-50 rounded-md p-2 border border-blue-200 mb-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:(0,l.jsxs)("div",{className:"text-xs text-blue-700",children:[l.jsx("span",{className:"font-medium block mb-1",children:"Tip:"}),"Most tinnitus is between 3kHz and 8kHz. If you're unsure, try frequencies in this range."]})})]}),(0,l.jsxs)(uN.div,{className:"grid grid-cols-2 gap-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[(0,l.jsxs)("div",{children:[l.jsx(n4._,{children:"Fine Adjustment"}),(0,l.jsxs)("div",{className:"flex gap-1 mt-1",children:[(0,l.jsxs)(e7.z,{size:"sm",variant:"outline",onClick:()=>V([x-50]),className:"rounded-full",children:[l.jsx(uD,{className:"mr-1 h-3 w-3"}),"50 Hz"]}),(0,l.jsxs)(e7.z,{size:"sm",variant:"outline",onClick:()=>V([x-10]),className:"rounded-full",children:[l.jsx(uD,{className:"mr-1 h-3 w-3"}),"10 Hz"]})]})]}),(0,l.jsxs)("div",{children:[l.jsx(n4._,{children:"\xa0"}),(0,l.jsxs)("div",{className:"flex gap-1 mt-1",children:[(0,l.jsxs)(e7.z,{size:"sm",variant:"outline",onClick:()=>V([x+10]),className:"rounded-full",children:[l.jsx(uL,{className:"mr-1 h-3 w-3"}),"10 Hz"]}),(0,l.jsxs)(e7.z,{size:"sm",variant:"outline",onClick:()=>V([x+50]),className:"rounded-full",children:[l.jsx(uL,{className:"mr-1 h-3 w-3"}),"50 Hz"]})]})]})]}),l.jsx(uN.div,{className:"flex items-center gap-2 pt-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:l.jsx(e7.z,{onClick:D,variant:f?"destructive":"default",className:"w-full rounded-full",children:f?(0,l.jsxs)(l.Fragment,{children:[l.jsx(i8,{className:"mr-2 h-4 w-4"}),"Stop Tone"]}):(0,l.jsxs)(l.Fragment,{children:[l.jsx(re,{className:"mr-2 h-4 w-4"}),"Play Test Tone"]})})}),(0,l.jsxs)(uN.div,{className:"space-y-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:[(0,l.jsxs)(n4._,{className:"flex justify-between",children:[l.jsx("span",{children:"Volume"}),j&&(0,l.jsxs)(uN.span,{className:"text-amber-500 text-xs flex items-center",initial:{scale:.8},animate:{scale:[1,1.1,1]},transition:{repeat:2,duration:1},children:[l.jsx(uF,{className:"h-3 w-3 mr-1"}),"High volume - use caution"]})]}),l.jsx(iK,{min:0,max:.3,step:.01,value:[b],onValueChange:e=>w(e[0]),className:"py-2"})]})]});case 3:return(0,l.jsxs)(u.aY,{className:"space-y-4",children:[(0,l.jsxs)(uN.p,{className:"text-sm text-muted-foreground",initial:{opacity:0},animate:{opacity:1},children:["We'll create a notch filter at ",x,"Hz to provide relief from your tinnitus. Adjust the filter settings below."]}),(0,l.jsxs)(uN.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[(0,l.jsxs)(uN.div,{className:"space-y-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[l.jsx(n4._,{children:"Notch Depth"}),(0,l.jsxs)(uN.span,{className:"text-sm font-mono",initial:{scale:.8},animate:{scale:1},children:[N," dB"]},N)]}),l.jsx(iK,{min:-24,max:0,step:1,value:[N],onValueChange:e=>C(e[0]),className:"py-2"}),(0,l.jsxs)("div",{className:"flex justify-between text-xs",children:[l.jsx("span",{children:"More Relief"}),l.jsx("span",{children:"Less Relief"})]})]}),(0,l.jsxs)(uN.div,{className:"space-y-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[l.jsx(n4._,{children:"Notch Width"}),l.jsx(uN.span,{className:"text-sm font-mono",initial:{scale:.8},animate:{scale:1},children:T.toFixed(1)},T)]}),l.jsx(iK,{min:.1,max:1,step:.1,value:[T],onValueChange:e=>S(e[0]),className:"py-2"}),(0,l.jsxs)("div",{className:"flex justify-between text-xs",children:[l.jsx("span",{children:"Narrow"}),l.jsx("span",{children:"Wide"})]})]})]}),(0,l.jsxs)(uN.div,{className:"flex items-center gap-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[l.jsx(rm,{id:"test-tone",checked:f,onCheckedChange:D}),l.jsx(n4._,{htmlFor:"test-tone",children:"Play test tone while adjusting"})]})]});case 4:return(0,l.jsxs)(u.aY,{className:"space-y-4",children:[l.jsx(uN.p,{className:"text-sm text-muted-foreground",initial:{opacity:0},animate:{opacity:1},children:"Name your tinnitus relief preset. This will be specially tuned to your tinnitus frequency."}),(0,l.jsxs)(uN.div,{className:"space-y-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[l.jsx(n4._,{htmlFor:"preset-name",children:"Preset Name"}),l.jsx(n5.I,{id:"preset-name",value:P,onChange:e=>M(e.target.value),placeholder:`Tinnitus Relief ${(x/1e3).toFixed(1)}kHz`,className:"rounded-lg"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"A descriptive name helps you identify this preset later. We've suggested a name based on your tinnitus frequency."})]}),(0,l.jsxs)(uN.div,{className:"bg-purple-50 p-4 rounded-xl shadow-sm border border-purple-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[(0,l.jsxs)("h4",{className:"font-medium mb-2 flex items-center text-purple-800",children:[l.jsx(tt,{className:"h-4 w-4 mr-2"}),"Your Tinnitus Profile"]}),(0,l.jsxs)("ul",{className:"space-y-2 text-sm text-purple-700",children:[(0,l.jsxs)(uN.li,{className:"flex justify-between",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.4},children:[l.jsx("span",{children:"Frequency:"}),l.jsx("span",{className:"font-mono font-medium",children:x<1e3?`${x.toFixed(0)} Hz`:`${(x/1e3).toFixed(1)} kHz`})]}),(0,l.jsxs)(uN.li,{className:"flex justify-between",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.5},children:[l.jsx("span",{children:"Notch Depth:"}),(0,l.jsxs)("span",{className:"font-mono font-medium",children:[N," dB"]})]}),(0,l.jsxs)(uN.li,{className:"flex justify-between",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.6},children:[l.jsx("span",{children:"Notch Width:"}),(0,l.jsxs)("span",{className:"font-mono font-medium",children:["Q = ",(10*T).toFixed(1)]})]})]}),l.jsx("div",{className:"mt-3 text-xs bg-purple-100 p-2 rounded text-purple-700",children:"This preset applies a precise notch filter at your tinnitus frequency to provide relief while listening to music."})]})]});case 5:return(0,l.jsxs)(u.aY,{className:"space-y-4",children:[l.jsx(uN.div,{className:"flex justify-center p-4",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:300,damping:20},children:l.jsx("div",{className:"rounded-full bg-green-100 p-5 w-24 h-24 flex items-center justify-center",children:l.jsx(uV,{size:48,className:"text-green-600"})})}),(0,l.jsxs)(uN.p,{className:"text-center text-lg font-medium",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:['Your custom preset "',P,'" has been created successfully!']}),l.jsx(uN.p,{className:"text-sm text-muted-foreground text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:"You can now enjoy music with reduced tinnitus interference. Your preset will be available in the EQ preset list for future use."}),l.jsx(uN.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,l.jsxs)(e7.z,{className:"w-full rounded-lg bg-green-600 hover:bg-green-700",onClick:z,children:[l.jsx(te,{className:"mr-2 h-4 w-4"}),"Apply Preset"]})})]})}})()},n)}),(0,l.jsxs)(u.eW,{className:"flex justify-between",children:[n>0?(0,l.jsxs)(e7.z,{variant:"outline",onClick:()=>{n>0&&(i(n-1),F())},className:"rounded-full",children:[l.jsx(uz,{className:"mr-2 h-4 w-4"}),"Back"]}):l.jsx(e7.z,{variant:"outline",onClick:t,className:"rounded-full",children:"Cancel"}),n<r-1?(0,l.jsxs)(e7.z,{onClick:()=>{n<r-1&&(i(n+1),F())},className:"rounded-full bg-blue-600 hover:bg-blue-700",children:["Next",l.jsx(uB,{className:"ml-2 h-4 w-4"})]}):(0,l.jsxs)(e7.z,{onClick:z,className:"rounded-full bg-green-600 hover:bg-green-700",children:[l.jsx(te,{className:"mr-2 h-4 w-4"}),"Save & Apply"]})]})]})};var uq=n(4178),u_="Avatar",[uH,u$]=(0,p.b)(u_),[uW,uU]=uH(u_),uY=c.forwardRef((e,t)=>{let{__scopeAvatar:n,...i}=e,[r,s]=c.useState("idle");return(0,l.jsx)(uW,{scope:n,imageLoadingStatus:r,onImageLoadingStatusChange:s,children:(0,l.jsx)(y.WV.span,{...i,ref:t})})});uY.displayName=u_;var uQ="AvatarImage",uX=c.forwardRef((e,t)=>{let{__scopeAvatar:n,src:i,onLoadingStatusChange:r=()=>{},...s}=e,a=uU(uQ,n),o=function(e,t){let[n,i]=c.useState("idle");return(0,np.b)(()=>{if(!e){i("error");return}let n=!0,r=new window.Image,s=e=>()=>{n&&i(e)};return i("loading"),r.onload=s("loaded"),r.onerror=s("error"),r.src=e,t&&(r.referrerPolicy=t),()=>{n=!1}},[e,t]),n}(i,s.referrerPolicy),u=(0,x.W)(e=>{r(e),a.onImageLoadingStatusChange(e)});return(0,np.b)(()=>{"idle"!==o&&u(o)},[o,u]),"loaded"===o?(0,l.jsx)(y.WV.img,{...s,ref:t,src:i}):null});uX.displayName=uQ;var uK="AvatarFallback",uG=c.forwardRef((e,t)=>{let{__scopeAvatar:n,delayMs:i,...r}=e,s=uU(uK,n),[a,o]=c.useState(void 0===i);return c.useEffect(()=>{if(void 0!==i){let e=window.setTimeout(()=>o(!0),i);return()=>window.clearTimeout(e)}},[i]),a&&"loaded"!==s.imageLoadingStatus?(0,l.jsx)(y.WV.span,{...r,ref:t}):null});uG.displayName=uK;let uZ=c.forwardRef(({className:e,...t},n)=>l.jsx(uY,{ref:n,className:(0,e5.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));uZ.displayName=uY.displayName;let uJ=c.forwardRef(({className:e,...t},n)=>l.jsx(uX,{ref:n,className:(0,e5.cn)("aspect-square h-full w-full",e),...t}));uJ.displayName=uX.displayName;let u0=c.forwardRef(({className:e,...t},n)=>l.jsx(uG,{ref:n,className:(0,e5.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));u0.displayName=uG.displayName;var u1=n(5706),u2=["Enter"," "],u3=["ArrowUp","PageDown","End"],u5=["ArrowDown","PageUp","Home",...u3],u4={ltr:[...u2,"ArrowRight"],rtl:[...u2,"ArrowLeft"]},u6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},u7="Menu",[u8,u9,de]=(0,ij.B)(u7),[dt,dn]=(0,p.b)(u7,[de,ny,u1.Pc]),di=ny(),dr=(0,u1.Pc)(),[ds,da]=dt(u7),[dl,dc]=dt(u7),du=e=>{let{__scopeMenu:t,open:n=!1,children:i,dir:r,onOpenChange:s,modal:a=!0}=e,o=di(t),[u,d]=c.useState(null),h=c.useRef(!1),p=(0,x.W)(s),f=(0,ib.gm)(r);return c.useEffect(()=>{let e=()=>{h.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>h.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,l.jsx)(nb,{...o,children:(0,l.jsx)(ds,{scope:t,open:n,onOpenChange:p,content:u,onContentChange:d,children:(0,l.jsx)(dl,{scope:t,onClose:c.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:h,dir:f,modal:a,children:i})})})};du.displayName=u7;var dd=c.forwardRef((e,t)=>{let{__scopeMenu:n,...i}=e,r=di(n);return(0,l.jsx)(nj,{...r,...i,ref:t})});dd.displayName="MenuAnchor";var dh="MenuPortal",[dp,df]=dt(dh,{forceMount:void 0}),dm=e=>{let{__scopeMenu:t,forceMount:n,children:i,container:r}=e,s=da(dh,t);return(0,l.jsx)(dp,{scope:t,forceMount:n,children:(0,l.jsx)(M.z,{present:n||s.open,children:(0,l.jsx)(P.h,{asChild:!0,container:r,children:i})})})};dm.displayName=dh;var dg="MenuContent",[dy,dx]=dt(dg),dv=c.forwardRef((e,t)=>{let n=df(dg,e.__scopeMenu),{forceMount:i=n.forceMount,...r}=e,s=da(dg,e.__scopeMenu),a=dc(dg,e.__scopeMenu);return(0,l.jsx)(u8.Provider,{scope:e.__scopeMenu,children:(0,l.jsx)(M.z,{present:i||s.open,children:(0,l.jsx)(u8.Slot,{scope:e.__scopeMenu,children:a.modal?(0,l.jsx)(db,{...r,ref:t}):(0,l.jsx)(dw,{...r,ref:t})})})})}),db=c.forwardRef((e,t)=>{let n=da(dg,e.__scopeMenu),i=c.useRef(null),r=(0,h.e)(t,i);return c.useEffect(()=>{let e=i.current;if(e)return eN(e)},[]),(0,l.jsx)(dj,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:(0,d.M)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),dw=c.forwardRef((e,t)=>{let n=da(dg,e.__scopeMenu);return(0,l.jsx)(dj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),dj=c.forwardRef((e,t)=>{let{__scopeMenu:n,loop:i=!1,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:u,onEscapeKeyDown:p,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:y,onDismiss:x,disableOutsideScroll:v,...b}=e,w=da(dg,n),E=dc(dg,n),N=di(n),C=dr(n),T=u9(n),[S,P]=c.useState(null),M=c.useRef(null),k=(0,h.e)(t,M,w.onContentChange),R=c.useRef(0),F=c.useRef(""),D=c.useRef(0),L=c.useRef(null),V=c.useRef("right"),z=c.useRef(0),B=v?ey:c.Fragment,I=v?{as:eC.g7,allowPinchZoom:!0}:void 0,O=e=>{let t=F.current+e,n=T().filter(e=>!e.disabled),i=document.activeElement,r=n.find(e=>e.ref.current===i)?.textValue,s=function(e,t,n){var i;let r=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,s=(i=Math.max(n?e.indexOf(n):-1,0),e.map((t,n)=>e[(i+n)%e.length]));1===r.length&&(s=s.filter(e=>e!==n));let a=s.find(e=>e.toLowerCase().startsWith(r.toLowerCase()));return a!==n?a:void 0}(n.map(e=>e.textValue),t,r),a=n.find(e=>e.textValue===s)?.ref.current;(function e(t){F.current=t,window.clearTimeout(R.current),""!==t&&(R.current=window.setTimeout(()=>e(""),1e3))})(t),a&&setTimeout(()=>a.focus())};c.useEffect(()=>()=>window.clearTimeout(R.current),[]),A();let q=c.useCallback(e=>V.current===L.current?.side&&function(e,t){return!!t&&function(e,t){let{x:n,y:i}=e,r=!1;for(let e=0,s=t.length-1;e<t.length;s=e++){let a=t[e].x,o=t[e].y,l=t[s].x,c=t[s].y;o>i!=c>i&&n<(l-a)*(i-o)/(c-o)+a&&(r=!r)}return r}({x:e.clientX,y:e.clientY},t)}(e,L.current?.area),[]);return(0,l.jsx)(dy,{scope:n,searchRef:F,onItemEnter:c.useCallback(e=>{q(e)&&e.preventDefault()},[q]),onItemLeave:c.useCallback(e=>{q(e)||(M.current?.focus(),P(null))},[q]),onTriggerLeave:c.useCallback(e=>{q(e)&&e.preventDefault()},[q]),pointerGraceTimerRef:D,onPointerGraceIntentChange:c.useCallback(e=>{L.current=e},[]),children:(0,l.jsx)(B,{...I,children:(0,l.jsx)(j,{asChild:!0,trapped:r,onMountAutoFocus:(0,d.M)(s,e=>{e.preventDefault(),M.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:(0,l.jsx)(g.XB,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:p,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:y,onDismiss:x,children:(0,l.jsx)(u1.fC,{asChild:!0,...C,dir:E.dir,orientation:"vertical",loop:i,currentTabStopId:S,onCurrentTabStopIdChange:P,onEntryFocus:(0,d.M)(u,e=>{E.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,l.jsx)(nT,{role:"menu","aria-orientation":"vertical","data-state":dQ(w.open),"data-radix-menu-content":"",dir:E.dir,...N,...b,ref:k,style:{outline:"none",...b.style},onKeyDown:(0,d.M)(b.onKeyDown,e=>{let t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,n=e.ctrlKey||e.altKey||e.metaKey,i=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!n&&i&&O(e.key));let r=M.current;if(e.target!==r||!u5.includes(e.key))return;e.preventDefault();let s=T().filter(e=>!e.disabled).map(e=>e.ref.current);u3.includes(e.key)&&s.reverse(),function(e){let t=document.activeElement;for(let n of e)if(n===t||(n.focus(),document.activeElement!==t))return}(s)}),onBlur:(0,d.M)(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(R.current),F.current="")}),onPointerMove:(0,d.M)(e.onPointerMove,dG(e=>{let t=e.target,n=z.current!==e.clientX;if(e.currentTarget.contains(t)&&n){let t=e.clientX>z.current?"right":"left";V.current=t,z.current=e.clientX}}))})})})})})})});dv.displayName=dg;var dE=c.forwardRef((e,t)=>{let{__scopeMenu:n,...i}=e;return(0,l.jsx)(y.WV.div,{role:"group",...i,ref:t})});dE.displayName="MenuGroup";var dN=c.forwardRef((e,t)=>{let{__scopeMenu:n,...i}=e;return(0,l.jsx)(y.WV.div,{...i,ref:t})});dN.displayName="MenuLabel";var dC="MenuItem",dT="menu.itemSelect",dS=c.forwardRef((e,t)=>{let{disabled:n=!1,onSelect:i,...r}=e,s=c.useRef(null),a=dc(dC,e.__scopeMenu),o=dx(dC,e.__scopeMenu),u=(0,h.e)(t,s),p=c.useRef(!1);return(0,l.jsx)(dP,{...r,ref:u,disabled:n,onClick:(0,d.M)(e.onClick,()=>{let e=s.current;if(!n&&e){let t=new CustomEvent(dT,{bubbles:!0,cancelable:!0});e.addEventListener(dT,e=>i?.(e),{once:!0}),(0,y.jH)(e,t),t.defaultPrevented?p.current=!1:a.onClose()}}),onPointerDown:t=>{e.onPointerDown?.(t),p.current=!0},onPointerUp:(0,d.M)(e.onPointerUp,e=>{p.current||e.currentTarget?.click()}),onKeyDown:(0,d.M)(e.onKeyDown,e=>{let t=""!==o.searchRef.current;!n&&(!t||" "!==e.key)&&u2.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});dS.displayName=dC;var dP=c.forwardRef((e,t)=>{let{__scopeMenu:n,disabled:i=!1,textValue:r,...s}=e,a=dx(dC,n),o=dr(n),u=c.useRef(null),p=(0,h.e)(t,u),[f,m]=c.useState(!1),[g,x]=c.useState("");return c.useEffect(()=>{let e=u.current;e&&x((e.textContent??"").trim())},[s.children]),(0,l.jsx)(u8.ItemSlot,{scope:n,disabled:i,textValue:r??g,children:(0,l.jsx)(u1.ck,{asChild:!0,...o,focusable:!i,children:(0,l.jsx)(y.WV.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...s,ref:p,onPointerMove:(0,d.M)(e.onPointerMove,dG(e=>{i?a.onItemLeave(e):(a.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:(0,d.M)(e.onPointerLeave,dG(e=>a.onItemLeave(e))),onFocus:(0,d.M)(e.onFocus,()=>m(!0)),onBlur:(0,d.M)(e.onBlur,()=>m(!1))})})})}),dM=c.forwardRef((e,t)=>{let{checked:n=!1,onCheckedChange:i,...r}=e;return(0,l.jsx)(dz,{scope:e.__scopeMenu,checked:n,children:(0,l.jsx)(dS,{role:"menuitemcheckbox","aria-checked":dX(n)?"mixed":n,...r,ref:t,"data-state":dK(n),onSelect:(0,d.M)(r.onSelect,()=>i?.(!!dX(n)||!n),{checkForDefaultPrevented:!1})})})});dM.displayName="MenuCheckboxItem";var dk="MenuRadioGroup",[dA,dR]=dt(dk,{value:void 0,onValueChange:()=>{}}),dF=c.forwardRef((e,t)=>{let{value:n,onValueChange:i,...r}=e,s=(0,x.W)(i);return(0,l.jsx)(dA,{scope:e.__scopeMenu,value:n,onValueChange:s,children:(0,l.jsx)(dE,{...r,ref:t})})});dF.displayName=dk;var dD="MenuRadioItem",dL=c.forwardRef((e,t)=>{let{value:n,...i}=e,r=dR(dD,e.__scopeMenu),s=n===r.value;return(0,l.jsx)(dz,{scope:e.__scopeMenu,checked:s,children:(0,l.jsx)(dS,{role:"menuitemradio","aria-checked":s,...i,ref:t,"data-state":dK(s),onSelect:(0,d.M)(i.onSelect,()=>r.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});dL.displayName=dD;var dV="MenuItemIndicator",[dz,dB]=dt(dV,{checked:!1}),dI=c.forwardRef((e,t)=>{let{__scopeMenu:n,forceMount:i,...r}=e,s=dB(dV,n);return(0,l.jsx)(M.z,{present:i||dX(s.checked)||!0===s.checked,children:(0,l.jsx)(y.WV.span,{...r,ref:t,"data-state":dK(s.checked)})})});dI.displayName=dV;var dO=c.forwardRef((e,t)=>{let{__scopeMenu:n,...i}=e;return(0,l.jsx)(y.WV.div,{role:"separator","aria-orientation":"horizontal",...i,ref:t})});dO.displayName="MenuSeparator";var dq=c.forwardRef((e,t)=>{let{__scopeMenu:n,...i}=e,r=di(n);return(0,l.jsx)(nM,{...r,...i,ref:t})});dq.displayName="MenuArrow";var[d_,dH]=dt("MenuSub"),d$="MenuSubTrigger",dW=c.forwardRef((e,t)=>{let n=da(d$,e.__scopeMenu),i=dc(d$,e.__scopeMenu),r=dH(d$,e.__scopeMenu),s=dx(d$,e.__scopeMenu),a=c.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:u}=s,p={__scopeMenu:e.__scopeMenu},f=c.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return c.useEffect(()=>f,[f]),c.useEffect(()=>{let e=o.current;return()=>{window.clearTimeout(e),u(null)}},[o,u]),(0,l.jsx)(dd,{asChild:!0,...p,children:(0,l.jsx)(dP,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":dQ(n.open),...e,ref:(0,h.F)(t,r.onTriggerChange),onClick:t=>{e.onClick?.(t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:(0,d.M)(e.onPointerMove,dG(t=>{s.onItemEnter(t),t.defaultPrevented||e.disabled||n.open||a.current||(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:(0,d.M)(e.onPointerLeave,dG(e=>{f();let t=n.content?.getBoundingClientRect();if(t){let i=n.content?.dataset.side,r="right"===i,a=t[r?"left":"right"],l=t[r?"right":"left"];s.onPointerGraceIntentChange({area:[{x:e.clientX+(r?-5:5),y:e.clientY},{x:a,y:t.top},{x:l,y:t.top},{x:l,y:t.bottom},{x:a,y:t.bottom}],side:i}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(e),e.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:(0,d.M)(e.onKeyDown,t=>{let r=""!==s.searchRef.current;!e.disabled&&(!r||" "!==t.key)&&u4[i.dir].includes(t.key)&&(n.onOpenChange(!0),n.content?.focus(),t.preventDefault())})})})});dW.displayName=d$;var dU="MenuSubContent",dY=c.forwardRef((e,t)=>{let n=df(dg,e.__scopeMenu),{forceMount:i=n.forceMount,...r}=e,s=da(dg,e.__scopeMenu),a=dc(dg,e.__scopeMenu),o=dH(dU,e.__scopeMenu),u=c.useRef(null),p=(0,h.e)(t,u);return(0,l.jsx)(u8.Provider,{scope:e.__scopeMenu,children:(0,l.jsx)(M.z,{present:i||s.open,children:(0,l.jsx)(u8.Slot,{scope:e.__scopeMenu,children:(0,l.jsx)(dj,{id:o.contentId,"aria-labelledby":o.triggerId,...r,ref:p,align:"start",side:"rtl"===a.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{a.isUsingKeyboardRef.current&&u.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:(0,d.M)(e.onFocusOutside,e=>{e.target!==o.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:(0,d.M)(e.onEscapeKeyDown,e=>{a.onClose(),e.preventDefault()}),onKeyDown:(0,d.M)(e.onKeyDown,e=>{let t=e.currentTarget.contains(e.target),n=u6[a.dir].includes(e.key);t&&n&&(s.onOpenChange(!1),o.trigger?.focus(),e.preventDefault())})})})})})});function dQ(e){return e?"open":"closed"}function dX(e){return"indeterminate"===e}function dK(e){return dX(e)?"indeterminate":e?"checked":"unchecked"}function dG(e){return t=>"mouse"===t.pointerType?e(t):void 0}dY.displayName=dU;var dZ="DropdownMenu",[dJ,d0]=(0,p.b)(dZ,[dn]),d1=dn(),[d2,d3]=dJ(dZ),d5=e=>{let{__scopeDropdownMenu:t,children:n,dir:i,open:r,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,u=d1(t),d=c.useRef(null),[h=!1,p]=(0,m.T)({prop:r,defaultProp:s,onChange:a});return(0,l.jsx)(d2,{scope:t,triggerId:(0,f.M)(),triggerRef:d,contentId:(0,f.M)(),open:h,onOpenChange:p,onOpenToggle:c.useCallback(()=>p(e=>!e),[p]),modal:o,children:(0,l.jsx)(du,{...u,open:h,onOpenChange:p,dir:i,modal:o,children:n})})};d5.displayName=dZ;var d4="DropdownMenuTrigger",d6=c.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,disabled:i=!1,...r}=e,s=d3(d4,n),a=d1(n);return(0,l.jsx)(dd,{asChild:!0,...a,children:(0,l.jsx)(y.WV.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...r,ref:(0,h.F)(t,s.triggerRef),onPointerDown:(0,d.M)(e.onPointerDown,e=>{i||0!==e.button||!1!==e.ctrlKey||(s.onOpenToggle(),s.open||e.preventDefault())}),onKeyDown:(0,d.M)(e.onKeyDown,e=>{!i&&(["Enter"," "].includes(e.key)&&s.onOpenToggle(),"ArrowDown"===e.key&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})})});d6.displayName=d4;var d7=e=>{let{__scopeDropdownMenu:t,...n}=e,i=d1(t);return(0,l.jsx)(dm,{...i,...n})};d7.displayName="DropdownMenuPortal";var d8="DropdownMenuContent",d9=c.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...i}=e,r=d3(d8,n),s=d1(n),a=c.useRef(!1);return(0,l.jsx)(dv,{id:r.contentId,"aria-labelledby":r.triggerId,...s,...i,ref:t,onCloseAutoFocus:(0,d.M)(e.onCloseAutoFocus,e=>{a.current||r.triggerRef.current?.focus(),a.current=!1,e.preventDefault()}),onInteractOutside:(0,d.M)(e.onInteractOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,i=2===t.button||n;(!r.modal||i)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});d9.displayName=d8,c.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...i}=e,r=d1(n);return(0,l.jsx)(dE,{...r,...i,ref:t})}).displayName="DropdownMenuGroup";var he=c.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...i}=e,r=d1(n);return(0,l.jsx)(dN,{...r,...i,ref:t})});he.displayName="DropdownMenuLabel";var ht=c.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...i}=e,r=d1(n);return(0,l.jsx)(dS,{...r,...i,ref:t})});ht.displayName="DropdownMenuItem";var hn=c.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...i}=e,r=d1(n);return(0,l.jsx)(dM,{...r,...i,ref:t})});hn.displayName="DropdownMenuCheckboxItem",c.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...i}=e,r=d1(n);return(0,l.jsx)(dF,{...r,...i,ref:t})}).displayName="DropdownMenuRadioGroup";var hi=c.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...i}=e,r=d1(n);return(0,l.jsx)(dL,{...r,...i,ref:t})});hi.displayName="DropdownMenuRadioItem";var hr=c.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...i}=e,r=d1(n);return(0,l.jsx)(dI,{...r,...i,ref:t})});hr.displayName="DropdownMenuItemIndicator";var hs=c.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...i}=e,r=d1(n);return(0,l.jsx)(dO,{...r,...i,ref:t})});hs.displayName="DropdownMenuSeparator",c.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...i}=e,r=d1(n);return(0,l.jsx)(dq,{...r,...i,ref:t})}).displayName="DropdownMenuArrow";var ha=c.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...i}=e,r=d1(n);return(0,l.jsx)(dW,{...r,...i,ref:t})});ha.displayName="DropdownMenuSubTrigger";var ho=c.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...i}=e,r=d1(n);return(0,l.jsx)(dY,{...r,...i,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ho.displayName="DropdownMenuSubContent";let hl=(0,e8.Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);c.forwardRef(({className:e,inset:t,children:n,...i},r)=>(0,l.jsxs)(ha,{ref:r,className:(0,e5.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...i,children:[n,l.jsx(uB,{className:"ml-auto"})]})).displayName=ha.displayName,c.forwardRef(({className:e,...t},n)=>l.jsx(ho,{ref:n,className:(0,e5.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=ho.displayName;let hc=c.forwardRef(({className:e,sideOffset:t=4,...n},i)=>l.jsx(d7,{children:l.jsx(d9,{ref:i,sideOffset:t,className:(0,e5.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));hc.displayName=d9.displayName;let hu=c.forwardRef(({className:e,inset:t,...n},i)=>l.jsx(ht,{ref:i,className:(0,e5.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));hu.displayName=ht.displayName,c.forwardRef(({className:e,children:t,checked:n,...i},r)=>(0,l.jsxs)(hn,{ref:r,className:(0,e5.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...i,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(hr,{children:l.jsx(uV,{className:"h-4 w-4"})})}),t]})).displayName=hn.displayName,c.forwardRef(({className:e,children:t,...n},i)=>(0,l.jsxs)(hi,{ref:i,className:(0,e5.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(hr,{children:l.jsx(hl,{className:"h-2 w-2 fill-current"})})}),t]})).displayName=hi.displayName;let hd=c.forwardRef(({className:e,inset:t,...n},i)=>l.jsx(he,{ref:i,className:(0,e5.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));hd.displayName=he.displayName;let hh=c.forwardRef(({className:e,...t},n)=>l.jsx(hs,{ref:n,className:(0,e5.cn)("-mx-1 my-1 h-px bg-muted",e),...t}));hh.displayName=hs.displayName;let hp=(0,e8.Z)("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);function hf(){let[e,t]=(0,c.useState)(!1),{user:n,logout:i}=(0,ic.a)(),{toast:r}=(0,iy.pm)(),s=(0,uq.useRouter)(),a=async()=>{t(!0);try{await i(),r({title:"Logged out",description:"You have been successfully logged out."}),s.push("/")}catch(e){console.error("Logout error:",e),r({title:"Error",description:"Failed to log out. Please try again.",variant:"destructive"})}finally{t(!1)}};return n?(0,l.jsxs)(d5,{children:[l.jsx(d6,{asChild:!0,children:l.jsx(e7.z,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:(0,l.jsxs)(uZ,{className:"h-8 w-8",children:[l.jsx(uJ,{src:n.photoURL||void 0,alt:n.displayName||"User"}),l.jsx(u0,{children:n.displayName?n.displayName.split(" ").map(e=>e[0]).join("").toUpperCase().substring(0,2):"U"})]})})}),(0,l.jsxs)(hc,{className:"w-56",align:"end",forceMount:!0,children:[l.jsx(hd,{className:"font-normal",children:(0,l.jsxs)("div",{className:"flex flex-col space-y-1",children:[l.jsx("p",{className:"text-sm font-medium leading-none",children:n.displayName}),l.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:n.email})]})}),l.jsx(hh,{}),l.jsx(hu,{className:"cursor-pointer",onClick:()=>s.push("/profile"),children:"Profile"}),l.jsx(hu,{className:"cursor-pointer",onClick:()=>s.push("/settings"),children:"Settings"}),l.jsx(hh,{}),l.jsx(hu,{className:"cursor-pointer text-red-600 focus:text-red-600",onClick:a,disabled:e,children:e?"Logging out...":"Log out"})]})]}):(0,l.jsxs)(e7.z,{variant:"outline",size:"sm",onClick:()=>s.push("/login"),className:"text-xs flex items-center gap-1 bg-white",children:[l.jsx(hp,{className:"h-3 w-3"}),"Sign in to sync"]})}let hm=(0,e8.Z)("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]),hg=(0,e8.Z)("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);function hy(){let{user:e}=(0,ix.E)();return e?l.jsx(nq,{children:(0,l.jsxs)(nW,{children:[l.jsx(nY,{asChild:!0,children:(0,l.jsxs)(uN.div,{className:"flex items-center gap-1 text-xs text-green-600 bg-green-50 px-2 py-1 rounded-full",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:300,damping:20},children:[l.jsx(hm,{className:"h-3 w-3"}),l.jsx("span",{children:"Synced"})]})}),(0,l.jsxs)(n3,{children:[l.jsx("p",{className:"text-xs",children:"Your presets are synced to the cloud"}),l.jsx("p",{className:"text-xs text-gray-500",children:e.email})]})]})}):l.jsx(nq,{children:(0,l.jsxs)(nW,{children:[l.jsx(nY,{asChild:!0,children:l.jsx(uN.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,l.jsxs)(e7.z,{variant:"ghost",size:"sm",className:"h-6 flex items-center gap-1 text-xs text-gray-500 hover:text-gray-900 hover:bg-gray-100",children:[l.jsx(hg,{className:"h-3 w-3"}),l.jsx("span",{children:"Local only"})]})})}),l.jsx(n3,{children:(0,l.jsxs)("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-medium",children:"Sign in to sync your presets"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Create custom presets that follow you everywhere"})]})})]})})}function hx({trigger:e="general"}){let{user:t}=(0,ix.E)(),n=(0,uq.useRouter)(),[i,r]=(0,c.useState)(!1);return t||i?null:(0,l.jsxs)(n8,{className:"my-2 bg-blue-50 text-blue-800 border-blue-200",children:[l.jsx(hg,{className:"h-4 w-4 text-blue-500"}),(0,l.jsxs)(n9,{className:"flex items-center justify-between",children:[l.jsx("span",{children:(()=>{switch(e){case"presets":return"Create an account to access your custom presets on any device";case"calibration":return"Sign in to save your calibration results and use them anywhere";default:return"Sign in to save your settings to the cloud"}})()}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)(e7.z,{size:"sm",variant:"outline",className:"h-7 bg-white border-blue-200 hover:bg-blue-50",onClick:()=>n.push("/login"),children:[l.jsx(hp,{className:"mr-1 h-3 w-3"}),l.jsx(uV,{className:"mr-1 h-3 w-3"}),"Sign in"]}),l.jsx(e7.z,{size:"sm",variant:"ghost",className:"h-7 hover:bg-blue-100",onClick:()=>r(!0),children:l.jsx(e3.Z,{className:"h-3 w-3"})})]})]})]})}let hv=()=>{let{toast:e}=(0,iy.pm)(),{user:t}=(0,ix.E)(),[n,i]=(0,c.useState)(!0),[r,s]=(0,c.useState)(!1),[a,o]=(0,c.useState)("eq"),[d,h]=(0,c.useState)(!1),[p,f]=(0,c.useState)("My Custom Preset"),[m,g]=(0,c.useState)(!0),[y,x]=(0,c.useState)(!0),{presets:v,userPresets:b,saveUserPreset:w,deleteUserPreset:j,getPresetById:E,createCustomPreset:N,isLoading:C}=function(){let[e]=(0,c.useState)(it),[t,n]=(0,c.useState)({}),[i,r]=(0,c.useState)(!1);(0,c.useRef)(null);let s=(0,c.useRef)(null);(0,c.useRef)(!1),(0,c.useRef)(!1),(0,c.useRef)(0);let{user:a}=(0,ic.a)(),{toast:o}=(0,iy.pm)(),l=async(e,i)=>{s.current&&(clearTimeout(s.current),s.current=null);let r=t[e.id];if(!(!r||JSON.stringify(r.bands)!==JSON.stringify(e.bands)||r.name!==e.name||r.description!==e.description)){console.log("Skipping save - preset has not changed:",e.id),i?.();return}n(t=>({...t,[e.id]:e}));try{let n={...t,[e.id]:e};localStorage.setItem(ia.USER_PRESETS,JSON.stringify(n))}catch(e){console.error("Failed to save preset to localStorage:",e)}if(a)try{await ih(e,a.uid),console.log("Preset saved to cloud successfully")}catch(e){console.error("Failed to save preset to cloud:",e),o({title:"Cloud sync failed",description:"Your preset was saved locally but couldn't be synced to the cloud.",variant:"destructive"})}i?.()},u=async e=>{n(t=>{let n={...t};return delete n[e],n});try{let n={...t};delete n[e],localStorage.setItem(ia.USER_PRESETS,JSON.stringify(n))}catch(e){console.error("Failed to delete preset from localStorage:",e)}if(a)try{await ip(e),console.log("Preset deleted from cloud:",e)}catch(e){console.error("Failed to delete preset from cloud:",e),o({title:"Cloud sync failed",description:"Your preset was deleted locally but couldn't be deleted from the cloud.",variant:"destructive"})}};return{presets:e,userPresets:t,saveUserPreset:l,deleteUserPreset:u,getPresetById:n=>n in e?e[n]:n in t?t[n]:void 0,createCustomPreset:(e,t=[...ie],n,i="Custom user preset")=>{let r=Math.random().toString(36).substring(2,10),s={id:`custom-${Date.now()}-${r}`,name:e,description:i,color:{active:{bg:"#0EA5E9",text:"white"},inactive:{bg:"#E0F2FE",text:"#0369A1"}},bands:t,dateCreated:new Date().toISOString(),tinnitusCenterFreq:n};return l(s),s},isLoading:i}}(),[T,S]=(0,c.useState)("flat"),[P,M]=(0,c.useState)({leftEarPreset:"flat",rightEarPreset:"flat",balance:.5}),[k,A]=(0,c.useState)(20),[R,F]=(0,c.useState)([...ie]),[D,L]=(0,c.useState)([...ie]),[V,z]=(0,c.useState)([...ie]),[B,I]=(0,c.useState)(!1),[O,q]=(0,c.useState)("Custom user preset"),[_,H]=(0,c.useState)(!1),[$,W]=(0,c.useState)(is),[U,Y]=(0,c.useState)(null),{playbackState:Q,audioRef:X,audioEngine:K,togglePlayPause:G,handleSeek:Z,setVolume:J,volume:ee}=il({song:$}),et=(0,c.useRef)(null);(0,c.useEffect)(()=>{X.current&&!et.current&&(et.current=function(e){return{play:()=>e.play(),pause:()=>e.pause(),seekTo:t=>{e.currentTime=t},setVolume:t=>{e.volume=t},getCurrentPosition:async()=>e.currentTime,getDuration:async()=>e.duration||0}}(X.current))},[X.current]),(0,c.useEffect)(()=>{X.current&&(X.current.preload="auto",X.current.load())},[X]);let[en,ei]=(0,c.useState)(void 0);(0,c.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem(ia.PLAYBACK_SETTINGS);if(e){let t=JSON.parse(e);i(t.isEQEnabled??!0),s(t.isSplitEarMode??!1),void 0!==t.leftEQEnabled&&g(t.leftEQEnabled),void 0!==t.rightEQEnabled&&x(t.rightEQEnabled),void 0!==t.volume&&J(t.volume)}}catch(e){console.error("Failed to load settings from localStorage:",e)}if(t)try{let e=await ig(t.uid);e&&(i(e.isEQEnabled??!0),s(e.isSplitEarMode??!1),void 0!==e.volume&&J(e.volume))}catch(e){console.error("Failed to load user settings from Firestore:",e)}})()},[t]),(0,c.useEffect)(()=>{if(K){let e=v.flat;K.applyUnifiedPreset(e),K.applyLeftEarPreset(e),K.applyRightEarPreset(e)}},[K]),(0,c.useEffect)(()=>{let i=async()=>{try{localStorage.setItem(ia.LAST_PRESET,T);let e={isEQEnabled:n,isSplitEarMode:r,splitEarConfig:P,lastPresetId:T,volume:ee,leftEQEnabled:m,rightEQEnabled:y};localStorage.setItem(ia.PLAYBACK_SETTINGS,JSON.stringify(e)),t&&await im(e,t.uid).catch(e=>{console.error("Error saving to cloud, but local storage succeeded:",e)})}catch(t){console.error("Failed to save settings:",t),e({title:"Error saving settings",description:"Your settings could not be saved. Please try again later.",variant:"destructive"})}},s=setTimeout(()=>{i()},1e3);return()=>clearTimeout(s)},[n,r,P,T,ee,m,y,t]),(0,c.useEffect)(()=>{K&&(K.setEQEnabled(n),K.setSplitEarMode(r),K.setUnifiedBands(R),K.setLeftEarBands(D),K.setRightEarBands(V),K.setBalance(P.balance),r&&(K.setLeftEarEnabled(m),K.setRightEarEnabled(y)),ei(K.getFrequencyResponse()))},[K,n,r,R,D,V,P.balance,m,y]),(0,c.useEffect)(()=>{K&&!en&&ei(K.getFrequencyResponse())},[K]);let er=e=>{S(e.id),F([...e.bands]),K&&requestAnimationFrame(()=>{K.applyUnifiedPreset(e),setTimeout(()=>{ei(K.getFrequencyResponse())},100)})},es=e=>{M(t=>({...t,leftEarPreset:e.id})),L([...e.bands]),K&&(K.applyLeftEarPreset(e),ei(K.getFrequencyResponse()))},ea=e=>{M(t=>({...t,rightEarPreset:e.id})),z([...e.bands]),K&&(K.applyRightEarPreset(e),ei(K.getFrequencyResponse()))},eo=()=>{Y("unified"),f(`Custom EQ ${new Date().toLocaleDateString()}`),q("Custom unified EQ settings"),h(!0)},el=async()=>{try{let t="right"===U&&r?[...V]:"left"===U&&r?[...D]:[...R],n=N(p,t,void 0,O);h(!1),Y(null),"right"===U&&r?ea(n):"left"===U&&r?es(n):er(n),e({title:"Preset Saved",description:`Your custom preset "${p}" has been created and applied.`})}catch(t){console.error("Failed to save custom preset:",t),e({title:"Error Saving Preset",description:"Failed to create your custom preset. Please try again.",variant:"destructive"})}},ec=async t=>{try{await w(t),r&&s(!1),er(t),e({title:"Calibration Complete",description:`Your personalized tinnitus relief preset has been created and applied. It's designed specifically for your ${t.tinnitusCenterFreq&&t.tinnitusCenterFreq>=1e3?`${(t.tinnitusCenterFreq/1e3).toFixed(1)}kHz`:`${t.tinnitusCenterFreq?.toFixed(0)}Hz`} tinnitus frequency.`})}catch(t){console.error("Failed to save preset locally:",t),e({title:"Error saving preset",description:"There was an error saving your preset. Please try again.",variant:"destructive"})}finally{I(!1)}},eu=async t=>{let n=t===T,i=t===P.leftEarPreset,r=t===P.rightEarPreset;n&&er(v.flat),i&&es(v.flat),r&&ea(v.flat);try{await j(t),e({title:"Preset Deleted",description:"Custom preset has been removed."})}catch(t){console.error("Failed to delete preset:",t),e({title:"Error deleting preset",description:"There was an error deleting your preset. Please try again.",variant:"destructive"})}};return(0,l.jsxs)(u.Zb,{className:"w-[400px] overflow-hidden bg-white rounded-xl shadow-lg",children:[l.jsx("audio",{ref:X}),(0,l.jsxs)(u.Ol,{className:"p-0 relative bg-gradient-to-b from-slate-800 to-slate-900 h-56 flex flex-col justify-end",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"}),l.jsx("div",{className:"absolute top-4 right-4 z-10",children:l.jsx(hf,{})}),l.jsx("div",{className:"absolute top-4 left-4 z-10",children:l.jsx(nq,{children:(0,l.jsxs)(nW,{children:[l.jsx(nY,{asChild:!0,children:l.jsx(e7.z,{variant:"ghost",size:"icon",className:"rounded-full bg-black/30 text-white hover:bg-white/80",onClick:()=>e({title:"Coming Soon!",description:"Custom audio source support is coming in our next update."}),children:l.jsx(e9,{size:16})})}),l.jsx(n3,{children:l.jsx("p",{children:"Custom audio sources (Coming Soon)"})})]})})}),l.jsx("div",{className:"absolute top-4 left-4 w-36 h-36 rounded-lg overflow-hidden shadow-lg mt-10",children:l.jsx("img",{src:$.cover,alt:"Album cover",className:"w-full h-full object-cover"})}),(0,l.jsxs)("div",{className:"relative p-4 text-white",children:[l.jsx("h2",{className:"text-lg font-bold",children:$.name}),l.jsx("p",{className:"text-sm text-white/80",children:$.author})]})]}),l.jsx(u.aY,{className:"p-4",children:(0,l.jsxs)("div",{className:"space-y-4",children:[l.jsx(rr,{playbackState:Q,onPlayPause:G,onSeek:Z,onVolumeChange:e=>J(e[0]),volume:ee,showVolumeControl:!0}),(0,l.jsxs)("div",{className:"relative",children:[l.jsx(i7,{isEQEnabled:n,isSplitEarMode:r,unifiedBands:R,leftEarBands:D,rightEarBands:V,leftEarEnabled:m,rightEarEnabled:y,frequencyResponseData:en,onBandChange:(e,t,i,r="unified")=>{("left"!==r||m)&&("right"!==r||y)&&n&&("unified"===r?F(n=>n.map(n=>n.id===e?{...n,gain:void 0!==t?t:n.gain,Q:void 0!==i?i:n.Q}:n)):"left"===r?L(n=>n.map(n=>n.id===e?{...n,gain:void 0!==t?t:n.gain,Q:void 0!==i?i:n.Q}:n)):"right"===r&&z(n=>n.map(n=>n.id===e?{...n,gain:void 0!==t?t:n.gain,Q:void 0!==i?i:n.Q}:n)))},onFrequencyChange:(e,t,i)=>{("left"!==i||m)&&("right"!==i||y)&&n&&("unified"===i?F(n=>n.map(n=>n.id===e?{...n,frequency:t}:n)):"left"===i?L(n=>n.map(n=>n.id===e?{...n,frequency:t}:n)):"right"===i&&z(n=>n.map(n=>n.id===e?{...n,frequency:t}:n)))},height:140,allowXDragging:!0,allowYDragging:!0}),l.jsx(nq,{children:(0,l.jsxs)(nW,{children:[l.jsx(nY,{asChild:!0,children:l.jsx(e7.z,{size:"icon",variant:"ghost",className:"absolute top-2 right-2 h-7 w-7 rounded-full bg-black/20 text-white hover:bg-black/30",onClick:eo,children:l.jsx(te,{size:14})})}),l.jsx(n3,{children:l.jsx("p",{children:"Save current EQ as preset"})})]})})]}),l.jsx("div",{className:"relative right-1 text-xs text-gray-500 bg-white/80 px-2 z-10",children:"Double-click point to adjust Q"}),l.jsx(rj,{isEQEnabled:n,isSplitEarMode:r,splitEarConfig:P,leftEarEnabled:m,rightEarEnabled:y,onEQToggle:()=>{i(!n)},onSplitEarToggle:()=>{s(!r)},onLeftEarToggle:()=>{g(!m),K&&K.setLeftEarEnabled(!m)},onRightEarToggle:()=>{x(!y),K&&K.setRightEarEnabled(!y)},onBalanceChange:e=>{M(t=>({...t,balance:e[0]}))},onResetEQ:()=>{let t=v.flat;r?(es(t),ea(t),M(e=>({...e,balance:.5})),g(!0),x(!0)):er(t),e({title:"EQ Reset",description:"EQ settings have been reset to flat"})},activeTab:a,maxQValue:k,onMaxQValueChange:A,onTabChange:o,showCalibration:!0,onStartCalibration:()=>I(!0),onSavePreset:eo}),"eq"===a&&(0,l.jsxs)("div",{className:"mt-4 pt-2 border-t border-gray-100",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h3",{className:"text-sm font-medium",children:"Presets"}),l.jsx(hy,{})]}),!t&&Object.keys(b).length>0&&l.jsx(hx,{trigger:"presets"}),C?l.jsx("div",{className:"py-2",children:l.jsx("p",{className:"text-sm text-center text-muted-foreground",children:"Loading presets..."})}):r?l.jsx(uC,{builtInPresets:v,userPresets:b,splitEarConfig:P,onLeftEarPresetSelect:es,onRightEarPresetSelect:ea,onDeletePreset:eu,onSaveLeftEarPreset:()=>{Y("left"),f(`Left Ear EQ ${new Date().toLocaleDateString()}`),q("Custom left ear EQ settings"),h(!0)},onSaveRightEarPreset:()=>{Y("right"),f(`Right Ear EQ ${new Date().toLocaleDateString()}`),q("Custom right ear EQ settings"),h(!0)},showUserPresets:!0,showDeleteButton:!0,isEQEnabled:n,leftEarEnabled:m,rightEarEnabled:y}):l.jsx("div",{children:(0,l.jsxs)(rg.Tabs,{defaultValue:"standard",children:[(0,l.jsxs)(rg.TabsList,{className:"grid grid-cols-3 mb-3",children:[l.jsx(rg.TabsTrigger,{value:"standard",className:"text-xs",children:"Standard"}),(0,l.jsxs)(rg.TabsTrigger,{value:"tinnitus",className:"text-xs flex items-center gap-1",children:[l.jsx(tt,{className:"h-3 w-3"}),"Tinnitus"]}),l.jsx(rg.TabsTrigger,{value:"custom",className:"text-xs",children:"Custom"})]}),l.jsx(rg.TabsContent,{value:"standard",children:l.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.values(v).map(e=>{let t=T===e.id,n=e.color;return l.jsx(nq,{children:(0,l.jsxs)(nW,{children:[l.jsx(nY,{asChild:!0,children:l.jsx(e7.z,{className:"text-sm font-medium rounded-md shadow-sm transition-colors w-full h-auto py-2 justify-start",style:{backgroundColor:t?n.active.bg:n.inactive.bg,color:t?n.active.text:n.inactive.text,border:"none"},onClick:()=>er(e),children:(0,l.jsxs)("div",{className:"flex flex-col items-start",children:[l.jsx("span",{className:"font-medium",children:e.name}),(0,l.jsxs)("span",{className:"text-xs opacity-70",children:[e.description.slice(0,18),e.description.length>18?"...":""]})]})})}),l.jsx(n3,{side:"right",children:l.jsx("p",{children:e.description})})]})},e.id)})})}),l.jsx(rg.TabsContent,{value:"tinnitus",children:(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[Object.values(b).filter(e=>e.isCalibrated).map(e=>{let t=T===e.id,n=e.color;return(0,l.jsxs)(nq,{children:[(0,l.jsxs)(nW,{children:[l.jsx(nY,{asChild:!0,children:l.jsx(e7.z,{className:"text-sm font-medium rounded-md shadow-sm transition-colors w-full h-auto py-2 justify-start",style:{backgroundColor:t?n.active.bg:n.inactive.bg,color:t?n.active.text:n.inactive.text,border:"none"},onClick:()=>er(e),children:(0,l.jsxs)("div",{className:"flex flex-col items-start",children:[l.jsx("span",{className:"font-medium",children:e.name}),e.tinnitusCenterFreq&&l.jsx("span",{className:"text-xs opacity-70",children:e.tinnitusCenterFreq>=1e3?`${(e.tinnitusCenterFreq/1e3).toFixed(1)}kHz`:`${e.tinnitusCenterFreq.toFixed(0)}Hz`})]})})}),l.jsx(n3,{side:"right",children:(0,l.jsxs)("div",{className:"space-y-1 max-w-xs",children:[l.jsx("p",{className:"font-medium",children:e.name}),l.jsx("p",{className:"text-xs",children:e.description}),e.tinnitusCenterFreq&&(0,l.jsxs)("p",{className:"text-xs",children:["Calibrated for tinnitus at ",e.tinnitusCenterFreq.toFixed(0),"Hz"]})]})})]}),l.jsx("div",{className:"absolute -right-2 -top-2 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(e7.z,{variant:"ghost",size:"icon",className:"h-6 w-6 rounded-full bg-white shadow border border-gray-200",onClick:t=>{t.stopPropagation(),eu(e.id)},children:l.jsx(tn,{className:"h-3 w-3 text-red-500"})})})]},e.id)}),0===Object.values(b).filter(e=>e.isCalibrated).length&&(0,l.jsxs)("div",{className:"col-span-2 p-4 text-center text-muted-foreground bg-purple-50 rounded-md",children:[l.jsx(tt,{className:"h-5 w-5 mx-auto mb-2 text-purple-500"}),l.jsx("p",{className:"text-sm text-purple-700",children:"No tinnitus presets yet"}),l.jsx("p",{className:"text-xs mt-1 text-purple-600",children:"Use the calibration wizard to create a personalized tinnitus preset"}),(0,l.jsxs)(e7.z,{variant:"outline",size:"sm",className:"mt-3 text-purple-700 border-purple-300 hover:bg-purple-100",onClick:()=>I(!0),children:[l.jsx(tt,{className:"h-3 w-3 mr-1"}),"Start Calibration"]})]})]})}),l.jsx(rg.TabsContent,{value:"custom",children:(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[Object.values(b).filter(e=>!e.isCalibrated).map(e=>{let t=T===e.id,n=e.color;return(0,l.jsxs)("div",{className:"relative group",children:[l.jsx(nq,{children:(0,l.jsxs)(nW,{children:[l.jsx(nY,{asChild:!0,children:l.jsx(e7.z,{className:"text-sm font-medium rounded-md shadow-sm transition-colors w-full h-auto py-2 justify-start",style:{backgroundColor:t?n.active.bg:n.inactive.bg,color:t?n.active.text:n.inactive.text,border:"none"},onClick:()=>er(e),children:(0,l.jsxs)("div",{className:"flex flex-col items-start",children:[l.jsx("span",{className:"font-medium",children:e.name}),l.jsx("span",{className:"text-xs opacity-70",children:new Date(e.dateCreated).toLocaleDateString()})]})})}),l.jsx(n3,{side:"right",children:(0,l.jsxs)("div",{className:"space-y-1 max-w-xs",children:[l.jsx("p",{className:"font-medium",children:e.name}),l.jsx("p",{className:"text-xs",children:e.description})]})})]})}),l.jsx("div",{className:"absolute -right-2 -top-2 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(e7.z,{variant:"ghost",size:"icon",className:"h-6 w-6 rounded-full bg-white shadow border border-gray-200",onClick:t=>{t.stopPropagation(),eu(e.id)},children:l.jsx(tn,{className:"h-3 w-3 text-red-500"})})})]},e.id)}),0===Object.values(b).filter(e=>!e.isCalibrated).length&&(0,l.jsxs)("div",{className:"col-span-2 p-4 text-center text-muted-foreground bg-gray-50 rounded-md",children:[l.jsx(te,{className:"h-5 w-5 mx-auto mb-2 text-gray-400"}),l.jsx("p",{className:"text-sm",children:"No custom presets yet"}),l.jsx("p",{className:"text-xs mt-1",children:"Adjust the EQ and save your settings as a custom preset"}),(0,l.jsxs)(e7.z,{variant:"outline",size:"sm",className:"mt-3",onClick:eo,children:[l.jsx(te,{className:"h-3 w-3 mr-1"}),"Save Current EQ"]})]})]})})]})})]})]})}),l.jsx(eA,{open:B,onOpenChange:I,children:l.jsx(e6,{className:"max-w-xl p-0",children:l.jsx(uO,{onComplete:ec,onCancel:()=>I(!1)})})}),l.jsx(eA,{open:d,onOpenChange:h,children:l.jsx(e6,{className:"sm:max-w-md",children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center gap-4 pb-2",children:[l.jsx("div",{className:"p-3 rounded-full bg-blue-50 text-blue-600",children:l.jsx(te,{size:24})}),(0,l.jsxs)("div",{className:"text-center space-y-1",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Save Current EQ"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Save your current EQ settings as a custom preset"})]})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[l.jsx(n4._,{htmlFor:"preset-name",children:"Preset Name"}),l.jsx(n5.I,{id:"preset-name",value:p,onChange:e=>f(e.target.value),className:"w-full",autoFocus:!0}),l.jsx(n4._,{htmlFor:"preset-description",children:"Description"}),l.jsx(n5.I,{id:"preset-description",value:O,onChange:e=>q(e.target.value),className:"w-full",placeholder:"Enter a description for this preset"}),!t&&l.jsx(n8,{className:"bg-amber-50 text-amber-800 border-amber-200",children:l.jsx(n9,{className:"text-xs",children:"Sign in to sync your presets across devices"})})]}),(0,l.jsxs)("div",{className:"flex gap-2 justify-end",children:[l.jsx(e7.z,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),l.jsx(e7.z,{onClick:el,className:"bg-blue-600 hover:bg-blue-700",children:"Save Preset"})]})]})})})]})}},9304:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return r}});let i=n(7173);function r(e){let{reason:t,children:n}=e;throw new i.BailoutToCSRError(t)}},4146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return s}});let i=n(7247),r=n(4580);function s(e){let{moduleIds:t}=e,n=(0,r.getExpectedRequestStore)("next/dynamic css"),s=[];if(n.reactLoadableManifest&&t){let e=n.reactLoadableManifest;for(let n of t){if(!e[n])continue;let t=e[n].files.filter(e=>e.endsWith(".css"));s.push(...t)}}return 0===s.length?null:(0,i.jsx)(i.Fragment,{children:s.map(e=>(0,i.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:n.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},8462:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(2051),r=n(3074);let s=n.n(r)()(()=>n.e(484).then(n.bind(n,7484)),{loadableGenerated:{modules:["app/page.tsx -> @/components/music-player/PlayerContainer"]},ssr:!1});function a(){return(0,i.jsxs)("div",{className:"min-h-screen p-4 flex flex-col justify-center items-center bg-neutral-50",children:[i.jsx("header",{className:"w-full max-w-5xl flex justify-between items-center mb-8",children:i.jsx("h1",{className:"text-2xl font-bold",children:"Hearing Heroes"})}),i.jsx("main",{className:"flex-1 flex flex-col items-center justify-center w-full",children:i.jsx(s,{})}),i.jsx("footer",{className:"mt-8 text-center text-sm text-gray-500",children:(0,i.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," Hearing Heroes. All rights reserved."]})})]})}},3074:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let i=n(6484);n(2051),n(6269);let r=i._(n(6064));function s(e,t){var n;let i={loading:e=>{let{error:t,isLoading:n,pastDelay:i}=e;return null}};"function"==typeof e&&(i.loader=e);let s={...i,...t};return(0,r.default)({...s,modules:null==(n=s.loadableGenerated)?void 0:n.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6021:(e,t,n)=>{"use strict";let{createProxy:i}=n(5347);e.exports=i("/Users/lewisgoing/INFO-capstone-hearingheroes/node_modules/next/dist/shared/lib/lazy-dynamic/dynamic-bailout-to-csr.js")},6064:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let i=n(2051),r=n(6269),s=n(6021),a=n(633);function o(e){return{default:e&&"default"in e?e.default:e}}let l={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},c=function(e){let t={...l,...e},n=(0,r.lazy)(()=>t.loader().then(o)),c=t.loading;function u(e){let o=c?(0,i.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,l=t.ssr?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.PreloadCss,{moduleIds:t.modules}),(0,i.jsx)(n,{...e})]}):(0,i.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,i.jsx)(n,{...e})});return(0,i.jsx)(r.Suspense,{fallback:o,children:l})}return u.displayName="LoadableComponent",u}},633:(e,t,n)=>{"use strict";let{createProxy:i}=n(5347);e.exports=i("/Users/lewisgoing/INFO-capstone-hearingheroes/node_modules/next/dist/shared/lib/lazy-dynamic/preload-css.js")}};var t=require("../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),i=t.X(0,[787,717,269],()=>n(5921));module.exports=i})();